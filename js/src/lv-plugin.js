var eb="function"==typeof Object.defineProperties?Object.defineProperty:function(d,k,p){d!=Array.prototype&&d!=Object.prototype&&(d[k]=p.value)};function hb(d){d=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,d];for(var k=0;k<d.length;++k){var p=d[k];if(p&&p.Math==Math)return p}return globalThis}var ib=hb(this);
function jb(d,k){if(k){var p=ib;d=d.split(".");for(var h=0;h<d.length-1;h++){var t=d[h];t in p||(p[t]={});p=p[t]}d=d[d.length-1];h=p[d];k=k(h);k!=h&&null!=k&&eb(p,d,{configurable:!0,writable:!0,value:k})}}jb("Array.prototype.fill",function(d){return d?d:function(k,p,h){var t=this.length||0;0>p&&(p=Math.max(0,t+p));if(null==h||h>t)h=t;h=Number(h);0>h&&(h=Math.max(0,t+h));for(p=Number(p||0);p<h;p++)this[p]=k;return this}});
jb("Array.prototype.copyWithin",function(d){function k(p){p=Number(p);return Infinity===p||-Infinity===p?p:p|0}return d?d:function(p,h,t){var a=this.length;p=k(p);h=k(h);t=void 0===t?a:k(t);p=0>p?Math.max(a+p,0):Math.min(p,a);h=0>h?Math.max(a+h,0):Math.min(h,a);t=0>t?Math.max(a+t,0):Math.min(t,a);if(p<h)for(;h<t;)h in this?this[p++]=this[h++]:(delete this[p++],h++);else for(t=Math.min(t,a+h-p),p+=t-h;t>h;)--t in this?this[--p]=this[t]:delete this[--p];return this}});
window.LifeViewerLoaded||(window.LifeViewerLoaded=!0,function(){var d=null,k=null;window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.KL||performance.LL||performance.NL||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);
window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=
Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=Array);window.Uint32Array.prototype.fill?window.arrayFill=!0:(window.arrayFill=!1,window.Uint32Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=
function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=
p});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Float32Array.prototype.fill||(window.Float32Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=
function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Int32Array.prototype.slice?window.arraySlice=!0:(window.arraySlice=!1,window.Int32Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Int32Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Int16Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Int8Array.prototype.slice||
(window.Int8Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Int8Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Uint32Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Uint16Array.prototype.slice||(window.Uint16Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Uint16Array(t);for(h=0;h<
t;h+=1)a[h]=this[p+h];return a});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Uint8Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Uint8ClampedArray(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=
function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Float32Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Float64Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});k=new Uint32Array(1);k[0]=4660;d=new Uint8Array(k.buffer);window.littleEndian=52===d[0]?!0:!1;k.copyWithin?window.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(p,h,t){var a=
!1;void 0===t&&(t=this.length);var e=t-h;if(h!==p)if((p>=h&&p<=t||p+e>=h&&p+e<=t)&&p>h&&(a=!0),a)for(t=e-1;0<=t;--t)this[p+t]=this[h+t];else for(t=0;t<e;t+=1)this[p+t]=this[h+t];return this},window.copyWithin=!1);window.registerEvent=function(p,h,t,a){p.addEventListener?p.addEventListener(h,t,a):p.attachEvent("on"+h,t)}}(),function(){function d(h,t,a){this.type=h;this.name=a;this.elements=t;this.size=t*p.jp(h);this.Lo=1}function k(){this.Zg=[];this.Tn=this.Tq=this.Sn=this.Rq=0}var p={aw:8,bw:40,Zv:9,
$v:10,Mv:0,Kv:1,Lv:2,Ev:18,Fv:19,jp:function(h){return 1<<(h&7)},eL:function(h){var t=(0!==(h&16)?"Float":0!==(h&8)?"Uint":"Int")+8*(1<<(h&7));0!==(h&32)&&(t+="Clamped");return t}};k.prototype.yG=function(h){var t="";0<=h&&h<this.Zg.length&&(h=this.Zg[h],t=p.eL(h.type)+"\t"+h.elements+"\t"+h.name+"\t"+h.Lo);return t};k.prototype.j=function(h,t,a){for(var e=0,c=!1,g;e<this.Zg.length&&!c;)g=this.Zg[e],a===g.name?(c=!0,this.Tq+=1,this.Tn+=g.elements*p.jp(g.type)):e+=1;c?(this.Zg[e].type=h,this.Zg[e].elements=
t,this.Zg[e].Lo+=1,this.Zg[e].size=t*p.jp(h)):(e=this.Zg.length,this.Zg[e]=new d(h,t,a));this.Rq+=1;this.Sn+=t*p.jp(h)};k.prototype.VA=function(h,t,a,e,c){h=h.buffer;e*=p.jp(t);switch(t){case p.aw:a=new Uint8Array(h,e,a);break;case p.bw:a=new Uint8Array(h,e,a);break;case p.Zv:a=new Uint16Array(h,e,a);break;case p.$v:a=new Uint32Array(h,e,a);break;case p.Mv:a=new Int8Array(h,e,a);break;case p.Kv:a=new Int16Array(h,e,a);break;case p.Lv:a=new Int32Array(h,e,a);break;case p.Ev:a=new Float32Array(h,e,
a);break;case p.Fv:a=new Float64Array(h,e,a);break;default:a=null,alert("Illegal type specified to allocator.typedView for "+c+": "+t)}return a};k.prototype.A=function(h,t,a){switch(h){case p.aw:t=new Uint8Array(t);break;case p.bw:t=new Uint8Array(t);break;case p.Zv:t=new Uint16Array(t);break;case p.$v:t=new Uint32Array(t);break;case p.Mv:t=new Int8Array(t);break;case p.Kv:t=new Int16Array(t);break;case p.Lv:t=new Int32Array(t);break;case p.Ev:t=new Float32Array(t);break;case p.Fv:t=new Float64Array(t);
break;default:t=null,alert("Illegal type specified to allocator.typedMemory for "+a+": "+h)}return t};k.prototype.I=function(h,t,a){var e=null;0<t&&(e=this.A(h,t,a));(e||0===t)&&this.j(h,t,a);return e};k.prototype.xG=function(h,t,a,e){var c=null;0<t&&(c=this.A(h,t,a));(c||0===t)&&this.j(h,t*e,a);return c};Array.ea=function(h,t,a,e,c,g){var n=0,m=[];m.m=c;m.type=h;m.$a=null;var q=c.I(h,t*a,g);m.$a=q;if(0<a){for(;n<t;)m[n]=c.VA(q,h,a,n*a,g),n+=1;0!==e&&q.fill(e)}return m};Array.xp=function(h,t){t=h.m.xG(h.type,
h[0].length,t,h.length+1);h[h.length]=t};Array.yi=function(h,t){t.$a.set(h.$a)};Array.Ac=function(h,t,a){var e,c=t.length,g=[],n=t.m,m=t[0].length/p.jp(h);for(e=0;e<c;e+=1)g[e]=n.VA(t.$a,h,m,e*m,a);return g};Array.gy=function(h,t,a){var e,c=h.length,g=h.m,n=h.type,m=h[0].length;for(e=0;e<c;e+=1)g.VA(h.$a,n,m-t,e*m+t,a)};window.Allocator=k;window.Uint8=p.aw;window.Uint8Clamped=p.bw;window.Uint16=p.Zv;window.Uint32=p.$v;window.Int8=p.Mv;window.Int16=p.Kv;window.Int32=p.Lv;window.Float32=p.Ev;window.Float64=
p.Fv}(),function(){window.AliasManager={Ad:[],Uz:[],Ze:function(){var d;this.Ad=[];this.Uz=[];var k=this.Ad;var p=this.Uz;p.push("1D");k.push(["Wolfram 1D",""]);k.push(["Brownian motion","W54"]);k.push(["Fishing-net","W110"]);k.push(["Heavy triangles","W22"]);k.push(["Linear A","W90"]);k.push(["Linear B","W150"]);k.push(["Pascal's Triangle","W18"]);k.push(["Randomizer 1","W30"]);k.push(["Randomizer 2","W45"]);k.push(["Wolfram 22","W22"]);k.push(["Wolfram 30","W30"]);k.push(["Wolfram 110","W110"]);
p.push("Margolus");k.push(["Margolus",""]);k.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);k.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);k.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);k.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);k.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);k.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);k.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);k.push(["RotationsII",
"M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);k.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);k.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);k.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);k.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);k.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);k.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);k.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);p.push("PCA");
k.push(["PCA",""]);k.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);k.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);k.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);k.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);k.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);k.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);k.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);k.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);
k.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);k.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);k.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);k.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);k.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);k.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);p.push("OT vN");k.push(["Outer-Totalistic von Neumann",""]);k.push(["Fredkin2","B13/S024V"]);k.push(["Parity","B13/S13V"]);
p.push("OT Hex");k.push(["Outer-Totalistic Hex",""]);k.push(["HexParity","B135/S0246H"]);k.push(["Hexagonal Life","B2/S34H"]);k.push(["HighHexLife","B25/S34H"]);k.push(["Replicator Hex","B135/S135H"]);p.push("OT M");k.push(["Outer-Totalistic Moore",""]);k.push(["","B3/S23"]);k.push(["2x2","B36/S125"]);k.push(["2x2 2","B3678/S1258"]);k.push(["34 Life","B34/S34"]);k.push(["3-4 Life","B34/S34"]);k.push(["Amoeba","B357/S1358"]);k.push(["Anneal","B4678/S35678"]);k.push(["AntiLife","B0123478/S01234678"]);
k.push(["Assimilation","B345/S4567"]);k.push(["Bacteria","B34/S456"]);k.push(["Blinkers","B345/S2"]);k.push(["Bugs","B3567/S15678"]);k.push(["Castles","B3678/S135678"]);k.push(["Cheerios","B35678/S34567"]);k.push(["Christmas Life","B1/S012345678"]);k.push(["Coagulations","B378/S235678"]);k.push(["Conway's Game of Life","B3/S23"]);k.push(["Conway's Life","B3/S23"]);k.push(["Coral","B3/S45678"]);k.push(["Corrosion of Conformity","B3/S124"]);k.push(["Dance","B34/S35"]);k.push(["Day & Night","B3678/S34678"]);
k.push(["Day and Night","B3678/S34678"]);k.push(["Diamoeba","B35678/S5678"]);k.push(["DotLife","B3/S023"]);k.push(["DrighLife","B367/S23"]);k.push(["DryFlock","B37/S12"]);k.push(["DryLife","B37/S23"]);k.push(["DryLife without Death","B37/S012345678"]);k.push(["EightFlock","B3/S128"]);k.push(["EightLife","B3/S238"]);k.push(["Electrified Maze","B45/S12345"]);k.push(["Eppstein","B35/S236"]);k.push(["Feux","B1358/S0247"]);k.push(["Flakes","B3/S012345678"]);k.push(["Flock","B3/S12"]);k.push(["Forest of Ls",
"B168/S236"]);k.push(["Fredkin","B1357/S02468"]);k.push(["Fuzz","B1/S014567"]);k.push(["Gems Minor","B34578/S456"]);k.push(["Gems","B3457/S4568"]);k.push(["Geology","B3578/S24678"]);k.push(["Gnarl","B1/S1"]);k.push(["H-Trees","B1/S012345678"]);k.push(["HighFlock","B36/S12"]);k.push(["HighLife","B36/S23"]);k.push(["HighLife without Death","B36/S012345678"]);k.push(["Holstein","B35678/S4678"]);k.push(["HoneyFlock","B38/S128"]);k.push(["HoneyLife","B38/S238"]);k.push(["Iceballs","B25678/S5678"]);k.push(["InverseLife",
"B012345678/S34678"]);k.push(["Invertamaze","B028/S0124"]);k.push(["IronFlock","B36/S128"]);k.push(["IronLife","B36/S238"]);k.push(["Land Rush","B36/S234578"]);k.push(["Life SkyHigh","B368/S236"]);k.push(["Life without Death","B3/S012345678"]);k.push(["Life","B3/S23"]);k.push(["Live Free or Die","B2/S0"]);k.push(["Logarithmic replicator rule","B36/S245"]);k.push(["LongLife","B345/S5"]);k.push(["Long Life","B345/S5"]);k.push(["LowDeath without death","B368/S012345678"]);k.push(["LowDeath","B368/S238"]);
k.push(["LowFlockDeath","B368/S128"]);k.push(["LowLife","B3/S13"]);k.push(["Majority","B45678/S5678"]);k.push(["Maze","B3/S12345"]);k.push(["Maze with Mice","B37/S12345"]);k.push(["Mazectric","B3/S1234"]);k.push(["Mazectric with Mice","B37/S1234"]);k.push(["Morley","B368/S245"]);k.push(["Move","B368/S245"]);k.push(["Neon Blobs","B08/S4"]);k.push(["Never happy","B345/S0456"]);k.push(["Oscillators Rule","B45/S1235"]);k.push(["Pedestrian Flock","B38/S12"]);k.push(["Pedestrian Life","B38/S23"]);k.push(["Pedestrian Life without Death",
"B38/S012345678"]);k.push(["Persian Rug","B234/S"]);k.push(["Plow World","B378/S012345678"]);k.push(["Pseudo Life","B357/S238"]);k.push(["Pulsar Life","B3/S238"]);k.push(["Replicator","B1357/S1357"]);k.push(["Replicator 2","B1357/S02468"]);k.push(["Rings 'n' Slugs","B56/S14568"]);k.push(["Seeds","B2/S"]);k.push(["Serviettes","B234/S"]);k.push(["Shoots and Roots","B3/S245678"]);k.push(["Slow Blob","B367/S125678"]);k.push(["Snakeskin","B1/S134567"]);k.push(["Solid islands grow amongst static","B12678/S15678"]);
k.push(["SnowLife","B3/S1237"]);k.push(["Stains","B3678/S235678"]);k.push(["Star Trek","B3/S0248"]);k.push(["Virus","B36/S235"]);k.push(["Vote","B5678/S45678"]);k.push(["Vote 4/5","B4678/S35678"]);k.push(["Walled Cities","B45678/S2345"]);p.push("OT Tri");k.push(["Outer-Totalistic Triangular",""]);k.push(["Rule 1246","B456/S12L"]);k.push(["Life 2333","B3/S23L"]);k.push(["Life 2345","B45/S23L"]);k.push(["Life 2346","B456/S23L"]);k.push(["Life 3445","B45/S34L"]);k.push(["Life 3446","B456/S34L"]);k.push(["Rule 3544",
"B4/S345L"]);k.push(["Life 4546","B456/S45L"]);k.push(["Life 4644","B4/S456L"]);p.push("OT M G");k.push(["Outer-Totalistic Generations Moore",""]);k.push(["9:43 at Knight","237/34578/4"]);k.push(["Banners","2367/3457/5"]);k.push(["BelZhab","23/23/8"]);k.push(["BelZhab Sediment","145678/23/8"]);k.push(["Bloomerang","234/34678/24"]);k.push(["Bombers","345/24/25"]);k.push(["Brain 5","/2/5"]);k.push(["Brain 6","6/246/3"]);k.push(["Brian's Brain","/2/3"]);k.push(["Burst","0235678/3468/9"]);k.push(["BurstII",
"235678/3468/9"]);k.push(["Caterpillars","124567/378/4"]);k.push(["Chenille","05678/24567/6"]);k.push(["Circuit Genesis","2345/1234/8"]);k.push(["Constellations","/23/3"]);k.push(["Cooties","23/2/8"]);k.push(["Diamonds and Spaceships","34578/257/16"]);k.push(["Ebb&Flow","012478/36/18"]);k.push(["Ebb&Flow II","012468/37/18"]);k.push(["Faders","2/2/25"]);k.push(["Fireballs","346/2/4"]);k.push(["Fireworks","2/13/21"]);k.push(["Flaming Starbows","347/23/8"]);k.push(["Free Star","0345/2/10"]);k.push(["Frogs",
"12/34/3"]);k.push(["Frozen spirals","356/23/6"]);k.push(["Glisserati","035678/245678/7"]);k.push(["Glissergy","035678/245678/5"]);k.push(["Lava","12345/45678/8"]);k.push(["Lines","012345/458/3"]);k.push(["LivingOn TheEdge","345/3/6"]);k.push(["Meteor Guns","01245678/3/8"]);k.push(["Nova","45678/2478/25"]);k.push(["OrthoGo","3/2/4"]);k.push(["Prairie on fire","345/34/6"]);k.push(["RainZha","2/23/8"]);k.push(["Rake","3467/2678/6"]);k.push(["SediMental","45678/25678/4"]);k.push(["Snake","03467/25/6"]);
k.push(["SoftFreeze","13458/38/6"]);k.push(["Spirals","2/234/5"]);k.push(["Star Wars","345/2/4"]);k.push(["Sticks","3456/2/6"]);k.push(["Swirl","23/34/8"]);k.push(["Tadpoles","0125678/345678/64"]);k.push(["ThrillGrill","1234/34/48"]);k.push(["Transers","345/26/5"]);k.push(["TransersII","0345/26/6"]);k.push(["Transers 2","0345/26/6"]);k.push(["Transers 3","0345/26/7"]);k.push(["Wallplicators","345/25678/7"]);k.push(["Wanderers","345/34678/5"]);k.push(["Worms","3467/25/6"]);k.push(["Xtasy","1456/2356/16"]);
p.push("INT Hex");k.push(["Isotropic Non-Totalistic Hex",""]);k.push(["Hex Life","B2o3m56/S2-p4oH"]);k.push(["22da","B2/S2-mH"]);k.push(["Hexrule b2o","B2o/S2m34H"]);p.push("INT M");k.push(["Isotropic Non-Totalistic Moore",""]);k.push(["15Life","B34r/S23-q4et"]);k.push(["104life","B34ky5cy/S23-a4ity6c7"]);k.push(["22k","B2-k/S2-k"]);k.push(["2diagonal","B2n3/S23"]);k.push(["2xpand2","B3/S123eik4ce"]);k.push(["3x3","B35cky68/S0245-c6n"]);k.push(["38life","B35y/S2-n35k6ci"]);k.push(["4diagonal","B34c/S23"]);
k.push(["4life","B34jy/S23"]);k.push(["4life2","B34j/S23"]);k.push(["57life","B34tyz5cy/S23-a4it5ej"]);k.push(["acnelife","B34/S2eik3"]);k.push(["aLife","B3/S234iw"]);k.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);k.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);k.push(["Artillery","B3-y7/S2-i3-c4kqt"]);k.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);k.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);k.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);k.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);
k.push(["Beaecsizae","B34ce/S12-a3"]);k.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);k.push(["Best Friends","B2ce3aiy/S12aei3r"]);k.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);k.push(["Billiard","B36-e/S12345"]);k.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);k.push(["blockandglider","B3/S234cw7c"]);k.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);k.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);k.push(["bpuff","B3/S23-cky4k7e8"]);k.push(["Breps",
"B34cqy5c/S23-y4y"]);k.push(["Breps-2","B3aeijn4n8/S234iqz"]);k.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);k.push(["Bubbles","B3ai4-a/S23"]);k.push(["Butterfly","B2i34e6i7c/S2-i36n"]);k.push(["butterflyb7","B2i34e6i7/S2-i36n"]);k.push(["Buzz","B2i35-n/S2-ci36k8"]);k.push(["CapLife","B36c/S23"]);k.push(["CarrierLife","B2e3aceik/S23"]);k.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);k.push(["CB2","B2ae4i/S1e2in"]);k.push(["cetlife","B34cet/S234jkwyz"]);k.push(["Clouds","B2e3aceij/S23-a4"]);
k.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);k.push(["CommonRepl","B3/S23-ac4eiy6"]);k.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);k.push(["Conway++","B3/S234c"]);k.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);k.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);k.push(["Conway--","B3/S2-ei3"]);k.push(["crawl","B37e/S2-i34y8"]);k.push(["Creperie","B2ikn3aijn/S23-ckqy"]);k.push(["CrossLife","B3/S234et"]);k.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);k.push(["Diamoeral",
"B2n3ai4a78/S35678"]);k.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);k.push(["DLife","B3-n/S23"]);k.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);k.push(["dolife2","B2-a3acei4ceqz5y/S234ce5ceky78"]);k.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);k.push(["Dry15Life","B34r7/S23-q4et"]);k.push(["DryGoats","B2in37/S123a"]);k.push(["Dustclouds01","B2ce3-ai/S01"]);k.push(["EasyHighLife","B36-i/S23"]);k.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);k.push(["Eatsplosion IV",
"B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);k.push(["EightGoats","B2in3/S123a8"]);k.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8b2ein3cijn4cnrwy5cnq6es1c2-ai3acny4anqy5c6ek8"]);k.push(["ElectrumLife","B367c/S2-i34q"]);k.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);k.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);k.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);k.push(["FalseB5","B35ce/S234jqtyz6k8"]);k.push(["FattyLife","B3-n4nt5qr6i/S23"]);k.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);
k.push(["FlashLife","B2kn3-n4e/S23"]);k.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);k.push(["Flying Life","B3-k5r/S236n7e"]);k.push(["FogLife","B35eq7/S2-i34q"]);k.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);k.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);k.push(["GlideLife","B34ek5ak/S2-c34z"]);k.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);k.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);k.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);
k.push(["glife","B3/S237c"]);k.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);k.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);k.push(["Goat Flock","B2in3/S123a"]);k.push(["Goats","B2in3/S123a"]);k.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);k.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);k.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);k.push(["guntlife","B35j6a/S2-i34q"]);k.push(["Half as Interesting","B2ce3i/S23"]);k.push(["hassl8life","B34k5e7c/S23-a4iyz"]);
k.push(["hatlife","B35y/S23"]);k.push(["hedgehog","B3/S1c2-a35r6i"]);k.push(["HeptaFish","B3-e4i5i/S234e"]);k.push(["High15Life","B34r6/S23-q4et"]);k.push(["HighGoats","B2in36/S123a"]);k.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);k.push(["hlife","B3/S234ce6k"]);k.push(["hlife2","B3/S2-in34nr"]);k.push(["hlife3","B3/S2-in34iw"]);k.push(["HoneyGoats","B2in38/S123a8"]);k.push(["HouseLife","B2i3/S23-r"]);k.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);k.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);
k.push(["ilife","B3/S235i"]);k.push(["Immortalife","B3-cqy4j/S2-n34i"]);k.push(["IneticLife","B2-an3-k/S2ac"]);k.push(["IronGoats","B2in36/S123a8"]);k.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);k.push(["Just Friends","B2-a/S12"]);k.push(["Kgdm","B3/S2-c3-en4ceitz"]);k.push(["KineticLife","B2-an3/S2ac"]);k.push(["klife","B34n/S23"]);k.push(["Knyght","B2e3/S23-jq"]);k.push(["ktlife","B3/S2-i34nq"]);k.push(["LambdaLife","B3-k/S2-i3-k4cen"]);k.push(["LifeWithoutGliders","B35n/S23"]);
k.push(["Linea","B2-a3-i/S23-a"]);k.push(["LoafLife","B2n3-q/S23"]);k.push(["longlast","B3/S234ce8"]);k.push(["lotsofdots","B2ikn34e/S023-a4ce"]);k.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);k.push(["maze2","B3/S234-acew"]);k.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);k.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);k.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);k.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);k.push(["MoveIt","B368/S23cy45-j6n"]);k.push(["movetub","B34e68/S245"]);
k.push(["movev","B35y68/S245"]);k.push(["Movostill","B2i3acijk6i/S23-a4"]);k.push(["Movostill 2","B3acijk/S23-a4"]);k.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);k.push(["MuddyLife","B3/S234k"]);k.push(["nonlife","B3-n/S234iz"]);k.push(["notlife","B3-q7c/S2-i3-q4q"]);k.push(["notlife (Wright)","B2k3-k/S23-a"]);k.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);k.push(["olife","B2in3/S2-in3"]);k.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);k.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);
k.push(["Particles","B2ce3i/S1c2cek"]);k.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);k.push(["Pedestrian Goats","B2in38/S123a"]);k.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);k.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);k.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);k.push(["Pi-plicator","B3-ckq/S2-c34ci"]);k.push(["PiLife","B37e/S23"]);k.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);k.push(["plife","B35j/S2-i3"]);k.push(["plife2","B35j6i/S2-i3"]);k.push(["PondLife","B36i/S2-i35i"]);
k.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);k.push(["Prismatika Crystallios","B2ae3r/S1e"]);k.push(["PlasmaLife","B34-air/S234-air"]);k.push(["Puffers","B3-nqr6/S235-nqr"]);k.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);k.push(["qlife","B3-q/S23"]);k.push(["quadraticlife","B34j/S23"]);k.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);k.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);k.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);k.push(["replife","B34jy6n/S2-i3"]);
k.push(["reptlife","B36-k/S2-i34q"]);k.push(["rgun","B34t/S2-i35a7e"]);k.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);k.push(["RustyLife","B34-ai/S24-air5-a"]);k.push(["Salad","B2i34c/S2-i3"]);k.push(["Savanna","B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);k.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);k.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);k.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);k.push(["SilverLife","B367/S2-i34q"]);k.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);
k.push(["SLHassleLife","B3-y5cr/S234w6n"]);k.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);k.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);k.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);k.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);k.push(["snotlife","B2k3-kn/S23"]);k.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);k.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);k.push(["SparkLife","B36i/S234j"]);k.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);k.push(["StairWorld",
"B2-a3i4aijk/S2a3-i4"]);k.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);k.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);k.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);k.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);k.push(["t4life","B34jy/S2-i3"]);k.push(["TableLife","B3/S23-ai4anq6n"]);k.push(["TauLife","B3-nr/S2-i34-aij"]);k.push(["tceclife","B36ce7c/S2-i34q"]);k.push(["tDryFlock","B37/S12-i4q"]);
k.push(["tDryLife","B37/S2-i34q"]);k.push(["TearfulLife","B34e5c6n/S23-q"]);k.push(["tEightLife","B3/S2-i34q8"]);k.push(["testlife","B36a/S23"]);k.push(["tflock","B3/S12-i4q"]);k.push(["tHighFlock","B36/S12-i4q"]);k.push(["tHighLife","B36/S2-i34q"]);k.push(["ThisLife","B36i/S23-ce5q"]);k.push(["tlife","B3/S2-i34q"]);k.push(["tosc","B3/S234wz"]);k.push(["tosc2","B36in/S234cw"]);k.push(["tPedestrianFlock","B38/S12-i4q"]);k.push(["tPedestrianLife","B38/S2-i34q"]);k.push(["tq6","B2i34e/S023-a4ce"]);k.push(["Train",
"B34t6k8/S2-i35a7e"]);k.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);k.push(["triship","B2a3e/S012-ai3-i45-i678"]);k.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);k.push(["Turro","B2-a3c/S12-i"]);k.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);k.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);k.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);k.push(["Virus_v2","B3-nqr6/S235"]);k.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);k.push(["WetLife",
"B34r/S23"]);k.push(["Whichlife","B2in3aeijn/S234e"]);k.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);k.push(["wlife","B34w/S23"]);k.push(["Worms 0","B01c2n5a/S3a5i"]);k.push(["WSScentral","B3-n45qr6i/S2eik3"]);k.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);k.push(["xtdbee","B3-k/S23"]);k.push(["xvaLifeg","B2e3/S23"]);k.push(["Ylife","B2e3ai4ar/S23-a4a"]);k.push(["zigzag","B3/S2-k34q"]);k.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);p.push("INT M G");
k.push(["Isotropic Non-Totalistic Generations Moore",""]);k.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);k.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);k.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);p.push("LtL M");k.push(["Larger than Life Moore",""]);k.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);k.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);k.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);k.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);k.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);
k.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);k.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);k.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);k.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);k.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);k.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);k.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);k.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);k.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);
k.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);k.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);k.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);k.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);k.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);k.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);k.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);k.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);k.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);k.push(["Rasta Bugs",
"R5,C2,M1,S41..59,B32..50,NM"]);k.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);k.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);k.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);k.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);k.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);k.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);p.push("LtL M G");k.push(["Generations Larger than Life Moore",""]);k.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);k.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);
k.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);p.push("HROT vN");k.push(["Higher-Range Outer-Totalistic von Neumann",""]);k.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);k.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);p.push("HROT M");k.push(["Higher-Range Outer-Totalistic Moore",""]);k.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);k.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
k.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);k.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);k.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
k.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);p.push("MAP NINT");k.push(["MAP Non-Isotropic",""]);k.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);k.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
k.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);k.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);k.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);k.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);k.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);
k.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);k.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);k.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);k.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);k.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);
p.push("Alt OT M");k.push(["Alternating Outer-Totalistic Moore",""]);k.push(["alternlife","B13/S012345678|B/S15"]);k.push(["comb395","B3/S1237|B2/S"]);k.push(["comb625","B3/S348|B2/S356"]);k.push(["Dotlesslife","B3/S23|B/S12345678"]);k.push(["Fizzler","B13/S3|B/S345678"]);k.push(["Jelly","B3/S135|B2/S5"]);k.push(["Phoenix","B24/S|B35/S"]);p.push("Alt INT M");k.push(["Alternating Non-Totalistic Moore",""]);k.push(["SparklessLife","B3/S23|B/S1c2345678"]);k.push(["Unidim1","B134578/S02345678|B6i7/S268"]);
k.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);k.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.Ad[0][2]=!1;for(p=1;p<this.Ad.length;p+=1)for(k=this.Ad[p][1],this.Ad[p][2]=!1,d=0;d<p;d+=1)this.Ad[d][1]===k&&(this.Ad[d][2]=!0,this.Ad[p][2]=!0,d=p)},BC:function(d){for(var k=null,p=0;p<this.Ad.length&&null===k;)""!==this.Ad[p][1]&&this.Ad[p][0]===d&&(k=this.Ad[p][1]),p+=1;if(!k)for(d=d.toLowerCase(),p=0;p<this.Ad.length&&null===k;)""!==this.Ad[p][1]&&this.Ad[p][0].toLowerCase()===d&&(k=
this.Ad[p][1]),p+=1;return k},gq:function(d){for(var k=null,p=0;p<this.Ad.length&&null===k;)""!==this.Ad[p][1]&&this.Ad[p][1]===d&&(k=this.Ad[p][0]),p+=1;return k}}}(),function(){function d(c,g,n,m,q){this.s=q;this.Ma=c;this.Pa=g;this.tb=n;this.message="";this.fa=c;this.na=g;this.hb=n;this.Jj="";this.K=this.A=!1;this.context=m;this.cb=!1;this.Ba=this.W=0;this.vg="rgb(32,255,255)";this.wE="white";this.j=0;this.animate=!1;this.ec=this.mc="black";this.enabled=!1;this.scale=1}function k(c,g,n,m){this.name=
c;this.width=g;this.height=n;this.Lo=m}function p(c,g){this.context=g;this.K=c;this.height=this.width=0;this.na=this.fa=this.A=this.j=null;this.W=[];this.Cu=!0;this.Cz=-1;this.IC=0;this.Ze=!1;this.scale=1}function h(c,g,n,m,q,u,x,y,v,B,b,l,f,r,w,z,A,C,D,E){this.id=c;this.A=E;this.w="";this.Ml=-1;this.c=this.ut=!1;this.Cb=g;this.caller=n;this.icon=D;this.x=q;this.y=u;this.km=q;this.j=u;this.position=m;this.width=x;this.height=y;this.ur=x;this.Ez=y;this.border=r;this.type=l;f===e.tw?this.orientation=
x>=y?e.Ce:e.vertical:this.orientation=f;this.Mr=this.orientation;this.lower=v;this.upper=B;l===e.ed?this.current=[b,b]:this.current=b;this.aB=w;this.Oa=z;this.oz=A;this.fixed=C;this.Jt=!1;this.$C=this.ZC=-1;this.textAlign=e.SB;this.enabled=!0;this.locked=!1;this.Ag=[];if(this.type===e.list)for(c=0;c<v.length;c+=1)this.Ag[c]=!1;this.Sr=[];this.bu=0;this.zI=!1;this.Nc=E.Nc;this.ye=E.ye;if(l===e.list)for(this.Km=[],c=0;c<v.length;c+=1)this.Km[c]=this.Nc;this.Kf=E.Kf;this.dg=E.dg;this.Sh=E.Sh;this.rk=
E.rk;this.nm=E.nm;this.Hn=E.Hn;this.Bg=E.Bg;this.Bj=E.Bj;this.Gh=E.Gh;this.ck=E.ck;this.border=E.border;this.fontSize=parseInt(E.hk.substr(0,E.hk.indexOf("px")),10);this.fontFamily=E.hk.substr(E.hk.indexOf("px")+3)}function t(c,g,n,m,q,u){this.P=c;this.context=q;this.Bh=this.ff=1;this.hk=u;this.locked=this.c=!1;this.Fj=this.jh=-1;this.Nm=this.Pc=!1;this.fa=6;this.Cb=g;this.ne=[];this.Bc=0;this.Nc="";this.ye=0;this.Kf="";this.dg=0;this.Sh="";this.rk=0;this.nm="";this.Hn=0;this.Bg="";this.Bj=0;this.Gh=
"";this.border=this.ck=0;this.A=e.tw;this.Xl=this.hl=-1;this.ex=this.lB=null;this.ks=n;this.caller=m;this.O=null;this.Lw=this.Ls=this.K="auto"}function a(c,g,n,m,q,u){var x=this,y=0;this.ef=1;this.Kx=this.pz=!0;this.Ma=this.Pa=40;this.cL=50;this.aj=0;this.W=this.fa=this.Ba=-1;this.wn=!1;this.caller=q;this.$i=this.jb=this.Bk=this.Ic=!1;this.se=4;this.yC=u;this.hasFocus=this.Ew=!1;this.Dp=!0;this.$r=!1;this.Em=1;this.Nc="black";this.ye=.7;this.Kf="white";this.dg=1;this.Sh="rgb(0,240,32)";this.rk=.7;
this.nm="blue";this.Hn=.7;this.Bg="grey";this.Bj=1;this.Gh="rgb(32,255,255)";this.border=this.ck=1;this.RB=function(v){return function(){v.mc(v)}}(this);this.O=m;this.Oc=c;this.vc=g;this.Pc=!1;this.Ak=this.zk=-1;this.Fl=!1;this.bh=-1;this.xc=null;this.hk=n;this.pm=this.Ok=!1;this.Kt=performance.now();this.vn=5;this.Rr=0;this.ay=[];this.ey=[];this.$x=[];for(y=0;5>y;y+=1)this.ay[y]=0,this.ey[y]=0,this.$x[y]=0;this.Nq=null;this.wh=!1;this.notification=new d(25,100,25,g,this);this.by=performance.now();
this.Nm=this.$A=!1;this.K=[];this.j=this.A=0;registerEvent(c,"mousedown",function(v){x.cb(x,v)},!1);registerEvent(c,"mousemove",function(v){x.hb(x,v)},!1);registerEvent(c,"mouseup",function(v){x.ec(x,v)},!1);registerEvent(c,"mouseover",function(v){x.Hb(x,v)},!1);registerEvent(c,"mouseout",function(v){x.tb(x,v)},!1);registerEvent(c,"touchstart",function(v){x.na(x,v)},!1);registerEvent(c,"touchmove",function(v){x.na(x,v)},!1);registerEvent(c,"touchend",function(v){x.na(x,v)},!1);registerEvent(c,"touchcancel",
function(v){x.na(x,v)},!1)}d.prototype.Wm=function(){var c=!1;if(""!==this.message||""!==this.Jj)c=!0;return c};d.prototype.clear=function(c,g){c?""!==this.Jj&&(g||this.K?(this.Jj="",this.K=!1):(this.Ba=performance.now()-(this.fa+this.na),this.K=!0)):""!==this.message&&(g||this.A?(this.A=!1,this.message=""):(this.W=performance.now()-(this.Ma+this.Pa),this.A=!0))};d.prototype.L=function(c,g,n){this.enabled&&(n?this.Jj!==c&&(this.Jj=c,this.fa=240,this.na=16*g,this.hb=240,this.Ba=performance.now(),this.K=
!1,this.j=0,this.animate=!1):(this.message=c,this.Ma=240,this.Pa=16*g,this.tb=240,this.W=performance.now(),this.A=!1))};d.prototype.Xm=function(c,g,n){var m=this.context.measureText(c).width>>1;if(this.cb){this.context.fillStyle=this.ec;var q=this.context.globalAlpha;this.context.globalAlpha=.5*q;this.context.fillRect(-m-20,-n,2*m+40,2*n);this.context.globalAlpha=q}this.context.fillStyle=this.mc;this.context.fillText(c,-m+2,2);g?this.animate?(this.context.fillStyle=128>this.j?"rgb("+2*this.j+","+
2*this.j+",255)":"rgb("+2*(256-this.j)+","+2*(256-this.j)+",255)",this.j=this.j+4&255):this.context.fillStyle=this.wE:this.context.fillStyle=this.vg;this.context.fillText(c,-m,0)};d.prototype.Hb=function(c,g,n,m,q,u,x){var y=30*this.scale,v=32*this.scale,B=this.s.se,b=60*this.scale,l=!0;this.s.Ic?(b=0,u=this.context.canvas.height/2,this.cb=!0):this.cb=!1;""!==c&&(l=!1,q=performance.now()-q,this.context.save(),this.s.jb&&(x?(b=0,u=this.context.canvas.height/2):(y/=B,v=v/B|0,u=u/B|0,b=b/B|0)),this.context.font=
(y|0)+"px Arial",this.context.translate(this.context.canvas.width/2-1,b+u),q<=g?(u=q/g,u*=u,this.context.globalAlpha=u,this.context.scale(u,u)):q>g+n&&q<=g+n+m&&(u=(m-(q-(g+n)))/m,u*=u,this.context.globalAlpha=u,this.context.scale(u,u)),q>g+n+m?l=!0:(g=c.indexOf("\\n"),-1===g?this.Xm(c,x,v):(this.Xm(c.substr(0,g),x,v),this.context.translate(0,v),this.Xm(c.substr(g+2),x,v))),this.context.restore());return l};d.prototype.update=function(){var c=this.s.xc.Bh;this.Hb(this.message,this.Ma,this.Pa,this.tb,
this.W,81*c,!1)&&(this.message="");this.s.jb&&"Expand"!==this.Jj&&"Launch"!==this.Jj||!this.Hb(this.Jj,this.fa,this.na,this.hb,this.Ba,45*c,!0)||(this.Jj="")};p.prototype.IK=function(c){this.scale=c};p.prototype.Xm=function(c,g,n,m){var q;if(0<this.K.width){this.Ze||(this.width=this.K.width,this.height=this.K.height,this.j=document.createElement("canvas"),this.j.width=this.width,this.j.height=this.height,this.A=this.j.getContext("2d"),this.fa=new Image,this.na=new Image);if(this.Cu){this.A.drawImage(this.K,
0,0);var u=this.A.getImageData(0,0,this.j.width,this.j.height);var x=new Uint32Array(u.data.buffer);for(q=0;q<x.length;q+=1)4294967295===x[q]&&(x[q]=this.IC);this.A.putImageData(u,0,0);this.na.src=this.j.toDataURL("image/png");this.A.drawImage(this.K,0,0);u=this.A.getImageData(0,0,this.j.width,this.j.height);x=new Uint32Array(u.data.buffer);for(q=0;q<x.length;q+=1)4294967295===x[q]&&(x[q]=this.Cz);this.A.putImageData(u,0,0);this.Ze=this.Cu=!1}this.Ze||(this.fa.src=this.j.toDataURL("image/png"),this.Ze=
!0);1!==this.scale&&(this.context.save(),this.context.translate(g,n),this.context.scale(this.scale,this.scale),this.context.imageSmoothingEnabled=!0,n=g=0);m?this.context.drawImage(this.na,c.Lo*c.width,0,c.width,c.height,g,n,c.width,c.height):this.context.drawImage(this.fa,c.Lo*c.width,0,c.width,c.height,g,n,c.width,c.height);1!==this.scale&&(this.context.restore(),this.context.imageSmoothingEnabled=!1)}};p.prototype.length=function(){return this.W.length};p.prototype.icon=function(c){var g,n=this.W,
m=this.length(),q=null;for(g=0;g<m&&!q;)n[g].name===c?q=n[g]:g+=1;return q};p.prototype.add=function(c,g,n){var m=this.W.length;c=new k(c,g,n,m);this.W[m]=c};var e={tw:0,Ce:1,vertical:2,ed:0,button:1,toggle:2,Og:3,list:4,label:5,rm:0,Ja:1,left:0,SB:1,right:2,ka:0,nc:1,kx:2,ib:3,mp:4,Wi:5,pB:6,od:7,Db:8};h.prototype.bg=function(c){!this.c&&c&&(this.c=!0)};h.prototype.Qa=function(c){this.fontSize=parseInt(c.substr(0,c.indexOf("px")),10);this.fontFamily=c.substr(c.indexOf("px")+3)};h.prototype.Br=function(c,
g,n,m,q,u){this.Kf=c;this.Nc=g;this.Sh=n;this.nm=m;this.Bg=q;this.Gh=u;if(this.type===e.list)for(this.Km=[],c=0;c<this.lower.length;c+=1)this.Km[c]=this.Nc};h.prototype.Nj=function(c){this.ur=c};h.prototype.CK=function(c){this.Ez=c};h.prototype.Jn=function(c){this.km=c};h.prototype.OK=function(c){this.j=c};h.prototype.setPosition=function(c,g,n){this.position=c;this.km=g;this.j=n};h.prototype.MG=function(c,g){var n=this.A.ff,m=this.A.Bh,q=this.km*n,u=this.j*m;n=this.ur*n;m=this.Ez*m;this.x=q;this.y=
u;this.width=n;this.height=m;switch(this.position){case e.ka:this.x=(c-n>>1)+q;break;case e.nc:this.x=c+q;break;case e.kx:this.y=(g-m>>1)+u;this.x=c+q;break;case e.ib:this.x=c+q;this.y=g+u;break;case e.mp:this.x=(c-n>>1)+q;this.y=g+u;break;case e.Wi:this.y=g+u;break;case e.pB:this.y=(g-m>>1)+u;break;case e.Db:this.x=(c-n>>1)+q,this.y=(g-m>>1)+u}};h.prototype.zB=function(c,g){var n=this.bu;this.Sr[n]=[c,g];this.bu=n+1};h.prototype.ls=function(c){var g=[],n;var m=c.length;for(n=0;n<m;n+=1)c[n].zB(this,
!0);m=g.length;for(n=0;n<m;n+=1)g[n].zB(this,!1)};h.prototype.YI=function(c,g){var n=!1;this.enabled&&c>=this.x&&c<this.x+this.width&&g>=this.y&&g<this.y+this.height&&(n=!0);return n};t.prototype.hK=function(c){this.Bh=this.ff=c;this.P.notification.scale=c};t.prototype.Br=function(c,g,n,m,q,u){var x;this.Kf=c;this.Nc=g;this.Sh=n;this.Bg=q;this.Gh=u;for(x=0;x<this.ne.length;x+=1)this.ne[x].Br(c,g,n,m,q,u)};t.prototype.W=function(c,g){var n=!1,m=c.bu;c.type===e.list&&c.upper===e.Ja?n=c.current[0]:n=
c.current===c.upper;c.zI&&(n=!n);if(n&&g)for(g=0;g<m;g+=1)n=n&&this.W(c.Sr[g][0],c.Sr[g][1]);return n};t.prototype.jF=function(c){var g,n=c.bu;var m=!0;for(g=0;g<n;g+=1)m=m&&this.W(c.Sr[g][0],c.Sr[g][1]);c.enabled=m};t.prototype.Ze=function(){var c;for(c=0;c<this.Bc;c+=1){var g=this.ne[c];g.enabled=!0;switch(g.type){case e.toggle:g.Cb&&(g.current=g.Cb(g.current===g.upper,!1,this.caller)?g.upper:g.lower);break;case e.ed:g.Cb&&(g.current=g.Cb(g.current,!1,this.caller));break;case e.list:g.Cb&&(g.current=
g.Cb(g.current,!1,this.caller))}this.jF(g)}};t.prototype.fb=function(c,g,n,m,q,u,x,y,v){this.ne[this.Bc]=new h(this.Bc,c,this.caller,g,n,m,q,u,x,v,y,e.list,this.A,this.border,!0,"","",-1,[],this);this.Bc+=1;return this.ne[this.Bc-1]};t.prototype.nj=function(c,g,n,m,q,u,x,y,v,B,b,l){this.ne[this.Bc]=new h(this.Bc,c,this.caller,g,n,m,q,u,x,y,v,e.ed,this.A,this.border,!0,B,b,l,null,this);this.Bc+=1;return this.ne[this.Bc-1]};t.prototype.ya=function(c,g,n,m,q,u){this.ne[this.Bc]=new h(this.Bc,null,null,
c,g,n,m,q,0,0,0,e.label,this.A,this.border,!0,u,"",-1,null,this);this.Bc+=1;return this.ne[this.Bc-1]};t.prototype.Ga=function(c,g,n,m,q,u){this.ne[this.Bc]=new h(this.Bc,c,this.caller,g,n,m,q,40,0,0,0,e.button,this.A,this.border,!0,u,"",-1,null,this);this.Bc+=1;return this.ne[this.Bc-1]};t.prototype.qG=function(){this.ne[this.Bc]=new h(this.Bc,null,null,Menu.Wi,0,-40,100,40,0,100,0,e.Og,this.A,this.border,!1,"","",0,null,this);this.Bc+=1;return this.ne[this.Bc-1]};t.prototype.j=function(c,g,n){var m;
c+=String();if(""!==c){this.context.save();this.context.translate(g.x+g.width/2,g.y+g.height/2);this.context.font=(g.fontSize*this.ff|0)+"px "+g.fontFamily;g.Mr===e.vertical&&this.context.rotate(.5*Math.PI);var q=this.context.measureText(c).width;var u=g.Mr===e.vertical?g.height:g.width;if(q>=u-6){if(m=c.length){do{--m;var x=c.substr(0,m)+"...";q=this.context.measureText(x).width}while(1<m&&q>=u-6)}c=x}switch(g.textAlign){case e.left:var y=g.width/2-2;break;case e.SB:y=q/2;break;case e.right:y=q/
2-(g.width-q)/2+4}this.context.fillStyle=g.Nc;n&&this.context.fillRect(2-y,2,q,2);this.context.fillText(c,2-y+.5,2.5);this.context.fillStyle=g.locked||this.locked?g.Bg:g.Kf;this.context.fillText(c,-y+.5,.5);n&&this.context.fillRect(-y,0,q,2);this.context.restore()}};t.prototype.Ma=function(c){this.context.globalAlpha=this.dg;this.j(c.Oa,c,!1)};t.prototype.na=function(c){this.context.globalAlpha=this.dg;this.j(c.Oa,c,!1)};t.prototype.cb=function(c){var g=(c.current-c.lower)/(c.upper-c.lower);this.context.globalAlpha=
c.ye;this.context.fillStyle=c.Kf;c.orientation===e.Ce?(g*=c.width-3,this.context.fillRect(c.x+(g+1|0),c.y,1,c.height)):(g*=c.height-3,this.context.fillRect(c.x,c.y+(g+1|0),c.width,1));g=c.Oa;c.aB&&(g=-1!==c.fixed?g+c.current.toFixed(c.fixed):g+c.current,g+=c.oz);""!==g&&(this.context.globalAlpha=c.dg,this.j(g,c,!1))};t.prototype.hb=function(c,g){var n=(c.current[0]-c.lower)/(c.upper-c.lower);var m=this.fa;c.orientation===e.Ce?(n*=c.width-3,n=n+1|0,g&&(this.context.fillStyle=c.Sh,this.context.globalAlpha=
c.rk,this.context.fillRect(c.x+n-m,c.y,m,c.height),this.context.fillRect(c.x+n+1,c.y,m,c.height)),c.locked||this.locked?(this.context.fillStyle=c.Bg,this.context.globalAlpha=c.Bj):(this.context.fillStyle=c.Kf,this.context.globalAlpha=c.dg),this.context.fillRect(c.x+n,c.y,1,c.height)):(n*=c.height-3,n=n+1|0,g&&(this.context.fillStyle=c.Sh,this.context.globalAlpha=c.rk,this.context.fillRect(c.x,c.y+n-m,c.width,m),this.context.fillRect(c.x,c.y+n+1,c.width,m)),c.locked||this.locked?(this.context.fillStyle=
c.Bg,this.context.globalAlpha=c.Bj):(this.context.fillStyle=c.Kf,this.context.globalAlpha=c.dg),this.context.fillRect(c.x,c.y+n,c.width,1));g=c.Oa;c.aB&&(g=0<=c.fixed?g+c.current[1].toFixed(c.fixed):g+c.current[1]);g+=c.oz;""!==g&&(this.context.globalAlpha=this.dg,this.j(g,c,!1))};t.prototype.tb=function(c){this.context.globalAlpha=this.dg;var g="-"===c.lower&&""===c.upper&&c.current===c.lower;var n=c.Oa;c.aB&&!g&&(n+=c.current);n+=c.oz;this.j(n,c,g)};t.prototype.Pa=function(c,g){var n=c.x;var m=
c.y;var q=c.width;var u=c.height;var x=c.orientation;var y=c.current;var v=c.lower;var B=v.length;var b=c.orientation===e.Ce?q/B:u/B;this.context.globalAlpha=c.Hn;this.context.fillStyle=c.nm;if(c.upper===e.rm){var l=c.current;0<=l&&l<B&&(c.orientation===e.Ce?this.context.fillRect(n+l*b+1,m+1,b-2,u-2):this.context.fillRect(n+1,m+1+l*b,q-2,b-2))}else if(c.orientation===e.Ce)for(l=0;l<B;l+=1)y[l]&&this.context.fillRect(n+l*b+1,m+1,b-2,u-2);else for(l=0;l<B;l+=1)y[l]&&this.context.fillRect(n+1,m+1+l*
b,q-2,b-2);c.ut=!1;g?(this.context.globalAlpha=c.rk,this.context.fillStyle=c.Sh,c.orientation===e.Ce?(l=(this.jh-n)/q*B|0,0<=l&&l<B&&(c.Ag[l]?c.ut=!0:this.context.fillRect(n+l*b+.5,m+.5,b-1,u-1))):(l=(this.Fj-m)/u*B|0,0<=l&&l<B&&(c.Ag[l]?c.ut=!0:this.context.fillRect(n+.5,m+.5+l*b,q-1,b-1))),c.Ml=l):c.Ml=-1;this.context.globalAlpha=this.dg;if(c.orientation===e.Ce)for(l=0;l<B;l+=1)c.icon[l]&&this.O.Xm(c.icon[l],c.x+b*l,c.y,this.locked||c.locked||c.Ag[l]);else for(l=0;l<B;l+=1)c.icon[l]&&this.O.Xm(c.icon[l],
c.x,c.y+b*l,this.locked||c.locked||c.Ag[l]);this.context.globalAlpha=c.dg;this.context.fillStyle=c.Kf;if(x===e.Ce)for(l=0;l<B;l+=1)n=v[l],""!==n&&(this.context.save(),this.context.translate((.5+(l-B/2))*b,0),this.j(n,c,!1),this.context.restore());else for(l=0;l<B;l+=1)n=v[l],""!==n&&(this.context.save(),this.context.translate(0,(.5+(l-B/2))*b),this.j(n,c,!1),this.context.restore())};t.prototype.Ba=function(c,g,n,m,q){var u=!0;g&&!this.Pc&&q&&(u=!1);u&&(n===m||-1===m&&g)&&(c.type===e.button||c.type===
e.toggle)?(this.context.fillStyle=c.Sh,this.context.globalAlpha=c.rk):(this.context.fillStyle=c.Nc,this.context.globalAlpha=c.ye);switch(c.type){case e.Og:q=(c.current-c.lower)/(c.upper-c.lower);this.context.fillStyle=c.nm;this.context.globalAlpha=c.Hn;c.orientation===e.Ce?(q*=c.width-3,q=q+1|0,this.context.fillRect(c.x,c.y,q,c.height),this.context.fillStyle=c.Nc,this.context.globalAlpha=c.ye,this.context.fillRect(c.x+q,c.y,c.width-q,c.height)):(q*=c.height-3,q=q+1|0,this.context.fillRect(c.x,c.y,
c.width,q),this.context.fillStyle=c.Nc,this.context.fillRect(c.x,c.y+q,c.width,c.height-q));break;case e.ed:q=(c.current[0]-c.lower)/(c.upper-c.lower);if(n===m||-1===m&&g){var x=this.fa;if(c.orientation===e.Ce){q*=c.width-3;q=q+1|0;var y=q-x;0<y&&this.context.fillRect(c.x,c.y,y,c.height);y=1+q+x;y<c.width&&this.context.fillRect(c.x+y,c.y,c.width-y,c.height)}else q*=c.height-3,q=q+1|0,y=q-x,0<y&&this.context.fillRect(c.x,c.y,c.width,y),y=1+q+x,y<c.height&&this.context.fillRect(c.x,c.y+y,c.width,c.height-
y)}else this.context.fillRect(c.x,c.y,c.width,c.height);break;case e.list:x=c.lower.length;if(c.orientation===e.Ce)for(y=c.width/x,q=0;q<x;q+=1)this.context.fillStyle=c.Km[q],this.context.fillRect(c.x+q*y+1,c.y+1,y-2,c.height-2);else for(y=c.height/x,q=0;q<x;q+=1)this.context.fillStyle=c.Km[q],this.context.fillRect(c.x+1,c.y+1+q*y,c.width-2,y-2);break;default:this.context.fillRect(c.x,c.y,c.width,c.height)}c.type!==e.list&&c.icon&&(this.context.globalAlpha=c.dg,this.O.Xm(c.icon,c.x,c.y,this.locked||
c.locked));if(0<c.border)switch(c.locked||this.locked?(this.context.strokeStyle=c.Bg,this.context.globalAlpha=c.Bj):(this.context.strokeStyle=c.Gh,this.context.globalAlpha=c.ck),this.context.lineWidth=c.border,c.type){case e.label:break;case e.list:x=c.lower.length;if(c.orientation===e.Ce)for(y=c.width/x,q=0;q<x;q+=1)this.locked||c.locked||c.Ag[q]?(this.context.strokeStyle=c.Bg,this.context.globalAlpha=c.Bj):(this.context.strokeStyle=c.Gh,this.context.globalAlpha=c.ck),this.context.strokeRect(c.x+
.5+q*y,c.y+.5,y-1,c.height-1);else for(y=c.height/x,q=0;q<x;q+=1)this.locked||c.locked||c.Ag[q]?(this.context.strokeStyle=c.Bg,this.context.globalAlpha=c.Bj):(this.context.strokeStyle=c.Gh,this.context.globalAlpha=c.ck),this.context.strokeRect(c.x+.5,c.y+.5+q*y,c.width-1,y-1);break;default:this.context.strokeRect(c.x+.5,c.y+.5,c.width-1,c.height-1)}switch(c.type){case e.button:this.na(c);break;case e.label:this.Ma(c);break;case e.ed:this.hb(c,u&&(n===m||-1===m&&g));break;case e.toggle:this.tb(c);
break;case e.Og:this.cb(c);break;case e.list:this.Pa(c,u&&(n===m||-1===m&&g))}if(n===m)switch(c.type){case e.ed:u=this.Fj,c.orientation===e.vertical?(u<c.y?u=c.y:u>=c.y+c.height&&(u=c.y+c.height-1),c.current[0]=(u-c.y)/(c.height-1)*(c.upper-c.lower)+c.lower):(u=this.jh,u<c.x?u=c.x:u>=c.x+c.width&&(u=c.x+c.width-1),c.current[0]=(u-c.x)/(c.width-1)*(c.upper-c.lower)+c.lower),c.Cb&&(c.current=c.Cb(c.current,!0,c.caller))}if(g&&!this.Pc&&c.Jt)switch(c.type){case e.button:c.Cb&&c.Cb(c.caller);break;case e.toggle:c.current=
c.current===c.upper?c.lower:c.upper;c.Cb&&c.Cb(c.current===c.upper,!0,c.caller);break;case e.list:x=c.lower.length,y=c.orientation===e.Ce?(this.jh-c.x)/c.width*x|0:(this.Fj-c.y)/c.height*x|0,c.upper===e.rm?c.Ag[y]||(c.Cb?c.current=c.Cb(y,!0,c.caller):c.current=y):c.Ag[y]||(c.current[y]=!c.current[y],c.Cb&&c.Cb(c.current,!0,c.caller))}g&&n===m?(c.Jt=this.Pc,c.ZC=this.jh,c.$C=this.Fj):(c.Jt=!1,c.ZC=-1,c.$C=-1)};t.prototype.Pu=function(c){this.K=c};t.prototype.jx=function(){var c,g=!1,n=this.context.canvas.width,
m=this.context.canvas.height,q=-1;var u=!1;this.Xl=-1;if(this.c)this.Pc?this.hl=-2:(-2===this.hl&&this.lB&&this.lB(this.jh,this.Fj,this.Pc,this.caller),this.Pc||(this.hl=-1));else{var x=this.hl;this.context.textAlign="left";for(c=0;c<this.Bc;c+=1){var y=this.ne[c];if(!y.c){y.MG(n,m);var v=!1;y.YI(this.jh,this.Fj)&&(q=c,y.locked||this.locked?g=!0:v=!0);v&&!this.Pc&&(this.Xl=c);(this.Pc&&-1===x&&v||v&&this.Nm)&&y.type!==e.label&&(x=c,this.Nm&&(y.Jt=!0));c===x&&(y.locked||this.locked)&&(x=-1,v=!1);y.enabled&&
this.Ba(y,v,c,x,this.P.Fl)}}0<=x&&!this.Pc&&(u=!0);this.Pc&&-1===x&&!g&&(x=-2);-2===x&&this.ex&&!this.locked&&this.ex(this.jh,this.Fj,this.Pc,this.caller);this.Pc||(x=-1);this.hl=x;this.context.globalAlpha=1}0<=q?this.Ls=this.ne[q].type===e.ed?this.ne[q].orientation===e.tw||this.ne[q].orientation===e.Ce?"ew-resize":"ns-resize":"auto":this.Ls=this.K;return u};a.prototype.HE=function(){this.K=[];this.j=this.A=0};a.prototype.uG=function(){var c=0;0<this.j&&(c=this.A/this.j);this.K[this.K.length]=c;this.j=
this.A=0};a.prototype.hI=function(c){var g=-1;0<=c&&c<this.K.length&&(g=this.K[c]);return g};a.prototype.Br=function(c,g,n,m,q,u){this.Kf=c;this.Nc=g;this.Sh=n;this.Bg=q;this.Gh=u;this.xc&&this.xc.Br(c,g,n,m,q,u)};a.prototype.mH=function(c,g,n){c=new t(this,c,g,n,this.vc,this.hk);c.Kf=this.Kf;c.dg=this.dg;c.Nc=this.Nc;c.ye=this.ye;c.Sh=this.Sh;c.rk=this.rk;c.nm=this.nm;c.Hn=this.Hn;c.Bg=this.Bg;c.Bj=this.Bj;c.Gh=this.Gh;c.ck=this.ck;c.border=this.border;return c};a.prototype.NH=function(){var c=this.xc,
g=c.ff,n=this.vc,m="";var q=1;if(-1!==c.hl||-1===c.hl&&-1===c.Xl)this.W=c.hl;if(-1===c.Xl||-1!==this.W&&this.W===c.Xl){if(-1!==c.Xl){var u=c.ne[c.Xl];u.id===this.Ba&&u.Ml!==this.fa&&(this.W=-1)}50>this.aj&&(this.aj+=1)}else{u=c.ne[c.Xl];u.id!==this.Ba||u.id===this.Ba&&u.Ml!==this.fa?(this.Ba=u.id,this.fa=u.Ml,50>this.aj&&(this.aj+=1)):0<=this.aj&&--this.aj;c=-1!==this.fa?u.w[this.fa]:u.w;var x=c.indexOf("\n");if(""!==c&&-1===this.aj&&!u.ut){this.W=-1;var y=u.x;var v=u.y;var B=u.width;var b=u.height;
-1!==u.Ml&&(u.orientation===e.Ce?(y+=B/u.lower.length*u.Ml,B/=u.lower.length):(v+=b/u.lower.length*u.Ml,b/=u.lower.length));var l=18*g;n.font=(l|0)+"px Arial";var f=4*g;var r=n.measureText(c).width;g=Math.round(y+B/2);v=Math.round(v+b/2);g-=r/2;g<f+1?g=f+1:g+r+f>n.canvas.width&&(g=n.canvas.width-r-f-1);b>B?(-1!==this.Ma&&B<this.Ma&&(B=this.Ma),g>n.canvas.width/2?g=y-r-B/2:g=y+u.width+B/2):(-1!==this.Pa&&b<this.Pa&&(b=this.Pa),v>n.canvas.height/2?v-=b:v+=b);if(r>n.canvas.width){m=(r>>1)+l+f;m>n.canvas.width&&
(m=n.canvas.width);for(q=1;n.measureText(c.substr(0,q)).width<m;)q+=1;for(r=q-1;r>q-5;)m=c[r]," "===m||","===m||"/"===m||"|"===m?(q=r+2,r=q-5):--r;m=c.substr(q-1);c=c.substr(0,q-1);r=n.measureText(c).width;q=n.measureText(m).width;q>r&&(r=q);q=2}else-1!==x&&(m=c.substr(x+1),q=n.measureText(m).width,c=c.substr(0,x),r=n.measureText(c).width,q>r&&(r=q),q=2);x=l*q+2*f;2===q&&v>n.canvas.height/2&&(v-=l+f,x+=f);n.globalAlpha=this.ye;n.fillStyle=this.Nc;n.fillRect((g-f|0)-.5,(v-l/2-f|0)-.5,r+2+2*f,x);n.globalAlpha=
this.ck;n.strokeStyle=this.Gh;n.strokeRect((g-f|0)-.5,(v-l/2-f|0)-.5,r+2+2*f,x);n.globalAlpha=this.ye;n.strokeStyle=this.Nc;n.beginPath();n.moveTo((g-f|0)+.5,(v-l/2-f|0)+.5+x);n.lineTo((g-f|0)+.5+r+2+2*f,(v-l/2-f|0)+.5+x);n.lineTo((g-f|0)+.5+r+2+2*f,(v-l/2-f|0)+.5);n.stroke();n.globalAlpha=1;n.fillStyle=this.Nc;n.fillText(c,g+2,v+2);""!==m&&n.fillText(m,g+2,v+l+f+2);n.fillStyle=this.Kf;n.fillText(c,g,v);""!==m&&n.fillText(m,g,v+l+f)}}};a.prototype.mc=function(c){var g,n,m,q=c.vc,u=90,x=1,y=1;c.jb&&
(u=0);c.$r=!1;c.$A=!0;c.Nq&&(c.xc=c.Nq,c.Nq=null,q.font=c.hk,c.xc.Ze(),c.xc.ks&&c.xc.ks(c.xc.caller));c.xc&&(x=c.xc.ff,y=c.xc.Bh);var v=q.canvas.width-86*x;u*=y;var B=performance.now();c.Kx&&(c.Kt=B-1E3/60);c.Dp||c.notification.Wm()||c.Em||c.cL!==c.aj&&-1!==c.aj?(c.zr(c),c.Em&&--c.Em,c.Kx=!1):c.Kx=!0;var b=B-c.Kt;c.Kt=B;c.xc.Cb&&c.xc.Cb(b,c.xc.caller);B=performance.now()-B;var l=performance.now();c.jx();c.Nm=!1;c.NH();c.notification.update();l=performance.now()-l;c.ay[c.Rr]=l;for(m=g=0;m<c.vn;m+=
1)g+=c.ay[m];g/=c.vn;c.ey[c.Rr]=B;for(m=n=0;m<c.vn;m+=1)n+=c.ey[m];n/=c.vn;c.$x[c.Rr]=b;for(m=b=0;m<c.vn;m+=1)b+=c.$x[m];b/=c.vn;c.Rr=(c.Rr+1)%c.vn;m=1E3/b;60<m&&(m=60);this.A+=1E3/(B+l);this.j+=1;c.Ok&&(q.font=(12*x|0)+"px Arial",q.globalAlpha=.7,q.fillStyle="black",c.pm?q.fillRect(v,u,88*x|0,83*y|0):q.fillRect(v,u,88*x|0,20*y|0),l=(n+g)/16.666666,1<l&&(l=1),q.fillStyle=.5>l?"rgb("+(510*l|0)+",255,0)":"rgb(255,"+(255*(1-2*(l-.5))|0)+",0)",q.fillRect(v,u,88*l*x|0,20*y|0),g=g.toFixed(1),n=n.toFixed(1),
4>m.toFixed(1).length?m=m.toFixed(1):m|=0,q.globalAlpha=1,q.fillStyle="black",B=m+"fps",b=q.measureText(B).width,q.fillText(B,v+36*x-b,u+12*y),B=(100*l|0)+"%",b=q.measureText(B).width,q.fillText(B,v+84*x-b,u+12*y),c.pm&&(q.fillText("menu",v+6*x,u+28*y),q.fillText("work",v+6*x,u+44*y),q.fillText("update",v+6*x,u+60*y),q.fillText("focus",v+6*x,u+76*y),B=g+"ms",b=q.measureText(B).width,q.fillText(B,v+84*x-b,u+28*y),B=n+"ms",b=q.measureText(B).width,q.fillText(B,v+84*x-b,u+44*y),B=c.Dp?"on":"off",b=q.measureText(B).width,
q.fillText(B,v+84*x-b,u+60*y),B=c.hasFocus?"on":"off",b=q.measureText(B).width,q.fillText(B,v+84*x-b,u+76*y)),q.fillStyle="white",B=m+"fps",b=q.measureText(B).width,q.fillText(B,v+34*x-b,u+10*y),B=(100*l|0)+"%",b=q.measureText(B).width,q.fillText(B,v+82*x-b,u+10*y),c.pm&&(q.fillText("menu",v+4*x,u+26*y),q.fillText("work",v+4*x,u+42*y),q.fillText("update",v+4*x,u+58*y),q.fillText("focus",v+4*x,u+74*y),B=g+"ms",b=q.measureText(B).width,q.fillText(B,v+82*x-b,u+26*y),B=n+"ms",b=q.measureText(B).width,
q.fillText(B,v+82*x-b,u+42*y),B=c.Dp?"on":"off",b=q.measureText(B).width,q.fillText(B,v+82*x-b,u+58*y),B=c.hasFocus?"on":"off",b=q.measureText(B).width,q.fillText(B,v+82*x-b,u+74*y)),q.globalAlpha=1);c.xc.Ls!==c.xc.Lw&&(c.xc.Lw=c.xc.Ls,c.Oc.style.cursor=c.xc.Lw);c.pz=!0};a.prototype.kG=function(c){c.O=this.O;this.xc?this.Nq=c:(this.Nq=null,this.xc=c,this.vc.font=this.hk,this.xc.Ze(),this.xc.ks&&this.xc.ks(this.xc.caller),this.zr(this))};a.prototype.jx=function(){var c;if(this.xc){var g=this.xc;this.vc.font=
this.hk;g.jh=this.zk;g.Fj=this.Ak;g.Pc=this.Pc;g.Nm=this.Nm;if(g.jx()||this.wh){for(c=0;c<g.Bc;c+=1){var n=g.ne[c];g.jF(n)}this.wh=!1}}};a.prototype.zr=function(c){c.$r||(requestAnimationFrame?requestAnimationFrame(c.RB):setTimeout(c.RB,16),c.$r=!0)};a.prototype.oo=function(c,g){for(var n=null,m=0;null===n&&m<c.length;)c[m].identifier===g?n=c[m]:m+=1;return n};a.prototype.na=function(c,g){var n=g.changedTouches;switch(g.type){case "touchstart":-1===c.bh&&(n=n[0],c.bh=n.identifier,c.gr(c,n.pageX,n.pageY));
break;case "touchend":n=c.oo(n,c.bh);null!==n&&(c.ir(c,n.pageX,n.pageY),c.bh=-1);break;case "touchmove":n=c.oo(n,c.bh);null!==n&&c.hr(c,n.pageX,n.pageY);break;case "touchcancel":n=c.oo(n,c.bh),null!==n&&c.nE(c)}c.Fl=!0;g.stopPropagation&&g.stopPropagation();g.cancelable&&g.preventDefault()};a.prototype.gr=function(c,g,n){c.vp(c,g,n);c.Pc=!0;c.$A=!1};a.prototype.ir=function(c,g,n){c.by=performance.now();c.vp(c,g,n);c.Pc=!1;c.$A||(c.Nm=!0);c.hasFocus||(c.Fl||c.Oc.focus(),c.hasFocus=!0,c.notification.clear(!0,
!1),c.yC&&c.yC(c.caller))};a.prototype.hr=function(c,g,n){c.UB(c);c.vp(c,g,n)};a.prototype.oJ=function(c){c.UB(c)};a.prototype.nE=function(c){1<performance.now()-c.by&&(c.hasFocus||c.notification.clear(!0,!1),c.Oc.blur(),c.hasFocus=!1,c.Pc=!1,c.zk=-1,c.Ak=-1,c.Ew=!1,c.$r||(c.zr(c),4>c.Em&&(c.Em=4)))};a.prototype.cb=function(c,g){if(!c.wn){if(g.pageX||g.pageY){var n=g.pageX;var m=g.pageY}else n=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m=g.clientY+document.body.scrollTop+
document.documentElement.scrollTop;c.gr(c,n,m);g.stopPropagation&&g.stopPropagation();g.preventDefault();c.Fl=!1}};a.prototype.ec=function(c,g){c.by=performance.now();if(!c.wn){if(g.pageX||g.pageY){var n=g.pageX;var m=g.pageY}else n=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;c.ir(c,n,m);g.stopPropagation&&g.stopPropagation();g.preventDefault();c.Fl=!1}};a.prototype.UB=function(c){c.hasFocus||c.Ew&&""!==
c.notification.Jj||(c.Ic?c.Bk||c.notification.L("Copy",3600,!0):c.jb?c.$i?c.notification.L("Launch",3600,!0):c.notification.L("Expand",3600,!0):c.notification.L("Click to control",3600,!0),c.notification.animate=!0,c.Ew=!0)};a.prototype.hb=function(c,g){if(!c.wn){if(g.pageX||g.pageY){var n=g.pageX;var m=g.pageY}else n=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;c.hr(c,n,m);g.stopPropagation&&g.stopPropagation();
g.preventDefault();c.Fl=!1}};a.prototype.Hb=function(c,g){c.wn||(c.oJ(c),g.stopPropagation&&g.stopPropagation(),g.preventDefault(),c.Fl=!1)};a.prototype.tb=function(c,g){c.wn||(c.nE(c),g.stopPropagation&&g.stopPropagation(),g.preventDefault(),c.Fl=!1)};a.prototype.vp=function(c,g,n){var m=this.Oc.getBoundingClientRect();window.scrollX?(g-=m.left+window.scrollX,n-=m.top+window.scrollY):(g-=m.left+window.pageXOffset,n-=m.top+window.pageYOffset);g/=c.ef;n/=c.ef;c.zk=g-1|0;c.Ak=n-1|0;c.$r||(c.zr(c),4>
c.Em&&(c.Em=4))};a.prototype.Qg=function(c){!c&&!this.notification.Wm()||this.Dp||this.zr(this);this.Dp=c};window.IconManager=p;window.Menu=e;window.MenuManager=a}(),function(){function d(a,e,c,g,n,m){this.op=a;this.pp=e;this.width=c;this.height=g;this.VK=n;this.TH=m}function k(){this.time=0;this.K=this.Nt=!1;this.Le="none";this.lJ="2pca4";this.dD=86;this.Dc=22;this.Ec=6;this.cb=8;this.u="";this.ce="0123456789xyz";this.be="0123";this.de="0123456789";this.bn=1038;this.cn=7157;this.Mf="0123456omp-";
this.Nf="01234";this.rf=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.bl=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.sd=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.kd="  omp omp omp  ".split(" ");this.mj=[0,2,6,10,13,10,6,2,0];this.ak=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,
8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.cl=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.Mn=new Uint32Array(256);this.Oz=new Uint8Array(8192);this.Kz=new Uint8Array(8192);this.Si=new Uint8Array(512);this.Jz=new Uint8Array(512);this.Dl=new Uint16Array(512);this.yj=this.ta=!1;this.Yr="l";this.Xr="le";this.Zr="lv";this.tt="h";this.mv="v";this.rg=!1;this.sx=0;this.lk=!1;this.ou=this.nu=0;this.Mg=!1;this.Ba=this.index=
0;this.zd=1;this.xe=2;this.Pf=this.gd=this.hd=0;this.sg=1;this.Hp=2;this.Pj=this.Qj=-1;this.Bm=0;this.Xn=1;this.Yn=2;this.pc=!1;this.qe="num_states";this.Sf="num_neighbors";this.$h="num_nodes";this.Rf="n_states";this.fa=[];this.fa[t.gp]="vonneumann";this.fa[t.ep]="moore";this.fa[t.Ik]="hexagonal";this.fa[t.fp]="onedimensional";this.hb=[];this.hb[t.gp]=5;this.hb[t.ep]=9;this.hb[t.Ik]=7;this.hb[t.fp]=3;this.na=[];this.na[t.gp]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.na[t.ep]=
"none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");this.na[t.Ik]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.na[t.fp]=["none","reflect","permute"];this.tb=[];this.tb[t.gp]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.tb[t.ep]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],
[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,
1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.tb[t.fp]=[[[0,1,2,3],[0,2,1,3]]];this.tb[t.Ik]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],
[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]]}function p(a,e){this.m=null;this.P=e;e=a.lastIndexOf(".");-1!==e&&(a=a.substr(0,e));this.name=a;this.ym=this.qj=0;this.fg=this.Be=this.bc=-1;this.ro=this.hq=0;this.ot=this.xx=!1;this.co=this.Gf=this.ca=this.Xq="";this.$=this.R=
this.zo=this.Gc=this.hc=this.bb=this.G=this.ia=!1;this.Ld=this.P.Bm;this.Nd=-1;this.Fd=this.De=!1;this.Mc=-1;this.Ej=1;this.Kg=this.DB=this.EB=this.FB=this.GB=this.Ff=this.Zd=this.Me=this.Rd=-1;this.KF=this.za=!1;this.Hd=-1;this.Ap=this.zp=this.Cf=this.Ve=null;this.h=this.Jg=-1;this.height=this.width=0;this.Ig=this.me=null;this.Li=this.Xf=this.sc=this.title="";this.ud=2;this.Uq=0;this.ln=this.rg=!1;this.Mz=this.ND="";this.qe=-1;this.Nz=!1;this.Rf=this.Ti=this.Jk=this.$h=this.Sf=-1;this.Jd=this.pg=
null;this.og=this.Hk=0;this.Id=this.Xd=this.Lj=this.Mj=null}var h={rules:[],Tt:[],Cn:[],tG:function(a,e,c,g,n){var m,q=this.Cn.length,u=!1,x=a.ca;for(m=0;m<q&&!u;){var y=this.Cn[m];y.name===x?(u=!0,y.pattern[y.pattern.length]=a,y.Hr[y.Hr.length]=e,y.cq[y.cq.length]=c,y.qs[y.qs.length]=g,y.view[y.view.length]=n):m+=1}u||(this.Cn[q]={name:x,pattern:[a],Hr:[e],cq:[c],qs:[g],view:[n]});return u},MJ:function(a){var e,c=this.Cn.length,g=!1,n=a.ca;for(a=0;a<c&&!g;){var m=this.Cn[a];if(m.name===n)for(g=!0,
m.name="",e=0;e<m.Hr.length;e+=1)null!==m.Hr[e]&&(this.aD(m.pattern[e]),m.pattern[e].P.u="",m.pattern[e].P.ta=!0,m.pattern[e].P.yj=!1,m.Hr[e](m.pattern[e],m.qs[e],m.view[e]));else a+=1}},Gu:function(a){var e,c=this.Cn.length,g=!1,n=a.ca;for(a=0;a<c&&!g;){var m=this.Cn[a];if(m.name===n)for(g=!0,m.name="",e=0;e<m.cq.length;e+=1)null!==m.cq[e]&&(m.pattern[e].za=m.pattern[e].KF,m.cq[e](m.pattern[e],m.qs[e],m.view[e]));else a+=1}},add:function(a,e,c,g){var n,m=this.rules.length,q=!1,u=a.ca;for(n=0;n<m&&
!q;)this.rules[n].name===u?q=!0:n+=1;q||(this.rules[m]=null===a.Jd?{name:a.ca,UC:!0,kA:a.qe,$I:a.Sf,cJ:a.$h,KG:a.Jk,lK:a.Lj,mK:a.Mj,tl:a.Xd,oq:a.Id,R:a.Nz}:{name:a.ca,UC:!1,kA:a.Rf,ZI:a.Ti,WG:a.og,No:a.Jd,VF:a.pg,tl:a.Xd,PH:a.Hk,oq:a.Id},this.Tt[m]={fetch:e|0,decode:c|0,size:g},this.MJ(a))},aD:function(a){var e,c=this.rules.length,g=null,n=!1,m=a.ca;for(e=0;e<c&&!n;)this.rules[e].name===m?(n=!0,g=this.rules[e]):e+=1;n&&(a.Jd=null,g.UC?(a.qe=g.kA,a.Sf=g.$I,a.$h=g.cJ,a.Jk=g.KG,a.Lj=g.lK,a.Mj=g.mK,a.R=
g.R):(a.Rf=g.kA,a.Ti=g.ZI,a.og=g.WG,a.Jd=g.No,a.pg=g.VF,a.Hk=g.PH,a.R=a.Ti===t.Ik?!0:!1),a.Xd=g.tl,a.Id=g.oq,a.bb=!1);return n}},t={gp:0,ep:1,Ik:2,fp:3,Lz:-1,nK:0,oK:1,pK:2,rK:3,qK:["circles","diamonds","hexagons","triangles"]};p.prototype.j=function(a){this.Xq=a.Xq;this.ca=a.ca;this.ia=a.ia;this.G=a.G;this.bb=a.bb;this.Gf=a.Gf;this.R=a.R;this.$=a.$;this.qj=a.qj;this.ym=a.ym;this.Ld=a.Ld;this.Nd=a.Nd;this.De=a.De;this.Fd=a.Fd;this.Mc=a.Mc;this.Kg=a.Kg;this.Ej=a.Ej;this.Rd=a.Rd;this.Me=a.Me;this.Zd=
a.Zd;this.Ff=a.Ff;this.za=a.za;this.Hd=a.Hd;this.Jg=a.Jg;this.h=a.h;this.ud=a.ud;a.Cf&&(this.Cf=new Uint8Array(a.Cf.length),this.Cf.set(a.Cf));a.Ve&&(this.Ve=new Uint8Array(a.Ve.length),this.Ve.set(a.Ve))};p.prototype.aH=function(a,e){a.Cf&&(this.Ap=e.I(Uint8,a.Cf.length,"HROT.altSurvivals"),this.Ap.set(a.Cf));a.Ve&&(this.zp=e.I(Uint8,a.Ve.length,"HROT.altBirths"),this.zp.set(a.Ve));this.GB=a.Rd;this.FB=a.Me;this.EB=a.Zd;this.DB=a.Ff};p.prototype.gK=function(){this.Gf=this.ca=this.Xq="";this.$=this.R=
this.bb=this.G=this.ia=!1;this.ym=this.qj=0;this.Ld=this.P.Bm;this.Nd=-1;this.Fd=this.De=!1;this.Kg=this.Mc=-1;this.za=!1;this.h=this.Jg=this.Hd=-1;this.ud=2};p.prototype.CI=function(a){return this.Fd!==a.Fd||this.za!==a.za?"Alternate is different rule family":(-1===this.h?this.ud:this.h)!==(-1===a.h?a.ud:a.h)?"Alternate has different number of states":this.G!==a.G||this.ia!==a.ia||this.R!==a.R||this.$!==a.$||this.Ld!==a.Ld||this.De!==a.De||-1===this.Nd&&-1!==a.Nd||-1!==this.Nd&&-1===a.Nd||this.Kg!==
a.Kg||this.Jg!==a.Jg?"Alternate has different neighborhood":this.Mc!==a.Mc||this.Hd!==a.Hd?"Alternate has different range":this.bb||a.bb?"Alternate can not use none":""};k.prototype.vh=function(a,e,c){var g,n,m=0,q=0,u=0,x=!1;var y=e.length;for(g=n=0;g<y;){var v=e[g];g+=1;switch(n){case 0:switch(v){case "!":n=1;a.sc+="#C ";var B=!0;break;case "O":case "o":case "*":case ".":n=2;q=m=u=0;var b=--g}break;case 1:"\r"!==v&&"\n"!==v&&(" "===v?B||(a.title+=v,a.sc+=v):(B=!1,a.title+=v,a.sc+=v));"\n"===v&&
(n=0,a.sc+=v,a.title+=" ");break;case 2:switch(v){case "O":case "o":case "*":case ".":q+=1;break;case "\n":u+=1;q>m&&(m=q);q=0;break;case " ":case "\t":break;default:g=y,x=!0}}}if(!x){2===n&&"\n"!==v&&(u+=1,q>m&&(m=q));a.height=u;a.width=m;a.Li="Cells";a.me=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap");g=b;for(n=m=0;g<y;)switch(v=e[g],g+=1,v){case "\n":m+=1;n=0;break;case "O":case "o":case "*":a.me[m][n>>4]|=1<<(~n&15);n+=1;break;case ".":n+=1}this.ta=!0;this.Pa(a,"",c)}};k.prototype.qh=
function(a,e,c){var g,n;var m=e.length;var q=[];var u=0;var x=!1;var y=n=0;var v=!1;for(g=10;g<m;){var B=e[g];g+=1;switch(B){case "\n":v&&(v=!1,2===b&&x&&(y=-y,x=!1),q[u]=[n,y],u+=1);var b=y=n=0;break;case "-":x=!0;0===b?b=1:1===b&&(b=2);break;case " ":1===b&&(x&&(n=-n,x=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===b&&(b=1),1===b?n=10*n+parseInt(B,10):(y=10*y+parseInt(B,10),v=!0)}}v&&(2===b&&x&&(y=-y),q[u]=[n,y],u+=1);if(u){m=e=q[0][0];
b=B=q[0][1];for(g=1;g<u;g+=1)n=q[g][0],y=q[g][1],n<e&&(e=n),n>m&&(m=n),y<B&&(B=y),y>b&&(b=y);a.height=b-B+1;a.width=m-e+1;a.me=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap");a.Li="Life 1.06";this.Pa(a,"",c);for(g=0;g<u;g+=1)n=q[g][0]-e,y=q[g][1]-B,a.me[y][n>>4]|=1<<(~n&15)}};k.prototype.Pe=function(a,e,c,g){var n,m,q=[],u=0,x=e.length;var y="";var v=!1;var B=0,b=0,l=!1,f=!1,r=0,w=0;c=c?10:0;for(this.ta=!0;c<x&&!f;){var z=e[c];c+=1;switch(B){case 0:switch(z){case "#":B=2;break;case "*":case ".":B=
3;var A=m=n=0;var C=--c}break;case 2:switch(z){case "C":case "D":B=1;a.sc+="#C ";var D=!0;break;case "N":B=0;break;case "R":B=4;break;case "P":B=5;b=0;l=!1;w=r=0;break;case "\n":B=0;break;default:B=1,D=!0}break;case 1:"\r"!==z&&"\n"!==z&&(" "===z?D||(a.title+=z,a.sc+=z):(D=!1,a.title+=z,a.sc+=z));"\n"===z&&(B=0,a.title+=" ",a.sc+=z);break;case 4:"\n"===z?B=0:(y+=z,v=!0);break;case 5:switch(z){case "\n":B=0;2===b&&l&&(w=-w,l=!1);break;case "-":l=!0;0===b?b=1:1===b&&(b=2);break;case " ":1===b&&(l&&
(r=-r,l=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===b&&(b=1),1===b?r=10*r+parseInt(z,10):w=10*w+parseInt(z,10)}break;case 3:switch(z){case "\n":n>m&&(m=n);n=0;A+=1;break;case "#":q[u]=new d(r,w,m,A,C,c-1);u+=1;B=2;break;case "*":case ".":n+=1;break;case " ":case "\t":break;default:f=!0}}}"\n"!==z&&(A+=1);3===B&&(q[u]=new d(r,w,m,A,C,c-1),u+=1);if(u&&!f){r=q[0].op;w=q[0].pp;z=r+q[0].width-1;n=w+q[0].height-1;for(c=1;c<u;c+=1)q[c].op<
r&&(r=q[c].op),q[c].pp<w&&(w=q[c].pp),q[c].op+q[c].width-1>z&&(z=q[c].op+q[c].width-1),q[c].pp+q[c].height-1>n&&(n=q[c].pp+q[c].height-1);a.height=n-w+1;a.width=z-r+1;a.me=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,g,"Pattern.lifeMap");a.Li="Life 1.05";a.Ig=Array.ea(Uint8,a.height,a.width,0,g,"Pattern.multiStateMap");v?(this.Se(a,y,!1,g),this.ta?0<=a.h||a.hc||(a.Ig=null):(a.h=-1,a.hc=!1,a.Gc=!1)):this.Pa(a,"",g);for(c=0;c<u;c+=1)for(g=q[c].VK,y=q[c].TH,n=q[c].op-r,z=q[c].pp-w,v=n,m=z;g<=y;)switch(z=
e[g],g+=1,z){case "\n":m+=1;v=n;break;case "*":a.me[m][v>>4]|=1<<(~v&15);a.Ig&&(a.Ig[m][v]=1);v+=1;break;default:v+=1}}};k.prototype.W=function(a,e,c,g){var n=0,m,q,u;c&&(n=4);for(q=0;8192>q;q+=8)for(u=0;4>u;u+=1){c=0;for(m=q+u&g;0<m;)c+=m&1,m>>=1;e===c&&(a[q+u+n]=1)}};k.prototype.Hb=function(a,e,c,g){var n=0,m,q,u;c&&(n=16);for(q=0;512>q;q+=32)for(u=0;16>u;u+=1){c=0;for(m=q+u&g;0<m;)c+=m&1,m>>=1;e===c&&(a[q+u+n]=1)}};k.prototype.jj=function(a){return(a&7)<<6|(a&448)>>6|a&56};k.prototype.qf=function(a){return(a&
4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};k.prototype.ml=function(a,e,c){var g;for(g=0;4>g;g+=1)a[e]=c,e=this.qf(e);e=this.jj(e);for(g=0;4>g;g+=1)a[e]=c,e=this.qf(e)};k.prototype.el=function(a,e,c,g,n){var m=c?16:0;if(2>e||4<e)this.Hb(a,e,c,254);else if(c="omp".indexOf(g),-1!==c)for(e=this.bl[e-2][c],c=0;c<e.length;c+=1)g=e[c]+m,a[g]=n,a[g+256]=n,a[g+1]=n,a[g+257]=n};k.prototype.gl=function(a,e,c,g,n){var m=0,q=e-1;0===e||8===e?this.Hb(a,e,c,511):(3<q&&(q=6-
q,m=495),e=this.rf[q].indexOf(g),-1!==e&&(m^=this.cl[q][e],c&&(m|=16),this.ml(a,m,n)))};k.prototype.wf=function(a,e,c,g){var n=e.length,m=0,q="",u;for(u=0;u<n;u+=1){var x=e.charCodeAt(u)-48;m|=1<<x;this.Hb(a,x,c,g)}for(u=0;9>u;u+=1)0!==(m&1<<u)&&(q+=String(u));return q};k.prototype.we=function(a){for(var e=0;a;)e+=1,a&=a-1;return e};k.prototype.hg=function(a,e){var c="",g=0;if(e[a]){e=e[a];0!==(e&8192)&&(g=1,e&=-8193);var n=this.we(e);var m=2>a||4<a?0:3;2<=n&&(e=~e&(1<<m)-1)&&(g=1-g);if(!g||e)for(c+=
String(a),g&&(c+="-"),a=0;a<m;a+=1)0!==(e&1<<a)&&(c+="omp"[a])}else c+=String(a);return c};k.prototype.ig=function(a,e){var c="",g=0;if(e[a]){e=e[a];0!==(e&8192)&&(g=1,e&=-8193);var n=this.we(e);var m=this.mj[a];(g||7!==n||13!==m)&&n+g>m>>1&&(e=~e&(1<<m)-1)&&(g=1-g);if(!g||e)for(c+=String(a),g&&(c+="-"),n=0;n<m;n+=1)g=this.ak[a][n],0!==(e&1<<g)&&(c+=this.rf[3][g])}else c+=String(a);return c};k.prototype.sf=function(a,e,c){var g=e.length,n=0,m=[],q="",u;e+=" ";for(u=0;7>u;u+=1)m[u]=0;for(u=0;u<g;u+=
1){var x=e.charCodeAt(u)-48;if(0<=x&&8>=x){var y=0!==(n&1<<x);n|=1<<x;var v=e[u+1];var B=this.kd[x].indexOf(v);-1!==B||y||this.Hb(a,x,c,254);var b=1;"-"===v&&(b=0,u+=1,v=e[u+1],B=this.kd[x].indexOf(v));-1!==B||"0"<=v&&"9">=v||" "===v||(this.u=(c?"S":"B")+x+v+" not valid",u=g);y&&(y=0,0===(m[x]&8192)&&(y=1),y!==b&&(this.u=(c?"S":"B")+x+" can not have minus and non-minus",B=-1,u=g));for(;-1!==B;)0!==(m[x]&1<<B)?(this.u="Duplicate "+x+this.kd[x][B],B=-1,u=g):(this.el(a,x,c,v,b),m[x]|=1<<B,b||(m[x]|=
8192),u+=1,v=e[u+1],B=this.kd[x].indexOf(v))}else this.u="Missing digit prefix"}for(u=0;7>u;u+=1)0!==(n&1<<u)&&(q+=this.hg(u,m));return q};k.prototype.uf=function(a,e,c){var g=e.length,n=0,m=[],q="",u;e+=" ";for(u=0;9>u;u+=1)m[u]=0;for(u=0;u<g;u+=1){var x=e.charCodeAt(u)-48;if(0<=x&&8>=x){var y=0!==(n&1<<x);n|=1<<x;var v=e[u+1];var B=this.sd[x].indexOf(v);-1!==B||y||this.Hb(a,x,c,511);var b=1;"-"===v&&(b=0,u+=1,v=e[u+1],B=this.sd[x].indexOf(v));-1!==B||"0"<=v&&"9">=v||" "===v||(this.u=(c?"S":"B")+
x+v+" not valid",u=g);y&&(y=0,0===(m[x]&8192)&&(y=1),y!==b&&(this.u=(c?"S":"B")+x+" can not have minus and non-minus",B=-1,u=g));for(;-1!==B;)0!==(m[x]&1<<B)?(this.u="Duplicate "+x+this.sd[x][B],B=-1,u=g):(this.gl(a,x,c,v,b),m[x]|=1<<B,b||(m[x]|=8192),u+=1,v=e[u+1],B=this.sd[x].indexOf(v))}else this.u="Missing digit prefix"}for(u=0;9>u;u+=1)0!==(n&1<<u)&&(q+=this.ig(u,m));return q};k.prototype.ph=function(a,e){var c;for(c=0;512>c;c+=1)a[c]=0!==(e&1<<(c&7))?1:0!==(c&16)?1:0};k.prototype.Qd=function(a,
e,c){var g=12,n=8191,m=a.qj,q=a.ym;a.Ld===this.Xn?(g=3,n=this.bn):a.Ld===this.Yn&&(g=9,n=this.cn);e.fill(0);c&&c.fill(0);if(0!==(m&1))if(0!==(q&1<<g)){m=~m;q=~q;for(a=0;a<=g;a+=1)q&1<<g-a&&this.W(e,a,!1,n);for(a=0;a<=g;a+=1)m&1<<g-a&&this.W(e,a,!0,n);c.set(e)}else{for(a=0;a<=g;a+=1)~m&1<<a&&this.W(c,a,!1,n);for(a=0;a<=g;a+=1)~q&1<<a&&this.W(c,a,!0,n);for(a=0;a<=g;a+=1)q&1<<g-a&&this.W(e,a,!1,n);for(a=0;a<=g;a+=1)m&1<<g-a&&this.W(e,a,!0,n)}else{for(a=0;a<=g;a+=1)0!==(m&1<<a)&&this.W(e,a,!1,n);for(a=
0;a<=g;a+=1)0!==(q&1<<a)&&this.W(e,a,!0,n);c&&c.set(e)}};k.prototype.nh=function(a,e,c,g,n){var m=this.ce,q="",u="";n===this.Xn?m=this.be:n===this.Yn&&(m=this.de);for(n=a.qj=0;n<e.length;n+=1){var x=m.indexOf(e[n]);a.qj|=1<<x}for(n=a.ym=0;n<c.length;n+=1)x=m.indexOf(c[n]),a.ym|=1<<x;for(n=0;n<m.length;n+=1)0!==(a.qj&1<<n)&&(q+=m[n]);for(n=0;n<m.length;n+=1)0!==(a.ym&1<<n)&&(u+=m[n]);return-1!==g?u+"/"+q+"/"+g:"B"+q+"/S"+u};k.prototype.lh=function(a,e,c,g,n){var m=0,q=this.Dl;var u=(1<<this.cb+1)/
6|0;var x=new Uint8Array(512);var y=a.ia;var v=a.G,B=a.R,b=a.$,l=a.Ld,f=a.De,r=a.h;if(a.bb)c=this.Le;else if(y||v)for(c=y?"M":"2PCA4,",y=0;16>y;y+=1)c+=n[y],15>y&&(c+=",");else if(b)c=this.nh(a,e,c,r,l);else{a=511;B?a=254:f&&(a=186);x.fill(0);n.fill(0);for(y=0;y<x.length;y+=1)q[y]=B?y:(y&448)>>6|y&56|(y&7)<<6;if(""!==g){c="MAP";for(y=0;y<u;y+=1)c+=g[y],e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(g[y]),x[m]=e>>5,m+=1,x[m]=e>>4&1,m+=1,x[m]=e>>3&1,m+=1,x[m]=e>>2&1,m+=
1,x[m]=e>>1&1,m+=1,x[m]=e&1,m+=1;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(g[y]);x[m]=e>>5;x[m+1]=e>>4&1;c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e&48];for(y=0;512>y;y+=1){g=0;u=this.cb;for(m=8;0<=m;--m)0!==(a&1<<m)&&(0!==(y&1<<m)&&(g|=1<<u),--u);n[q[y]]=x[g]}-1!==r&&(c+="/"+r)}else f?(m=this.wf(n,e,!1,a),n=this.wf(n,c,!0,a)):B?(m=this.sf(n,e,!1),n=this.sf(n,c,!0)):(m=this.uf(n,e,!1),n=this.uf(n,c,!0)),c=-1!==r?n+"/"+m+"/"+r:"B"+m+"/S"+
n}return c};k.prototype.lf=function(a){var e=a,c=0;if(-1!==a.indexOf(" "))for(e="";c<a.length;)" "!==a[c]&&(e+=a[c]),c+=1;return e};k.prototype.hj=function(a,e,c){for(var g=!0,n=0,m,q=1;q<e.length&&g;)m="0123456789".indexOf(e[q]),-1!==m?n=10*n+m:(this.u="Illegal character in Wolfram rule",g=!1),q+=1;g&&(0>n||254<n?(this.u="Wolfram rule number must be 0-254",g=!1):0!==(n&1)?(this.u="Wolfram rule number must be even",g=!1):(this.ph(c,n),a.Nd=n,a.ca="W"+n));return g};k.prototype.Cg=function(a,e){if(""===
e)if(a.R)a.ca+="H";else if(a.De)a.ca+="V";else if(a.$)switch(a.Ld){case this.Bm:a.ca+=this.Yr.toUpperCase();break;case this.Xn:a.ca+=this.Xr.toUpperCase();break;case this.Yn:a.ca+=this.Zr.toUpperCase()}e=AliasManager.gq(a.ca);null===e&&a.Fd&&0===a.Ej&&(e="R"+a.Mc+",C"+a.h+",M1,S"+a.Rd+".."+a.Me+",B"+a.Zd+".."+a.Ff+",N",e=a.Kg===this.Ba?e+"M":a.Kg===this.zd?e+"N":e+"C",e=AliasManager.gq(e));a.hc&&(a.ca+="History");-1!==a.bc&&(a.ca+=":"+"ptkcs"[a.bc].toUpperCase(),a.ca+=a.Be,a.hq&&(a.ca+="+"+a.hq),
a.xx&&(a.ca+="*"),a.fg!==a.Be||a.ro||a.ot)&&(a.ca+=","+a.fg,a.ro&&(a.ca+="+"+a.ro),a.ot&&(a.ca+="*"));null!==e&&(""===e&&(e=a.hc?"Life":"Conway's Life"),a.hc&&(e+="History"),a.Gf=e)};k.prototype.hn=function(a,e){var c=86,g=a.length;g>=c?this.cb=8:(c=this.Dc,g>=c?(this.cb=6,e.R=!0):(c=this.Ec,g>=c?(this.cb=4,e.De=!0):c=-1));if(0<=c)for(e=0;e<c;e+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[e])&&(c=-1);return c};k.prototype.j=function(a,e,c,g,n){var m=0,q=e.length,
u=a.substr(this.index,q),x;if(u!==e)","===e[0]&&(","===u[0]&&(u=u.substr(1)),e=e.substr(1)),this.u="LtL expected '"+e.toUpperCase()+"' got '"+u.toUpperCase()+"'",this.index=-1;else if(","===e[0]&&(e=e.substr(1)),this.index+=q,q=a[this.index],this.index<a.length?x=q.charCodeAt(0):x=-1,"n"===e)"m"===q||"n"===q||"c"===q?(this.index+=1,m=this.Ba,"n"===q?m=this.zd:"c"===q&&(m=this.xe)):(this.u="LtL expected 'NM', 'NN' or 'NC' got 'N"+q.toUpperCase()+"'",this.index=-1);else if(48>x||57<x)this.u="LtL '"+
n+e.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=x&&57>=x;)m=10*m+(x-48),this.index+=1,this.index<a.length?x=a[this.index].charCodeAt(0):x=-1;-1!==c&&m<c&&(this.u="LtL '"+n+e.toUpperCase()+m+"' < "+c,this.index=-1);-1!==g&&m>g&&(this.u="LtL '"+n+e.toUpperCase()+m+"' > "+g,this.index=-1)}return m};k.prototype.ki=function(a,e){var c=!1,g=0;this.index=0;var n=this.j(e,"r",1,500,"");-1!==this.index&&(a.Mc=n,n=this.j(e,",c",0,256,""),-1!==this.index&&(2>n&&(n=2),a.h=n,n=this.j(e,",m",0,
1,""),-1!==this.index&&(a.Ej=n,n=this.j(e,",s",0,-1,""),-1!==this.index&&(a.Rd=n,n=this.j(e,"..",a.Rd,-1,"S"),-1!==this.index&&(a.Me=n,n=this.j(e,",b",0,-1,""),-1!==this.index&&(a.Zd=n,n=this.j(e,"..",a.Zd,-1,"B"),-1!==this.index&&(a.Ff=n,n=this.j(e,",n",-1,-1,""),-1!==this.index&&(a.Kg=n,c=!0))))))));if(c)if(this.index!==e.length)c=!1,this.u="LtL invalid characters after rule";else{switch(a.Kg){case this.Ba:g=(2*a.Mc+1)*(2*a.Mc+1);break;case this.zd:g=2*a.Mc*(a.Mc+1)+1;break;case this.xe:n=0;var m=
a.Mc*a.Mc+a.Mc;for(e=-a.Mc;e<=a.Mc;e+=1){for(g=0;(g+1)*(g+1)+e*e<=m;)g+=1;n+=2*g+1}g=n}g-=1-a.Ej;a.Zd>g&&(c=!1,this.u="LtL 'B"+a.Zd+"..' > "+g);a.Ff>g&&(c=!1,this.u="LtL 'B.."+a.Ff+"' > "+g);a.Rd>g&&(c=!1,this.u="LtL 'S"+a.Rd+"..' > "+g);a.Me>g&&(c=!1,this.u="LtL 'S.."+a.Me+"' > "+g)}return c};k.prototype.mi=function(a,e){var c=!1;this.index=0;a.h=2;a.Ej=1;a.Kg=this.Ba;var g=this.j(e,"",1,500,"");-1!==this.index&&(a.Mc=g,g=this.j(e,",",0,-1,""),-1!==this.index&&(a.Zd=g,g=this.j(e,",",a.Zd,-1,"B"),
-1!==this.index&&(a.Ff=g,g=this.j(e,",",0,-1,""),-1!==this.index&&(a.Rd=g,g=this.j(e,",",a.Rd,-1,"S"),-1!==this.index&&(a.Me=g,c=!0)))));c&&(this.index!==e.length?(c=!1,this.u="LtL invalid characters after rule"):(e=(2*a.Mc+1)*(2*a.Mc+1),a.Zd>e&&(c=!1,this.u="LtL 'B"+a.Zd+"..' > "+e),a.Ff>e&&(c=!1,this.u="LtL 'B.."+a.Ff+"' > "+e),a.Rd>e&&(c=!1,this.u="LtL 'S"+a.Rd+"..' > "+e),a.Me>e&&(c=!1,this.u="LtL 'S.."+a.Me+"' > "+e)));return c};k.prototype.li=function(a,e){var c=!1;this.index=0;-1===a.h&&(a.h=
2);a.Ej=1;a.Kg=this.Ba;var g=this.j(e,"r",1,500,"");-1!==this.index&&(a.Mc=g,g=this.j(e,"b",0,-1,""),-1!==this.index&&(a.Zd=g,g=this.j(e,"t",a.Zd,-1,"B"),-1!==this.index&&(a.Ff=g,g=this.j(e,"s",0,-1,""),-1!==this.index&&(a.Rd=g,g=this.j(e,"t",a.Rd,-1,"S"),-1!==this.index&&(a.Me=g,c=!0)))));c&&(this.index!==e.length?(c=!1,this.u="LtL invalid characters after rule"):(e=(2*a.Mc+1)*(2*a.Mc+1),a.Zd>e&&(c=!1,this.u="LtL 'B"+a.Zd+"' > "+e),a.Ff>e&&(c=!1,this.u="LtL 'B..T"+a.Ff+"' > "+e),a.Rd>e&&(c=!1,this.u=
"LtL 'S"+a.Rd+"..' > "+e),a.Me>e&&(c=!1,this.u="LtL 'S..T"+a.Me+"' > "+e)));return c};k.prototype.Te=function(a,e,c,g,n){var m=!1,q,u="HROT.",x,y=0;if(this.index+c>a.length)this.u="HROT '"+e+"' needs "+c+" hex digits";else{for(q=x=0;x<c&&-1!==q;)q="0123456789abcdef".indexOf(a[this.index]),-1!==q&&(this.index+=1,x+=1);if(-1===q)this.u="HROT '"+e+"' expected hex got '"+a[this.index]+"'";else{"B"===e?u+="births":(u+="survivals",y=1);n=n.I(Uint8,(c<<2)+1+y,u);m=0;n[m]=0;m+=1;--x;"S"===e&&(n[m]=0,m+=1);
for(;0<=x;)q="0123456789abcdef".indexOf(a[this.index-c+x]),--x,n[m]=q&1,m+=1,n[m]=q>>1&1,m+=1,n[m]=q>>2&1,m+=1,n[m]=q>>3&1,m+=1;"B"===e?g.Ve=n:g.Cf=n;m=!0}}return m};k.prototype.Ma=function(a,e){var c=-1;this.index+=1;if(this.index<a.length){var g=a[this.index].charCodeAt(0);if(48>g||57<g)this.u="HROT '"+e+"' needs a number";else for(c=g-48,this.index+=1,g=-1,this.index<a.length&&(g=a[this.index].charCodeAt(0));48<=g&&57>=g;)c=10*c+(g-48),this.index+=1,this.index<a.length?g=a[this.index].charCodeAt(0):
g=-1}else this.u="HROT '"+e+"' needs a number";return c};k.prototype.Qe=function(a,e,c,g){var n=!0,m;for(m=this.Ma(a,c);n&&-1!==m;){var q=-1;this.index<a.length&&"-"===a[this.index]&&(q=this.Ma(a,c),-1===q&&(this.u="HROT '"+c+m+"-' needs a number",n=!1));if(n&&(-1===q&&(q=m),m>q&&(this.u="HROT '"+c+m+"-"+q+"' wrong order",n=!1),n)){"S"===c?(this.hd=q,m+=1,q+=1):this.gd=q;m>g&&(m=g);for(q>g&&(q=g);m<=q;m+=1)e[m]=1;m=-1;this.index<a.length&&","===a[this.index]&&(m=this.Ma(a,c),-1===m&&(--this.index,
this.u=""))}}return n};k.prototype.ql=function(a,e){var c=a.Mc,g=(2*c+1)*(2*c+1);a.Hd=c;a.Jg=a.Kg;a.Cf=e.I(Uint8,g+1,"HROT.survivals");a.Ve=e.I(Uint8,g,"HROT.births");for(c=a.Rd;c<=a.Me;c+=1)a.Cf[c]=1;for(c=a.Zd;c<=a.Ff;c+=1)a.Ve[c]=1;if(this.pc){a.Ap=e.I(Uint8,g+1,"HROT.altSurvivals");a.zp=e.I(Uint8,g,"HROT.altBirths");for(c=a.GB;c<=a.FB;c+=1)a.Ap[c]=1;for(c=a.EB;c<=a.DB;c+=1)a.zp[c]=1}a.za=!0};k.prototype.bj=function(a,e,c){var g=!1,n,m;this.hd=this.gd=this.index=n=0;if("r"!==e[this.index])this.u=
"HROT expected 'R' got '"+e[this.index].dL()+"'";else{var q=this.Ma(e,"R");-1!==q&&(1>q?this.u="HROT 'R' < 1":500<q?this.u="HROT 'R' > 500":(a.Hd=q,g=!0,n=(2*q+1)*(2*q+1)))}g&&(g=!1,this.index<e.length?","!==e[this.index]?this.u="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=1,this.index<e.length?"c"!==e[this.index]?this.u="HROT expected 'C' got "+e[this.index].toUpperCase():(q=this.Ma(e,"C"),-1!==q&&(0>q?this.u="HROT 'C"+q+"' < 0":256<q?this.u="HROT 'C"+q+"' > 256":(2>q&&(q=2),
a.h=q,g=!0))):this.u="HROT expected 'C'"):this.u="HROT expected ','");g&&(g=!1,this.index<e.length?","!==e[this.index]?this.u="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=1,this.index<e.length?"s"!==e[this.index]?this.u="HROT expected 'S' got "+e[this.index].toUpperCase():(a.Cf=c.I(Uint8,n+2,"HROT.survivals"),g=this.Qe(e,a.Cf,"S",n)):this.u="HROT expected 'S'"):this.u="HROT expected ','");g&&(g=!1,this.index<e.length?","!==e[this.index]?this.u="HROT expected ',' got "+e[this.index].toUpperCase():
(this.index+=1,this.index<e.length?"b"!==e[this.index]?this.u="HROT expected 'B' got "+e[this.index].toUpperCase():(a.Ve=c.I(Uint8,n+1,"HROT.births"),g=this.Qe(e,a.Ve,"B",n)):this.u="HROT expected 'B'"):this.u="HROT expected ','");a.Jg=this.Pf;g&&this.index<e.length&&","===e[this.index]&&(g=!1,this.index+=1,this.index<e.length?"n"===e[this.index]?(this.index+=1,this.index<e.length?"m"===e[this.index]||"n"===e[this.index]||"c"===e[this.index]?("n"===e[this.index]?a.Jg=this.sg:"c"===e[this.index]&&
(a.Jg=this.Hp),this.index+=1,g=!0):this.u="HROT expected 'NM', 'NN' or 'NC' got 'N"+e[this.index].toUpperCase()+"'":this.u="HROT 'N' needs a neighborhood"):this.u="HROT expected 'N' got '"+e[this.index].toUpperCase()+"'":this.u="HROT expected 'N'");if(g){switch(a.Jg){case this.Pf:n=(2*a.Hd+1)*(2*a.Hd+1);break;case this.sg:n=2*a.Hd*(a.Hd+1)+1;break;case this.Hp:c=0;n=a.Hd*a.Hd+a.Hd;for(m=-a.Hd;m<=a.Hd;m+=1){for(q=0;(q+1)*(q+1)+m*m<=n;)q+=1;c+=2*q+1}n=c}--n;this.hd>n&&(g=!1,this.u="HROT 'S"+this.hd+
"' > "+n);g&&this.gd>n&&(g=!1,this.u="HROT 'B"+this.gd+"' > "+n);g&&(this.index!==e.length?(g=!1,this.u="HROT invalid characters after rule"):a.za=!0)}return g};k.prototype.ii=function(a,e,c){var g=!1,n=0;this.index=0;-1===a.h&&(a.h=2);if("r"!==e[this.index])this.u="HROT expected 'R' got '"+e[this.index].dL()+"'";else{var m=-1;this.index+=1;this.index<e.length&&(m=e[this.index].charCodeAt(0));if(48>m||57<m)this.u="HROT 'R' needs a number";else{var q=m-48;this.index+=1;m=-1;for(this.index<e.length&&
(m=e[this.index].charCodeAt(0));48<=m&&57>=m;)q=10*q+(m-48),this.index+=1,this.index<e.length?m=e[this.index].charCodeAt(0):m=-1;1>q?this.u="HROT 'R' < 1":500<q?this.u="HROT 'R' > 500":(a.Hd=q,g=!0,n=q*(q+1))}}g&&(g=!1,this.index<e.length?"b"!==e[this.index]?this.u="HROT expected 'B' got "+e[this.index].toUpperCase()+"'":(this.index+=1,g=this.Te(e,"B",n,a,c)):this.u="HROT expected 'B'");g&&(g=!1,this.index<e.length?"s"!==e[this.index]?this.u="HROT expected 'S' got "+e[this.index].toUpperCase()+"'":
(this.index+=1,g=this.Te(e,"S",n,a,c)):this.u="HROT expected 'S'");g&&this.index<e.length&&"z"===e[this.index]&&(a.Cf[1]=1,this.index+=1);g&&(this.index!==e.length?(g=!1,this.u="HROT invalid characters after rule"):(a.Jg=this.Pf,a.za=!0));return g};k.prototype.ve=function(a,e){for(var c=a.length,g=-1,n="",m=0;m<c;)1===a[m]?-1===g&&(g=m):-1!==g&&(""!==n&&(n+=","),n+=g+e,m-1!==g&&(n+="-"+(m-1+e)),g=-1),m+=1;-1!==g&&(""!==n&&(n+=","),n+=g+e,m-1!==g&&(n+="-"+(m-1+e)));return n};k.prototype.Pa=function(a,
e,c){var g="",n=!1;var m=AliasManager.BC(e);null!==m&&(g=AliasManager.gq(m),e=m);m=e.indexOf("|");if(-1===m)(n=this.$d(a,e,c,this.Si))&&a.$&&this.Qd(a,this.Oz,this.Kz);else if(-1===e.substr(m+1).indexOf("|")){if(n=this.$d(a,e.substr(0,m),c,this.Jz)){var q=new p(a.name,this);q.j(a);a.gK();if(n=this.$d(a,e.substr(m+1),c,this.Si))if(this.u=a.CI(q),""===this.u)if(!a.$&&(this.Si[0]||this.Jz[0])||a.$&&0!==(a.qj&1)||0!==(q.qj&1))this.u="Alternate not supported with B0",n=!1;else{a.$&&(this.Qd(q,this.Kz,
null),this.Qd(a,this.Oz,null));if(""!==g)a.Gf=g;else if(""!==a.Gf||""!==q.Gf)""===a.Gf&&(a.Gf=a.ca),""===q.Gf&&(q.Gf=q.ca),a.Gf=q.Gf+"|"+a.Gf;a.ca=q.ca+"|"+a.ca;g=AliasManager.gq(a.ca);null!==g&&(a.Gf=g);(a.za||a.Fd)&&a.aH(q,c);this.pc=!0}else n=!1}}else this.u="Only one alternate allowed";return n};k.prototype.oi=function(a,e){var c=!0,g=a.length,n=0;if("2pca4"!==a.substr(0,5))this.u="PCA rule must start with 2PCA4",c=!1;else{var m=5;var q=-1;if(","!==a[m])c=!0;else for(m+=1;c&&16>n&&m<g;)if(m<g){var u=
a[m];m+=1;"0"<=u&&"9">=u?(-1===q&&(q=0),q=10*q+u.charCodeAt(0)-48):","===u?15<q?(this.u="Value must be from 0 to 15",c=!1):(e[n]=q,n+=1,q=-1):(this.u="Illegal character found in rule",c=!1)}c&&(-1===q?(this.u=16===n?"Extra characters found after rule":"Need 16 values",c=!1):15<q?(this.u="Value must be from 0 to 15",c=!1):(e[n]=q,16!==n+1&&(this.u="Need 16 values",c=!1)))}return c};k.prototype.ni=function(a,e){var c=!0,g=0,n=a.length,m,q=0;if("m"!==a[g])this.u="Margolus rule must start with M",c=!1;
else{g+=1;"s,d"===a.substr(g,g+2)&&(g+=3);for(m=-1;c&&16>q&&g<n;)if(g<n){var u=a[g];g+=1;"0"<=u&&"9">=u?(-1===m&&(m=0),m=10*m+u.charCodeAt(0)-48):","===u||";"===u?15<m?(this.u="Value must be from 0 to 15",c=!1):(e[q]=m,q+=1,m=-1):(this.u="Illegal character found in rule",c=!1)}c&&(-1===m?(this.u=16===q?"Extra characters found after rule":"Need 16 values",c=!1):15<m?(this.u="Value must be from 0 to 15",c=!1):(e[q]=m,16!==q+1&&(this.u="Need 16 values",c=!1)))}return c};k.prototype.$d=function(a,e,c,
g){var n=!1,m=null,q=null,u=null,x="012345678ceaiknjqrytwz-";var y=this.tt.length;var v=this.Yr.length;var B=this.Xr.length,b=this.Zr.length,l=this.mv.length,f="";g[0]=0;var r=AliasManager.BC(e);null!==r&&(""===e&&(a.ca="Conway's Life"),e=r);if("map"===e.substr(0,3).toLowerCase()){f=e.substr(3);var w=f.indexOf("/");-1===w?"=="===f.substr(-2)&&(f=f.substr(0,f.length-2)):"=="===f.substr(w-2,2)&&(f=f.substr(0,w-2)+f.substr(w));e=this.hn(f,a);if(0<=e)if(n=!0,u=f.substr(e),f=f.substr(0,e),"/"===u[0]){r=
1;a.h=0;r<u.length&&("g"===u[r].toLowerCase()||"c"===u[r].toLowerCase())&&(r+=1);for(w=0;r<u.length&&-1!==w;)w="0123456789".indexOf(u[r]),-1!==w?a.h=10*a.h+w:(this.u="Illegal character in generations number",a.h=-1,n=!1),r+=1;-1!==a.h&&(2>a.h||256<a.h)&&(this.u="Generations number must be 2-256",a.h=-1,n=!1)}else""!==u&&(r=u.length,this.u="MAP length must be "+this.Ec+", "+this.Dc+" or 86 not "+(r+e),n=!1);else this.u=86===f.length||f.length===this.Dc||f.length===this.Ec?"MAP contains illegal base64 character":
"MAP length must be "+this.Ec+", "+this.Dc+" or 86 not "+f.length}else if(e=e.toLowerCase(),e=this.lf(e),"2pca4"===e.substr(0,5)){if(n=this.oi(e,g))a.G=!0,a.h=16}else if("m"===e[0]){if(n=this.ni(e,g))a.ia=!0}else{n=!0;if("g"===e[0]){r=1;for(w=a.h=0;r<e.length&&-1!==w;)w="0123456789".indexOf(e[r]),-1!==w&&(a.h=10*a.h+w,r+=1);1<r&&(2>a.h||256<a.h?(this.u="Generations number must be 2-256",a.h=-1,n=!1):(r<e.length&&"/"===e[r]&&(r+=1),e=e.substr(r),n=!0))}if(n&&(w=e.lastIndexOf("g"),-1!==w&&w!==e.length-
1&&!(0<w&&"/"===e[w-1]))){r=w+1;for(w=a.h=0;r<e.length&&-1!==w;)w="0123456789".indexOf(e[r]),-1!==w&&(a.h=10*a.h+w,r+=1);r===e.length?2>a.h||256<a.h?(this.u="Generations number must be 2-256",a.h=-1,n=!1):(e=e.substr(0,e.lastIndexOf("g")),n=!0):a.h=-1}if(n)if(n=!1,"r"===e[0]||"1"<=e[0]&&"9">=e[0]&&-1!==e.indexOf(",")){if(n="r"===e[0]?-1!==e.indexOf(".")?this.ki(a,e):-1!==e.indexOf("t")?this.li(a,e):-1!==e.indexOf(",")?this.bj(a,e,c):this.ii(a,e,c):this.mi(a,e))a.za?(a.ca="R"+a.Hd+",",a.ca+="C"+a.h+
",",a.ca+="S"+this.ve(a.Cf,-1)+",",a.ca+="B"+this.ve(a.Ve,0),a.Jg!==this.Pf&&(a.ca+=",N",a.ca=a.Jg===this.sg?a.ca+"N":a.ca+"C")):(a.Fd=!0,a.ca="R"+a.Mc+",C"+a.h+",M"+a.Ej+",S"+a.Rd+".."+a.Me+",B"+a.Zd+".."+a.Ff+",N",a.ca=a.Kg===this.Ba?a.ca+"M":a.Kg===this.zd?a.ca+"N":a.ca+"C",0===a.Ej&&(a.Rd+=1,a.Me+=1))}else if("w"===e[0])n=this.hj(a,e,g);else if(r=e.lastIndexOf(this.Yr),-1!==r&&r===e.length-v&&(a.$=!0,a.Ld=this.Bm,e=e.substr(0,e.length-v),x=this.ce),r=e.lastIndexOf(this.Xr),-1!==r&&r===e.length-
B&&(a.$=!0,a.Ld=this.Xn,e=e.substr(0,e.length-B),x=this.be),r=e.lastIndexOf(this.Zr),-1!==r&&r===e.length-b&&(a.$=!0,a.Ld=this.Yn,e=e.substr(0,e.length-b),x=this.de),r=e.lastIndexOf(this.tt),-1!==r&&r===e.length-y&&(a.R=!0,e=e.substr(0,e.length-y),x=this.Mf),r=e.lastIndexOf(this.mv),-1!==r&&r===e.length-l&&(a.De=!0,e=e.substr(0,e.length-l),x=this.Nf),c=e.indexOf("/"),-1===c&&(c=e.indexOf("_")),-1!==c&&(r=e.lastIndexOf("/"),-1===r&&(r=e.lastIndexOf("_")),r!==c&&(u=e.substring(r+1),e=e.substr(0,r),
r=e.lastIndexOf(this.Yr),-1!==r&&r===e.length-v&&(a.$=!0,a.Ld=this.Bm,e=e.substr(0,e.length-v),x=this.ce),r=e.lastIndexOf(this.Xr),-1!==r&&r===e.length-B&&(a.$=!0,a.Ld=this.Xn,e=e.substr(0,e.length-B),x=this.be),r=e.lastIndexOf(this.Zr),-1!==r&&r===e.length-b&&(a.$=!0,a.Ld=this.Yn,e=e.substr(0,e.length-b),x=this.de),r=e.lastIndexOf(this.tt),-1!==r&&r===e.length-y&&(a.R=!0,e=e.substr(0,e.length-y),x=this.Mf),r=e.lastIndexOf(this.mv),-1!==r&&r===e.length-l&&(a.De=!0,e=e.substr(0,e.length-l),x=this.Nf))),
e===this.Le)a.bb=!0,a.h=256,n=!0;else{y=e.indexOf("b");v=e.indexOf("s");-1===c?0===y||0===v?-1===v?(m=e,q=""):-1===y?(q=e,m=""):y<v&&-1!==v?(m=e.substring(y+1,v),q=e.substring(v+1)):(q=e.substring(v+1,y),m=e.substring(y+1)):this.u="Unsupported rule name":(-1===y&&-1!==v?y=c:-1!==y&&-1===v&&(v=c),y<v?(m=e.substring(0,c),q=e.substring(c+1)):(m=e.substring(c+1),q=e.substring(0,c)));-1!==y&&m&&"b"===m[0]&&(m=m.substring(1));-1!==v&&q&&"s"===q[0]&&(q=q.substring(1));if(null!==u)if(r=0,-1!==a.h)this.u=
"Generations defined twice",m=null;else{a.h=0;r<u.length&&("g"===u[r].toLowerCase()||"c"===u[r].toLowerCase())&&(r+=1);for(w=0;r<u.length&&-1!==w;)w="0123456789".indexOf(u[r]),-1!==w?a.h=10*a.h+w:(this.u="Illegal character in generations number",a.h=-1,m=null),r+=1;-1!==a.h&&(2>a.h||256<a.h)&&(this.u="Generations number must be 2-256",a.h=-1,m=null)}if(null!==m&&null!==q){n=!0;for(r=0;r<m.length;)w=x.indexOf(m[r]),-1===w?(this.u="Illegal character in birth specification",n=!1,r=m.length):r+=1;if(n)for(r=
0;r<q.length;)w=x.indexOf(q[r]),-1===w?(this.u="Illegal character in survival specification",n=!1,r=q.length):r+=1}}}n&&-1===a.Nd&&!1===a.Fd&&!1===a.za&&(a.ca=this.lh(a,m,q,f,g),""!==this.u&&(n=!1),2===a.h&&(a.h=-1));n?this.Cg(a,f):(a.JL=!1,a.za=!1,a.h=-1,a.bb=!0);return n};k.prototype.jo=function(a,e,c,g){var n=0,m=e.length-1,q=!1,u=!0,x,y=0,v=0,B=0,b=0,l=this.Mn;for(x=e[n];!q;){var f=x;x=e[n+1];var r=-1;switch(f){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":b=
10*b+parseInt(f,10);break;case "b":r=0;break;case "o":r=1;break;case ".":r=0;break;case "z":r=7;a.hc=!0;a.zo=!0;break;case "$":0===b&&(b=1);B+=b;b=0;v>y&&(y=v);v=0;break;case "!":0===b&&(b=1);B+=b;b=0;v>y&&(y=v);q=!0;break;default:u=!1,"A"<=f&&"X">=f?(u=!0,r=f.charCodeAt(0)-64):"p"<=f&&"y">f?"A"<=x&&"X">=x?(u=!0,r=24*(f.charCodeAt(0)-111)+(x.charCodeAt(0)-64),n+=1,x=e[n+1]):"x"===f&&(u=!0,a.hc=!0,a.zo=!0,r=3):"y"===f&&("A"<=x&&"O">=x?(u=!0,r=24*(f.charCodeAt(0)-111)+(x.charCodeAt(0)-64),n+=1,x=e[n+
1]):(u=!0,a.hc=!0,a.zo=!0,r=5))}if(0<=r)if(0===b&&(b=1),c||(0===l[r]&&(a.Uq+=1),l[r]+=b,r>=a.ud&&(a.ud=r+1)),0<r&&c)for(;0<b;){a.Ig[B][v]=-1===a.h?r:2===a.h?1===r?LifeConstants.ub:0:r<a.h?r:1;if(!a.hc&&-1===a.h&&1===r||a.hc&&r&1||-1!==a.h&&1===r)a.me[B][v>>4]|=1<<(~v&15);v+=1;--b}else v+=b,b=0;u||(" "===f||"\t"===f||"\n"===f?u=!0:(this.u="Illegal character in pattern: "+f,this.K=q=a.ln=!0));n+=1;n===m&&(q||(0===b&&(b=1),B+=b,b=0,v>y&&(y=v)),q=!0)}c||(0===y&&(B=y=1),a.width=y,a.height=B,16384<y||16384<
B?a.rg=!0:(a.me=Array.ea(Uint16,B,(y-1>>4)+1,0,g,"Pattern.lifeMap"),a.Ig=Array.ea(Uint8,B,y,0,g,"Pattern.multiStateMap")),a.Li="RLE");a.ln&&(n=-1);return n};k.prototype.$k=function(a,e){var c=e.indexOf("\n");-1===c&&(c=e.length);a.ND=e.substring(0,c).trim()};k.prototype.jd=function(a,e,c){for(var g=!1;e<c&&!g;)" "===a[e]?e+=1:g=!0;return e};k.prototype.al=function(a){var e=a.indexOf("\n"),c=0,g=!1,n=!1,m=0;-1===e&&(e=a.length);for(;m<e&&!g;)"="===a[m]?g=!0:" "!==a[m]?g=!0:m+=1;if(g&&"="===a[m]){m=
this.jd(a,m+1,e);m<e&&"-"===a[m]&&(n=!0,m+=1);for(g=!1;m<e&&!g;){var q="0123456789".indexOf(a[m]);-1!==q?(c=10*c+q,m+=1):g=!0}this.lk=!0;n&&(c=-c);this.sx=c}};k.prototype.kf=function(a,e){var c=a.indexOf("\n"),g=0,n=0,m=!1,q=!1,u=!1,x=0;-1===c&&(c=a.length);if(e){for(;x<c&&!u;)"="===a[x]?u=!0:" "!==a[x]?u=!0:x+=1;u&&"="===a[x]&&(x+=1)}else u=!0;if(u&&(x=this.jd(a,x,c),x<c)){"-"===a[x]&&(m=!0,x+=1);for(u=!1;x<c&&!u;)e="0123456789".indexOf(a[x]),-1!==e?(g=10*g+e,x+=1):u=!0;this.Mg=!0;this.nu=m?-g:g;
x=this.jd(a,x,c);if(x<c&&","===a[x]&&(x=this.jd(a,x+1,c),x<c)){"-"===a[x]&&(q=!0,x+=1);for(u=!1;x<c&&!u;)e="0123456789".indexOf(a[x]),-1!==e?(n=10*n+e,x+=1):u=!0;this.ou=q?-n:n}}};k.prototype.kh=function(a){var e=a.indexOf("XRLE");0===e&&(e=a.indexOf("Pos"),-1!==e&&this.kf(a.substr(e+3),!0),e=a.indexOf("Gen"),-1!==e&&this.al(a.substr(e+3)))};k.prototype.fl=function(a,e){var c=e.indexOf("\n");-1===c&&(c=e.length);a.name=e.substring(0,c).trim()};k.prototype.Pd=function(a,e,c,g){var n=c.indexOf("\n");
-1===n&&(n=c.length);" "===c[0]&&(e+=" ");c=""+c.substring(0,n).trim();a.title+=c+" ";g?a.Xf+=e+c+"\n":a.sc+=e+c+"\n";return n+1};k.prototype.A=function(a){var e=-1;a+=" ";var c="0123456789".indexOf(a[this.index]);if(-1!==c)for(e=0;-1!==c;)e=10*e+c,this.index+=1,c="0123456789".indexOf(a[this.index]);return e};k.prototype.si=function(a,e){e=this.A(e);a.Be=e;a.fg=e};k.prototype.fj=function(a,e){var c=this.A(e),g=-1,n=0,m=0;if(-1!==c){var q=e[this.index];if("-"===q||"+"===q)this.index+=1,n=this.A(e),
-1===n?c=-1:"-"===q&&(n=-n);if(","===e[this.index])if(this.index+=1,g=this.A(e),-1===g)c=-1;else{if(q=e[this.index],"-"===q||"+"===q)this.index+=1,m=this.A(e),-1===m?c=-1:"-"===q&&(m=-m)}else g=c}0!==n&&0!==m&&(c=-1);0===c&&0===g&&(c=-1);0===n&&0===m||0!==c&&0!==g||(c=-1);a.Be=c;a.fg=g;a.hq=n;a.ro=m};k.prototype.ej=function(a,e){var c=this.A(e),g=-1,n=0,m=0,q=!1,u=!1;if(-1!==c){var x=e[this.index];"*"===x&&(q=!0,this.index+=1,x=e[this.index]);if("-"===x||"+"===x)n=this.A(e),-1===n?c=-1:"-"===x&&(n=
-n),this.index+=1,x=e[this.index];if(","===x)if(this.index+=1,g=this.A(e),-1===g)c=-1;else{if(x=e[this.index],"*"===x&&(u=!0,this.index+=1,x=e[this.index]),"-"===x||"+"===x)this.index+=1,m=this.A(e),-1===m?c=-1:"-"===x&&(m=-m)}else g=c}q&&u&&(c=-1);0!==n&&0!==m&&(c=-1);if(q&&0!==m||u&&0!==n)c=-1;if(0===c||0===g)c=-1;q||u||(u=!0);a.Be=c;a.fg=g;a.hq=n;a.ro=m;a.xx=q;a.ot=u};k.prototype.yh=function(a,e){var c=this.A(e),g=-1;-1!==c&&(","===e[this.index]?(this.index+=1,g=this.A(e),-1===g&&(c=-1)):g=c);
a.Be=c;a.fg=g};k.prototype.pi=function(a,e){var c=this.A(e),g=-1;-1!==c&&(","===e[this.index]?(this.index+=1,g=this.A(e),-1===g&&(c=-1)):g=c);0===c&&0===g&&(c=-1);a.Be=c;a.fg=g};k.prototype.sh=function(a,e){var c=!1;e=this.lf(e).toLowerCase();if(""!==e){a.bc="ptkcs".indexOf(e[0]);if(-1!==a.bc)if(this.index=1,2!==a.bc&&-1!==e.indexOf("*"))a.Be=-1;else switch(a.bc){case 0:this.pi(a,e);break;case 1:this.fj(a,e);break;case 2:this.ej(a,e);break;case 3:this.yh(a,e);break;case 4:this.si(a,e);break;default:a.Be=
-1}this.index!==e.length&&(a.Be=-1);-1!==a.Be?c=!0:(a.bc=-1,this.u="Invalid bounded grid definition '"+e.toUpperCase()+"'")}return c};k.prototype.mc=function(a,e,c,g){var n,m,q=null;if(c[e]===a){for(e+=1;e<g&&" "===c[e];)e+=1;for(e<g&&"="===c[e]&&(e+=1);e<g&&" "===c[e];)e+=1;a=0;var u=n=!1;"-"===c[e]&&(e+=1,u=!0);for(m=c[e].charCodeAt(0);e<g&&48<=m&&57>=m;)a=10*a+(m-48),e+=1,n=!0,e<g&&(m=c[e].charCodeAt(0));for(n&&(q=u?-a:a);e<g&&" "===c[e];)e+=1;for(e<g&&","===c[e]&&(e+=1);e<g&&" "===c[e];)e+=1}return[q,
e]};k.prototype.ri=function(a,e){this.Pj=this.Qj=-1;var c=this.mc("x",0,a,e);var g=c[1];c[0]&&(this.Qj=c[0]);c=this.mc("y",g,a,e);g=c[1];c[0]&&(this.Pj=c[0]);c=this.mc("h",g,a,e);g=c[1];c[0]&&(this.nu=c[0],this.Mg=!0);c=this.mc("v",g,a,e);c[0]&&(this.ou=c[0])};k.prototype.Se=function(a,e,c,g){var n=e.indexOf("\n"),m=e.indexOf("rule"),q="";-1===n&&(n=e.length);this.ri(e,n);-1===m?c?q="":q=e.substring(1,n).trim():(q=e.substring(m+4,n).trim(),"="===q[0]&&(q=q.substring(1).trim()));a.Xq=q;a.ca=q;e=q.lastIndexOf(":");
-1!==e&&(this.sh(a,q.substring(e+1))?q=q.substr(0,e).trim():e=-2);m=q.toLowerCase().lastIndexOf("history");-1!==m&&m===q.length-7&&(a.hc=!0,q=q.substr(0,q.length-7).trim());m=q.indexOf("|");-1!==m&&"history"===q.toLowerCase().substr(0,m).trim().substr(-7)&&(a.hc=!0,c=q.substr(0,m).trim(),q=c.substr(0,c.length-7)+q.substr(m));a.hc||(m=q.toLowerCase().lastIndexOf("superTBD"),-1!==m&&m===q.length-8&&(a.Gc=!0,q=q.substr(0,q.length-8).trim()),m=q.indexOf("|"),-1!==m&&"superTBD"===q.toLowerCase().substr(0,
m).trim().substr(-8)&&(a.Gc=!0,c=q.substr(0,m).trim(),q=c.substr(0,c.length-8)+q.substr(m)));-2!==e&&this.Pa(a,q,g)?this.ta=!0:this.yj=!0;return n+1};k.prototype.OB=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};k.prototype.Re=function(a,e,c){var g=0,n=e.length,m=!1,q=!1;var u=this.Mn;var x=4;a.ia=!1;a.bb=!1;a.bc=-1;a.width=0;a.height=0;a.rg=!1;a.me=null;a.Ig=null;
a.ln=!1;a.hc=!1;a.Gc=!1;a.zo=!1;a.R=!1;a.Nd=-1;a.De=!1;a.h=-1;a.Fd=!1;a.Mc=-1;a.Ej=1;a.Rd=-1;a.Me=-1;a.Zd=-1;a.Ff=-1;a.za=!1;a.Ve=null;a.Cf=null;a.Hd=-1;a.title="";a.sc="";a.Xf="";a.ud=2;a.Uq=0;u.fill(0);for(e+=" ";g<n&&!a.ln;)switch(u=e[g],u){case "#":g+=1;u=e[g];g+=1;switch(u){case "N":this.fl(a,e.substring(g));break;case "O":this.$k(a,e.substring(g));break;case "C":this.kh(e.substring(g));break;case "P":case "R":this.kf(e.substring(g),!1);break;case "\n":--g}g="\n"===u?g+this.Pd(a,"#",e.substring(g),
m):g+this.Pd(a,"#"+u,e.substring(g),m);break;case "x":g+=this.Se(a,e.substring(g),!0,c);q=!0;break;case "\n":g+=1;break;default:m?g+=this.Pd(a,"",e.substring(g),!0):(m=!0,u=this.jo(a,e.substring(g),!1,c),-1!==u&&(g=a.rg?g+u:g+this.jo(a,e.substring(g),!0,c)))}q||(this.Pa(a,"",c)?this.ta=!0:this.yj=!0);-1!==a.bc&&(a.za&&(x=6*a.Hd),a.Fd&&(x=6*a.Mc),a.Be>=16384-x||a.fg>=16384-x)&&(this.u="Bounded grid is too big",this.ta=!1,a.bc=-1);!a.Fd||(1<a.bc&&(this.u="LtL only supports Plane or Torus",this.ta=!1,
a.bc=-1),a.R&&(this.u="LtL does not support Hex grid",this.ta=!1,a.R=!1),0===a.Zd&&-1===a.bc&&(this.u="LtL does not support B0 unbounded",this.ta=!1),0!==a.bc&&1!==a.bc)||0!==a.Be&&0!==a.fg||(this.u="LtL bounded grid must be finite",this.ta=!1,a.bc=-1);a.$&&-1!==a.bc&&(0!==(a.Be&1)?(this.u="Bounded grid width must be even",this.ta=!1,a.bc=-1):0!==(a.fg&1)&&(this.u="Bounded grid height must be even",this.ta=!1,a.bc=-1));a.G&&0!==this.Si[0]&&(this.u="PCA first value must be 0",this.Si[0]=0,this.ta=
!1);a.ia&&(15===this.Si[0]&&0!==this.Si[15]?(this.u="Margolus last value must be 0 when first is 15",this.ta=!1):0!==this.Si[0]&&15!==this.Si[0]&&(this.u="Margolus first value must be 0 or 15",this.ta=!1));!a.za||(1<a.bc&&(this.u="HROT only supports Plane or Torus",this.ta=!1,a.bc=-1),a.R&&(this.u="HROT does not support Hex grid",this.ta=!1,a.R=!1),a.Ve&&1===a.Ve[0]&&-1===a.bc&&(this.u="HROT does not support B0 unbounded",this.ta=!1),0!==a.bc&&1!==a.bc)||0!==a.Be&&0!==a.fg||(this.u="HROT bounded grid must be finite",
this.ta=!1,a.bc=-1);a.bb&&a.hc&&(this.u="[R]History not valid with none rule",this.ta=a.hc=!1);a.bb&&a.Gc&&(this.u="[R]Super not valid with none rule",this.ta=a.hc=!1);-1===a.h||!a.hc||a.Fd||a.za||(this.u="[R]History not valid with Generations",this.ta=a.hc=!1);-1===a.h||!a.Gc||a.Fd||a.za||(this.u="[R]Super not valid with Generations",this.ta=a.Gc=!1);-1===a.h||!this.Si[0]||a.Fd||a.za||(this.u="Generations does not support B0",this.ta=!1);a.Fd&&a.hc&&(this.u="[R]History not valid with LtL",this.ta=
a.hc=!1);a.Fd&&a.Gc&&(this.u="[R]Super not valid with LtL",this.ta=a.Gc=!1);a.za&&a.hc&&(this.u="[R]History not valid with HROT",this.ta=a.hc=!1);a.za&&a.Gc&&(this.u="[R]Super not valid with HROT",this.ta=a.Gc=!1);a.ia&&a.hc&&(this.u="[R]History not valid with Margolus",this.ta=a.hc=!1);a.ia&&a.Gc&&(this.u="[R]Super not valid with Margolus",this.ta=a.Gc=!1);a.ia&&-1!==a.bc&&(-1!==a.fg&&0!==(a.fg&1)&&(this.u="Bounded grid height must be even",a.bc=-1,this.ta=!1),-1!==a.Be&&0!==(a.Be&1)&&(this.u="Bounded grid width must be even",
a.bc=-1,this.ta=!1));this.ta&&(a.zo?8<a.ud&&(this.u="Illegal state in pattern for Niemiec",this.ta=!1,this.K=!0):a.hc?7<a.ud&&(this.u="Illegal state in pattern for [R]History",this.ta=!1,this.K=!0):a.Gc?26<a.ud&&(this.u="Illegal state in pattern for [R]Super",this.ta=!1,this.K=!0):-1!==a.h&&a.ud>a.h&&(this.u=a.Fd?"Illegal state in pattern for LtL":a.za?"Illegal state in pattern for HROT":a.G?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.K=!0,this.ta=!1));a.Fd&&
this.ql(a,c)};k.prototype.dj=function(a,e){var c=!0,g=!1,n=0,m=0,q=0,u=0,x=0,y=!0,v=t.Lz,B=null,b=[],l={},f=null;e.kp();var r=e.N();for(""!==r&&"@"===r[0]&&(r="");c&&""!==r;){for(;c&&!g&&""!==r;){if("/"===r[0])e.kp();else if("xpm"===r.toLowerCase())e.kp();else if('"'===r[0])r=r.substr(1),e.Ol(r)&&(n=e.rw(r),e.D()&&(m=e.F(),e.D()&&(q=e.F(),r=e.N(),'"'===r[r.length-1]&&(r=r.substr(0,r.length-1),e.Ol(r)&&(u=e.rw(r)))))),0<n&&0<m&&1<=u&&2>=u&&0===m%n?7!==n&&15!==n&&31!==n?g=!1:(g=!0,x=0,B=new Uint16Array(n*
m),f=new Uint32Array(q)):c=!1;else switch(r){case "circles":v=t.nK;l={};B=[];f=[];break;case "diamonds":v=t.oK;l={};B=[];f=[];break;case "hexagons":v=t.pK;l={};B=[];f=[];break;case "triangles":v=t.rK,l={},B=[],f=[]}for(;e.Oq();)e.N();r=e.N();""!==r&&"@"===r[0]&&(r="")}for(;c&&g&&""!==r;){if("/"===r[0])e.kp();else{if('"'===r[0])if(c=!1,x<q){var w=r.substr(1);if(w.length===u&&void 0===l[w]&&(r=e.N(),"c"===r&&(r=e.N(),'"'===r[r.length-1]))){c=r.substr(0,r.length-1);c=parseInt(c,16);l[w]=x;f[x]=c;if(c>>
16!==(c>>8&255)||c>>16!==(c&255))y=!1;c=!0}}else{if(c=!1,'"'===r[r.length-1]&&r.length-2===n*u){r=r.substr(1,r.length-2);var z=0;for(c=!0;c&&z<n;)w=r[z*u],1<u&&(w+=r[z*u+1]),void 0===l[w]?c=!1:B[(x-q)*n+z]=l[w],z+=1}}else x===m+q?(g=!1,b[b.length]={ww:v,width:n,height:m,ID:q,tl:f.slice(),wI:B.slice(),HC:y},l={},B=null,y=!0,v=t.Lz):c=!1,e.cF();x+=1}for(;e.Oq();)e.N();r=e.N();""!==r&&"@"===r[0]&&(r="")}}c?x===m+q?(b[b.length]={ww:v,width:n,height:m,ID:q,tl:f.slice(),wI:B.slice(),HC:y},a.Id=b):a.Id=
null:a.Id=null};k.prototype.xh=function(a,e){var c=a.ud;a=a.Xd;var g=0,n=0,m=0,q=0,u=!1;e.kp();e.D()&&(g=e.F(),u=!0);for(;u;){u=!1;e.D()&&(n=e.F(),e.D()&&(m=e.F(),e.D()&&(q=e.F(),u=!0)));if(u)if(e.D()&&e.cI()){var x=e.F();var y=e.F();0<=g&&255>=g&&0<=n&&255>=n&&0<=m&&255>=m&&0<=q&&255>=q&&0<=x&&255>=x&&0<=y&&255>=y?this.Ne(a,g,n,m,q,x,y):u=!1}else 0<=g&&g<c&&0<=n&&255>=n&&0<=m&&255>=m&&0<=q&&255>=q?a[g]=n<<16|m<<8|q:u=!1;u&&(e.kp(),e.D()?g=e.F():u=!1)}};k.prototype.ae=function(a,e,c,g,n,m){var q=
!1,u=a.length;var x=g.length;var y=x%32;var v=1<<y,B=(x-y)/32;if(null!==m)for(x=0;!q&&x<m.length;){var b=m[x];if(b.No===e)for(y=0,q=!0;q&&y<a.length;)0!==this.ec(a[y],b.inputs[y])&&(q=!1),y+=1;x+=1}if(!q){null!==m&&(b={inputs:[],No:e},b.inputs=a.slice(),m[m.length]=b);g[g.length]=e;if(B>=c.og){for(x=0;x<u;x+=1)for(y=0;y<c.Rf;y+=1)n[x][y][n[x][y].length]=0;c.og+=1}for(x=0;x<u;x+=1)for(e=a[x],y=0;y<e.length;y+=1)n[x][e[y]][B]|=v}return q};k.prototype.$j=function(a){var e=a.length,c=e-2,g=e-1,n=!1;if(1<
e){for(;0<=c&&0<=this.ec(a[c],a[c+1]);)--c;if(0<c){for(n=!0;g>=c&&0>=this.ec(a[g],a[c]);)--g;var m=a[c];a[c]=a[g];a[g]=m;var q=(e-(c+1))/2|0;for(g=0;g<q;g+=1)m=a[e-g-1],a[e-g-1]=a[c+1+g],a[c+1+g]=m}}return n};k.prototype.ec=function(a,e){var c=0,g=a.length;if(g===e.length){for(;c<g&&a[c]===e[c];)c+=1;return c===g?0:a[c]-e[c]}return g-e.length};k.prototype.bk=function(a,e,c,g,n){var m,q,u,x=[],y=[],v=[],B=0;for(m=0;m<c;m+=1)for(v[m]=[],q=0;q<n.Rf;q+=1)v[m][q]=[];for(m=n.og=0;m<g.length;m+=1){var b=
g[m].inputs;var l=g[m].No;if(0===a)this.ae(b,l,n,y,v,null);else if(a===e-1){x=b.slice(1).sort(this.ec);for(q=0;q<x.length;q+=1)b[q+1]=x[q];do this.ae(b,l,n,y,v,null);while(this.$j(b))}else{var f=this.tb[n.Ti][a-1];var r=[];for(q=0;q<f.length;q+=1){for(u=0;u<b.length;u+=1)x[u]=b[f[q][u]];this.ae(x,l,n,y,v,r)&&(B+=1)}}}n.pg=[];for(m=0;m<c;m+=1)for(n.pg[m]=[],q=0;q<n.Rf;q+=1)n.pg[m][q]=new Uint32Array(v[m][q].length),n.pg[m][q].set(v[m][q]);n.Jd=new Uint8Array(y.length);n.Jd.set(y);n.Hk=B};k.prototype.ti=
function(a,e){var c=-1,g=-1,n=-1,m=0,q,u="",x={},y=0,v=0,B=[],b=null,l;var f=0;for(l=!0;l&&3>f;){var r=e.AC();switch(r.toLowerCase()){case this.Rf:l=!1;":"===e.N()?e.D()?(c=e.F(),2<=c&&256>=c?l=!0:this.u=this.Rf+" must be from 2 to 256"):this.u=this.Rf+" must be numeric":this.u=this.Rf+" missing :";break;case "neighborhood":l=!1;if(":"===e.N()){r=e.N();var w=!1;for(q=0;!w&&q<this.fa.length;)r.toLowerCase()===this.fa[q]?(g=q,m=this.hb[q],w=!0,b=new Int32Array(m+1)):q+=1;l=w;w||(this.u="neighborhood invalid")}else this.u=
"neighborhood missing :";break;case "symmetries":l=!1;if(-1!==g)if(":"===e.N()){r=e.N();w=!1;for(q=0;!w&&q<this.na[g].length;)r.toLowerCase()===this.na[g][q]?(n=q,w=!0):q+=1;l=w;w||(this.u="symmetries invalid")}else this.u="symmetries missing :";else this.u="symmetries must follow neighborhood";break;default:l=!1}f+=1}if(-1===c||-1===g||-1===n)""===this.u&&(this.u=-1===c?"missing "+this.Rf:-1===g?"missing neighborhood":"missing symmetries"),l=!1;e.Su();r=e.N();for(""!==r&&"@"===r[0]&&(r="");l&&""!==
r;){if("var"===r.toLowerCase()){l=!1;u=e.N();var z=[];if("="===e.N())for(l=!0;l&&!e.Oq();)if(e.D())q=e.F(),0<=q&&q<=c?z[z.length]=q:(l=!1,this.u="out of range value: "+u+"="+q);else{var A=e.N();if(void 0!==x[A])for(f=0;f<x[A].length;f+=1)z[z.length]=x[A][f];else l=!1,this.u="var unknown assignment: "+u+"="+A}else this.u="missing =: "+u;l&&(x[u]=z,y+=1)}else if(10>=c&&0===y&&e.Oq()){if(z=[],l=!1,r.length===m+1){f=0;for(l=!0;l&&f<m;)A=r.charCodeAt(f),48<=A&&A<48+c?(z[z.length]=[A-48],f+=1):(this.u=
"expected only digits: "+r,l=!1);l&&(A=r.charCodeAt(f),48<=A&&A<48+c?(v=A-48,B[B.length]={inputs:z,No:v}):(this.u="expected only digits: "+r,l=!1))}}else{l=!1;A=[];A[0]=r;b[0]=e.Ol(r)?parseInt(r,10):-1;for(f=1;e.XI();)f<m+1?e.D()?(b[f]=e.F(),A[f]=""):(b[f]=-1,A[f]=e.N()):A[f]=e.N(),f+=1;if(A.length===m+1){r=[];for(u in x){for(f=l=0;f<A.length;f+=1)u===A[f]&&(l+=1);1<l&&(r[r.length]=u)}z=[];var C={};for(f=0;f<r.length;f+=1)C[r[f]]=0;for(l=!0;;){for(f=0;f<m;f+=1)if(w=!1,q=b[f],-1!==q)q>=c?(this.u="state out of range: "+
q,l=!1):z[f]=[q];else{var D=A[f];if(r.length)for(q=0;!w&&q<r.length;)r[q]===D?w=!0:q+=1;0<r.length&&w?z[f]=[x[D][C[D]]]:void 0!==x[D]?z[f]=x[D]:(this.u="unknown variable: "+D,l=!1)}w=!1;q=b[f];if(-1!==q)0>q||q>=c?(this.u="output state out of range: "+q,l=!1):v=q;else{D=A[f];if(0<r.length)for(q=0;!w&&q<r.length;)r[q]===D?w=!0:q+=1;0<r.length&&w?v=x[D][C[D]]:void 0!==x[D]?v=x[D]:(this.u="unknown output variable: "+D,l=!1)}B[B.length]={inputs:z.slice(),No:v};for(f=0;f<r.length;f+=1)if(C[r[f]]<x[r[f]].length-
1){C[r[f]]+=1;break}else C[r[f]]=0;if(f>=r.length)break}}}e.Su();r=e.N();""!==r&&"@"===r[0]&&(e.cF(),r="")}l&&(null===a.m&&(a.m=new Allocator),a.Rf=c,a.Ti=g,a.R=g===t.Ik?!0:!1,this.bk(n,this.na[g].length,m,B,a),a.ud=a.Rf,this.u="",this.ta=!0,this.yj=!1,a.bb=!1,this.Oe(a,a.Rf));return l};k.prototype.Ne=function(a,e,c,g,n,m,q){var u=a.length,x;a[0]=0;for(x=1;x<u;x+=1){var y=2===u?0:(x-1)/(u-2);a[x]=(n*y+e*(1-y)|0)<<16|(m*y+c*(1-y)|0)<<8|q*y+g*(1-y)|0}};k.prototype.Oe=function(a,e){a.Xd=new Uint32Array(e);
this.Ne(a.Xd,255,0,0,255,255,0)};k.prototype.dl=function(a){return(new RegExp("neighborhood *: *"+this.fa[t.Ik])).test(a.source)};k.prototype.gj=function(a,e){var c,g=-1,n=-1,m=-1,q=null,u=0,x=null,y=0,v=null,B=0,b=null,l=0,f=0,r=0;var w=0;for(c=!0;c&&3>w;){c=e.AC();switch(c.toLowerCase()){case this.qe:c=!1;"="===e.N()?e.D()?(g=e.F(),2<=g&&256>=g?c=!0:this.u=this.qe+" must be from 2 to 256"):this.u=this.qe+" must be numeric":this.u=this.qe+" missing =";break;case this.Sf:c=!1;"="===e.N()?e.D()?(n=
e.F(),4===n||8===n?c=!0:this.u=this.Sf+" must be 4 or 8"):this.u=this.Sf+" must be numeric":this.u=this.Sf+" missing =";break;case this.$h:c=!1;"="===e.N()?e.D()?(m=e.F(),m>=n&&1E8>=m?c=!0:this.u=this.$h+" out of range"):this.u=this.$h+" must be numeric":this.u=this.$h+" missing =";break;default:c=!1}w+=1}if(-1===g||-1===n||-1===m)""===this.u&&(this.u=-1===g?"missing "+this.qe:-1===n?"missing "+this.Sf:"missing "+this.$h),c=!1;c&&(q=new Uint32Array(m*g),x=new Uint8Array(m*g),v=new Uint32Array(m),
b=new Uint32Array(m));for(e.Su();c&&e.D();){B>m?c=!1:(f=e.F(),r=0,v[B]=1===f?y:u,B+=1,b[l]=f,l+=1);for(;c&&e.D();)w=e.F(),1===f?0>w||w>=g?(this.u="bad state value in tree data: "+w,c=!1):(x[y]=w,y+=1):0>w||w>v.length?c=!1:b[w]!==f-1?(this.u="bad node pointer in tree data: "+f,c=!1):(q[u]=v[w],u+=1),r+=1;c&&r!==g&&(this.u="bad number of values on tree data line",c=!1);e.Su()}c&&(u+y!==m*g?(this.u="bad count of values in tree data",c=!1):f!==n+1?(this.u="bad last node (wrong level)",c=!1):a.ud>g&&(c=
!1,this.u="illegal state in pattern"));c&&(null===a.m&&(a.m=new Allocator),a.Sf=n,a.qe=g,a.$h=m,a.Jk=v[v.length-1],a.Lj=q.slice(0,u),a.Mj=x.slice(0,y),a.Nz=this.dl(e),a.R=a.Nz,a.ud=a.qe,this.u="",this.ta=!0,this.yj=!1,a.bb=!1,this.Oe(a,a.qe));return c};k.prototype.nC=function(a,e){var c=!1;e=new Script(e,!0);a.P.u="";if(-1!==e.eq("@RULE",-1)&&!e.Oq()){a.Mz=e.N();var g=e.eq("@TREE",-1);-1!==g?(c=this.gj(a,e))?a.ca=a.Mz:(""===a.P.u&&(a.P.u="not valid"),a.P.u="@TREE "+a.P.u):(g=e.eq("@TABLE",0),-1!==
g?(c=this.ti(a,e))?a.ca=a.Mz:(""===a.P.u&&(a.P.u="not valid"),a.P.u="@TABLE "+a.P.u):a.P.u="@TABLE and @TREE not found");c&&(c=e.eq("@COLORS",0),-1!==c&&this.xh(a,e),c=e.eq("@ICONS",0),-1!==c&&this.dj(a,e))}};k.prototype.create=function(a,e,c,g,n,m,q){a=new p(a,this);this.ta=this.yj=this.rg=this.K=this.Nt=!1;this.u="";this.index=0;this.lk=!1;this.sx=0;this.Mg=!1;this.ou=this.nu=0;this.Pj=this.Qj=-1;this.pc=!1;if("!"===e.substr(0,1)||"O"===e.substr(0,1)||"."===e.substr(0,1)||"*"===e.substr(0,1)||"o"===
e.substr(0,1))this.vh(a,e,c),this.ta=!0;null===a.me&&(this.ta=!1,"#Life 1.05"===e.substr(0,10)?this.Pe(a,e,!0,c):"#Life 1.06"===e.substr(0,10)?(this.qh(a,e,c),this.ta=!0):"#"===e[0]||"x"===e[0]?(this.Re(a,e,c),null!==a.me||a.rg||a.ln||(this.Pe(a,e,!1,c),this.yj=!1,a.Ig=null,a.hc=!1,a.Gc=!1,a.ud=2,a.Uq=0)):this.Re(a,e,c));a.rg&&(this.u="Pattern too big (maximum 16384x16384)",this.rg=!0,a.ln=!1,a.width=1,a.height=1,a.me=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap"));-1!==a.bc?(e=
a.ca.lastIndexOf(":"),a.co=a.ca.substr(e),a.ca=a.ca.substr(0,e)):a.co="";null===a.me&&""===this.u&&(this.u="Invalid pattern",a=null,this.ta=!1);a&&a.ln&&!a.rg&&(a=null,this.ta=!1);a&&(""!==a.sc&&"\n"!==a.sc[a.sc.length-1]&&(a.sc+="\n"),""!==a.Xf&&"\n"!==a.Xf[a.Xf.length-1]&&(a.Xf+="\n"),""!==this.u&&(a.R||a.$)&&null===a.ca.match(/[0-9]/)&&(a.R=!1,a.$=!1),""===this.u||this.rg||this.K||(a.ca=a.Xq,-1!==a.bc?(e=a.ca.lastIndexOf(":"),a.co=a.ca.substr(e),a.ca=a.ca.substr(0,e)):a.co="",a.ia=!1,a.G=!1,a.bb=
!1,a.hc=!1,a.Gc=!1,a.zo=!1,a.R=!1,a.$=!1,a.Nd=-1,a.De=!1,a.Fd=!1,a.KF=a.za,a.za=!1,h.aD(a)?(g=null===a.Jd?a.qe:a.Rf,a.ud>g?(this.u="Illegal state in pattern",this.K=!0):(a.ud=g,this.u="",this.ta=!0,this.yj=!1,a.bb=!1)):(e=a.Xf.indexOf("@RULE"),-1!==e&&(e=a.Xf.substr(e),this.nC(a,e)),-1===a.qe&&null===a.Jd&&this.lj(a,g,n,m,q))));return a};k.prototype.gI=function(a){var e=a.indexOf("@RULE");if(-1===e)a="";else{var c=a.indexOf("\x3c!--",e);a=-1===c?0===e?a:a.substr(e):a.substr(e,c-e);a=a.replace(/<li>/g,
"# ");a=a.replace(/<[^<]*>/g,"")}return a};k.prototype.kj=function(a,e,c){if(4===e.readyState)if(200===e.status){e=a.gI(e.responseText);var g=performance.now()-this.time;this.time=performance.now();""===e?(c.P.u="@RULE not found",h.Gu(c)):(a.nC(c,e),a=performance.now()-this.time,-1!==c.qe||null!==c.Jd?h.add(c,g,a,e.length):h.Gu(c))}else h.Gu(c)};k.prototype.ij=function(a){h.Gu(a)};k.prototype.lj=function(a,e,c,g,n){var m=this,q=null,u=a.ca,x="/wiki/Rule:"+u;this.time=performance.now();this.Nt=!0;
n?a.m=n.a.m:a.m=null;h.tG(a,e,c,g,n)||(q=new XMLHttpRequest,""!==DocConfig.Fz&&(x=DocConfig.Fz+u+DocConfig.QE),registerEvent(q,"load",function(){m.kj(m,q,a)},!1),registerEvent(q,"error",function(){m.ij(a)},!1),q.open("GET",x,!0),q.send(null))};window.PatternConstants=t;window.PatternManager=k;window.Pattern=p;window.RuleTreeCache=h}(),function(){function d(){this.tl=[]}d.prototype.add=function(k,p,h){this.tl[this.tl.length]=k<<16|p<<8|h};window.ColourManager={vj:[],wr:[],QC:!1,Ww:[48,48,48,0,255,
127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,
0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,
224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,
156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,
158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,
249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],Ys:[],ze:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],
brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",
189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,
255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],
indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,
238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",
0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",
255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,
192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",
106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},EL:function(){return this.Ys},
ZB:function(k){for(var p=0,h=!1,t=[];p<this.wr.length&&!h;)k===this.wr[p][0]?h=!0:p+=1;h&&(t=this.vj[this.wr[p][1]].tl);return t},Vb:function(k){this.wr[this.wr.length]=k},Ze:function(){var k,p=0,h;if(!this.QC){this.QC=!0;for(k=h=0;256>k;k+=1)this.Ys[k]=this.Ww[h]<<16|this.Ww[h+1]<<8|this.Ww[h+2],h+=3;k=new d;k.add(0,0,0);k.add(0,255,0);k.add(0,0,128);k.add(216,255,216);k.add(255,0,0);k.add(255,255,0);k.add(96,96,96);k.add(255,128,128);this.vj[p]=k;this.Vb(["LifeHistory",p]);p+=1;k=new d;k.add(48,
48,48);k.add(0,128,255);k.add(255,255,255);k.add(255,128,0);this.vj[p]=k;this.Vb(["WireWorld",p]);p+=1;k=new d;k.add(0,0,0);k.add(255,255,255);k.add(144,128,112);k.add(144,90,45);k.add(192,192,192);k.add(255,0,0);k.add(255,128,0);k.add(255,255,0);k.add(0,255,0);k.add(0,255,208);k.add(0,192,255);k.add(0,0,255);k.add(192,0,255);k.add(255,64,160);k.add(112,128,144);k.add(0,128,0);k.add(0,96,128);k.add(160,0,80);k.add(40,40,40);k.add(220,220,220);k.add(140,60,0);k.add(0,160,0);k.add(160,160,250);this.vj[p]=
k;this.Vb(["WWE",p]);this.Vb(["WWE2",p]);this.Vb(["WWEJ",p]);this.Vb(["WWEJ2",p]);this.Vb(["WWEJ3",p]);p+=1;k=new d;k.add(30,30,30);k.add(0,128,128);k.add(0,255,0);k.add(255,0,0);k.add(255,128,0);k.add(255,255,0);k.add(128,0,128);k.add(128,128,128);k.add(255,255,255);k.add(128,128,255);this.vj[p]=k;this.Vb(["Novoloop",p]);p+=1;k=new d;k.add(0,0,0);k.add(255,128,0);k.add(255,0,0);k.add(0,255,0);k.add(0,0,255);k.add(0,190,0);k.add(0,140,0);k.add(255,255,255);k.add(80,80,80);k.add(95,95,95);k.add(128,
128,128);k.add(0,64,0);k.add(255,255,0);k.add(64,0,164);k.add(64,32,64);k.add(80,80,100);k.add(95,95,125);k.add(128,255,128);k.add(64,100,100);this.vj[p]=k;this.Vb(["shapeloop",p]);this.Vb(["shapeloop-b",p]);this.Vb(["shapeloop2",p]);this.Vb(["shapeloop-ltd",p]);this.Vb(["2armshapeloop-a",p]);this.Vb(["2armshapeloop2-a",p]);this.Vb(["shapeloop2a-bounded",p]);this.Vb(["foodshapeloop",p]);this.Vb(["foodshapeloop2",p]);p+=1;k=new d;k.add(0,0,0);k.add(255,255,255);k.add(255,0,0);k.add(0,128,255);k.add(170,
0,0);k.add(85,0,0);this.vj[p]=k;this.Vb(["b3s23mmg",p]);p+=1;k=new d;k.add(0,0,0);k.add(255,0,0);k.add(0,255,0);k.add(0,0,255);k.add(255,255,0);k.add(0,255,255);k.add(255,0,255);k.add(92,36,110);k.add(0,99,140);k.add(176,196,222);k.add(115,61,26);this.vj[p]=k;this.Vb(["_235_4_O3",p]);this.Vb(["0_245_5_O4",p]);this.Vb(["0_245_5_O3",p]);this.Vb(["58_27_4_O3",p]);this.Vb(["0_24_4H_O3",p]);this.Vb(["2_235_4H_O3",p]);this.Vb(["24_235_4H_O3",p]);this.Vb(["3_25_4_O2",p]);this.Vb(["Snake_O5",p]);this.Vb(["Mites",
p]);this.Vb(["Mites2",p]);this.Vb(["Mites3",p]);p+=1;k=new d;k.add(48,48,48);k.add(255,128,0);k.add(0,0,255);k.add(32,32,255);k.add(64,64,255);k.add(96,96,255);this.vj[p]=k;this.Vb(["Alpha-1",p]);p+=1;k=new d;k.add(48,48,48);k.add(255,0,0);k.add(255,125,0);k.add(255,150,25);k.add(255,175,50);k.add(255,200,75);k.add(255,225,100);k.add(255,250,125);k.add(251,255,0);k.add(89,89,255);k.add(106,106,255);k.add(122,122,255);k.add(139,139,255);k.add(27,176,27);k.add(36,200,36);k.add(73,255,73);k.add(106,
255,106);k.add(235,36,36);k.add(255,56,56);k.add(255,73,73);k.add(255,89,89);k.add(185,56,255);k.add(191,73,255);k.add(197,89,255);k.add(203,106,255);k.add(0,255,128);k.add(255,128,64);k.add(255,255,128);k.add(33,215,215);k.add(27,176,176);k.add(24,156,156);k.add(21,137,137);this.Vb(["JvN29",p]);this.Vb(["Hutton32",p]);this.Vb(["Nobili32",p]);this.vj[p]=k}}}}(),function(){function d(k,p,h,t){this.f=k;this.g=p;this.l=h;this.o=t}d.prototype.set=function(k){this.f=k.f;this.g=k.g;this.l=k.l;this.o=k.o};
window.BoundingBox=d}(),function(){function d(p,h){this.index=h;this.da=p.Rn[h];this.Ha=p.Pm[h];this.A=p.lt[h];this.j=p.zs[h];this.H=new BoundingBox(0,0,0,0);this.Fa=new BoundingBox(0,0,0,0);this.aa=this.Ji=this.Hf=this.v=this.Zb=this.Ib=this.ma=0;this.P=p}function k(p,h){this.m=p;this.Ie=[];this.Hh=[];this.Rn=[];this.Pm=[];this.lt=[];this.zs=[];this.A=[];this.K=0;this.index=-1;this.NI=51;this.j=[];this.LB=h}d.prototype.jK=function(p,h,t){var a=h.length,e=h[0].length,c,g,n=0,m,q=t.Or;t=t.Pr;var u,
x=0,y=this.A,v=0,B=y[v],b=B.length;Array.yi(this.da,h);for(c=0;c<a;c+=1){var l=this.da[c];for(h=u=0;h<e;h+=1)if(m=l[h])for(g=15;0<=g;--g){if(0!==(m&1<<g)){var f=x;var r=u;var w=B[n];n+=1;p[f][r]=w&255;p[f][r+1]=w>>8&255;p[f+1][r]=w>>16&255;p[f+1][r+1]=w>>24;f+=2;w=B[n];n+=1;p[f][r]=w&255;p[f][r+1]=w>>8&255;p[f+1][r]=w>>16&255;p[f+1][r+1]=w>>24;f+=2;w=B[n];n+=1;p[f][r]=w&255;p[f][r+1]=w>>8&255;p[f+1][r]=w>>16&255;p[f+1][r+1]=w>>24;f+=2;w=B[n];n+=1;p[f][r]=w&255;p[f][r+1]=w>>8&255;p[f+1][r]=w>>16&255;
p[f+1][r+1]=w>>24;f+=2;w=B[n];n+=1;p[f][r]=w&255;p[f][r+1]=w>>8&255;p[f+1][r]=w>>16&255;p[f+1][r+1]=w>>24;f+=2;w=B[n];n+=1;p[f][r]=w&255;p[f][r+1]=w>>8&255;p[f+1][r]=w>>16&255;p[f+1][r+1]=w>>24;f+=2;w=B[n];n+=1;p[f][r]=w&255;p[f][r+1]=w>>8&255;p[f+1][r]=w>>16&255;p[f+1][r+1]=w>>24;f+=2;w=B[n];n+=1;p[f][r]=w&255;p[f][r+1]=w>>8&255;p[f+1][r]=w>>16&255;p[f+1][r+1]=w>>24;n>=b&&(v+=1,B=y[v],n=0)}u+=q}else u+=q<<4;x+=t}};d.prototype.xK=function(p,h,t){var a=h.length,e=h[0].length,c,g=0,n;var m=0;var q=
t.Or,u=t.Pr,x,y=0,v=this.A,B=0,b=v[B],l=b.length,f=v.length;var r=this.P.LB;Array.yi(h,this.da);for(c=0;c<a;c+=1){var w=h[c];for(t=0;t<e;t+=1)(n=w[t])&&(m+=r[n])}if(m)for(c=0;c<a;c+=1){w=h[c];for(t=x=0;t<e;t+=1)if(n=w[t])for(m=15;0<=m;--m){if(0!==(n&1<<m)){var z=y;r=x;b[g]=p[z][r]|p[z][r+1]<<8|p[z+1][r]<<16|p[z+1][r+1]<<24;g+=1;z+=2;b[g]=p[z][r]|p[z][r+1]<<8|p[z+1][r]<<16|p[z+1][r+1]<<24;g+=1;z+=2;b[g]=p[z][r]|p[z][r+1]<<8|p[z+1][r]<<16|p[z+1][r+1]<<24;g+=1;z+=2;b[g]=p[z][r]|p[z][r+1]<<8|p[z+1][r]<<
16|p[z+1][r+1]<<24;g+=1;z+=2;b[g]=p[z][r]|p[z][r+1]<<8|p[z+1][r]<<16|p[z+1][r+1]<<24;g+=1;z+=2;b[g]=p[z][r]|p[z][r+1]<<8|p[z+1][r]<<16|p[z+1][r+1]<<24;g+=1;z+=2;b[g]=p[z][r]|p[z][r+1]<<8|p[z+1][r]<<16|p[z+1][r+1]<<24;g+=1;z+=2;b[g]=p[z][r]|p[z][r+1]<<8|p[z+1][r]<<16|p[z+1][r+1]<<24;g+=1;g>=l&&(B+=1,g=0,B>=f&&(Array.xp(v,"Snapshot.gridBufferRow"),f+=1));b=v[B]}x+=q}else x+=q<<4;y+=u}};d.prototype.iK=function(p,h,t){var a=h.length,e=h[0].length,c,g,n,m=0,q,u=t.Or<<3,x=t.Pr,y,v=0,B=this.j,b=0,l=B[b],
f=l.length;Array.yi(this.Ha,h);for(c=0;c<a;c+=1){var r=h[c];for(t=y=0;t<e;t+=1)if(q=r[t])for(g=15;0<=g;--g){if(0!==(q&1<<g))for(n=y;n<y+u;n+=4){var w=v;var z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=
l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=
z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&
255;p[w][n+3]=z>>24;m>=f&&(b+=1,l=B[b],m=0)}y+=u}else y+=u<<4;v+=x}};d.prototype.uK=function(p,h,t){var a=h.length,e=h[0].length,c,g=0,n;var m=0;var q=t.Or<<3,u=t.Pr,x,y=0,v=this.j,B=0,b=v[B],l=b.length,f=v.length;var r=this.P.LB;Array.yi(h,this.Ha);for(c=0;c<a;c+=1){var w=h[c];for(t=0;t<e;t+=1)(n=w[t])&&(m+=r[n])}if(m)for(c=0;c<a;c+=1){w=h[c];for(t=x=0;t<e;t+=1)if(n=w[t])for(m=15;0<=m;--m){if(0!==(n&1<<m))for(r=x;r<x+q;r+=4){var z=y;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;
b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;
g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;z+=1;b[g]=p[z][r]|p[z][r+1]<<8|p[z][r+2]<<16|p[z][r+3]<<24;g+=1;g>=l&&(B+=1,g=0,B>=f&&(Array.xp(v,"Snapshot.colourGridBufferRow"),
f+=1),b=v[B])}x+=q}else x+=q<<4;y+=u}};k.prototype.bufferSize=function(){for(var p=0,h=0;h<this.Hh.length;)p+=this.Rn[h].length*this.Rn[h][0].length*2,p+=this.Pm[h].length*this.Pm[h][0].length*2,p+=this.lt[h].length*this.lt[h][0].length*4,p+=this.zs[h].length*this.zs[h][0].length*4,this.A[h]&&(p+=this.A[h].length*this.A[h][0].length*4),h+=1;return p};k.prototype.tL=function(){for(var p=0,h=0;h<this.Hh.length;)this.Hh[h]&&(p+=1),h+=1;return p};k.prototype.reset=function(){var p=0,h;this.Ie=[];for(this.index=
-1;p<this.Hh.length;){var t=!1;for(h=0;h<this.j.length&&!t;)p===this.j[h].index?t=!0:h+=1;t||(this.Hh[p]=!1);p+=1}};k.prototype.TK=function(p){var h=null;if(0<this.Ie.length)for(h=this.Ie[this.index];h&&h.v>p;)h=null,0<this.index&&(this.W(this.Ie[this.index].index),this.Ie.pop(),--this.index,0<=this.index&&(h=this.Ie[this.index]));return h};k.prototype.yr=function(p,h,t,a,e,c,g,n,m,q,u,x,y,v,B,b,l,f){var r=null,w=0,z=this.j.length,A=!1;e=null!==e;if(l){for(;w<z&&!A;)this.j[w].v===u?A=!0:w+=1;A?r=
this.j[w]:alert("reset snapshot at generation "+u+" not found!")}else if(51>this.Ie.length)r=this.Kw(v,B,!1,u,e),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.W(this.Ie[0].index);for(w=0;50>w;w+=1)this.Ie[w]=this.Ie[w+1];this.Ie.pop();this.Kw(v,B,!1,u,e)}r=this.Ie[this.index]}r.aa=f;r.xK(p,h,b);r.uK(t,a,b);r.H.f=c.f;r.H.l=c.l;r.H.g=c.g;r.H.o=c.o;r.Fa.f=g.f;r.Fa.l=g.l;r.Fa.g=g.g;r.Fa.o=g.o;r.ma=n;r.Ib=m;r.Zb=q;r.v=u;r.Hf=x;r.Ji=y};k.prototype.W=function(p){this.Hh[p]=!1};k.prototype.na=
function(p,h,t){for(var a=0,e=!1;a<this.K&&!e;)this.Hh[a]?a+=1:e=!0;e?(p=a,this.Hh[a]=!0):(this.Rn[a]=Array.ea(Uint16,h,p,0,this.m,"Snapshot.tileGrid"+a),this.Pm[a]=Array.ea(Uint16,h,p,0,this.m,"Snapshot.colourTileGrid"+a),this.lt[a]=Array.ea(Uint32,1,1024,0,this.m,"Snapshot.gridBuffer"+a),this.zs[a]=Array.ea(Uint32,1,8192,0,this.m,"Snapshot.colourGridBuffer"+a),t&&(this.A[a]=Array.ea(Uint32,1,8192,0,this.m,"Snapshot.overlayGridBuffer"+a)),this.Hh[a]=!0,this.K+=1,p=a);return p};k.prototype.Kw=function(p,
h,t,a,e){var c=0,g=this.j.length,n=!1;p=this.na(p,h,e);if(t){for(;c<g&&!n;)this.j[c].v===a?n=!0:c+=1;n?t=this.j[c]:(t=new d(this,p,e),this.j[this.j.length]=t)}else t=new d(this,p,e),this.Ie[this.Ie.length]=t;return t};k.prototype.fa=function(p,h,t,a){var e=p.da,c=p.Ha,g=p.da.length,n=g>>1,m=p.da[0].length>>1,q=0,u=p.index;this.Rn[u]=Array.ea(Uint16,t,h,0,this.m,"Snapshot.tileGrid"+u);this.Pm[u]=Array.ea(Uint16,t,h,0,this.m,"Snapshot.colourTileGrid"+u);p.da=this.Rn[u];p.Ha=this.Pm[u];if(0<a){for(;q<
g;)p.da[q+n].set(e[q],m),p.Ha[q+n].set(c[q],m),q+=1;p.H.f+=a;p.H.l+=a;p.H.g+=a;p.H.o+=a;p.Fa.f+=a;p.Fa.l+=a;p.Fa.g+=a;p.Fa.o+=a}};k.prototype.JE=function(p,h,t){for(var a=0,e=this.j.length;a<e;)this.fa(this.j[a],p,h,t),a+=1;a=0;for(e=this.Ie.length;a<e;)this.fa(this.Ie[a],p,h,t),a+=1;for(a=0;a<this.Hh.length;)this.Hh[a]||(this.Rn[a]=Array.ea(Uint16,h,p,0,this.m,"Snapshot.tileGrid"+a),this.Pm[a]=Array.ea(Uint16,h,p,0,this.m,"Snapshot.colourTileGrid"+a)),a+=1};window.SnapshotManager=k;window.Snapshot=
d}(),function(){function d(k,p,h){this.m=k;this.a=p;this.P=h;this.ed=1;this.Fn=2;this.Ib=k.I(Uint8,0,"HROT.births");this.Wu=k.I(Uint8,0,"HROT.survivals");this.os=k.I(Uint8,0,"HROT.altBirths");this.ps=k.I(Uint8,0,"HROT.altSurvivals");this.type=h.Pf;this.W=Array.ea(Uint32,1,1,0,k,"HROT.counts");this.na=k.I(Uint32,0,"HROT.widths");this.Pa=k.I(Uint8,0,"HROT.colUsed");this.Ba=this.A=this.K=this.fa=0;this.pc=!1}d.prototype.resize=function(k,p){this.W=Array.ea(Uint32,p,k,0,this.m,"HROT.counts");this.Pa=
this.m.I(Uint8,k,"HROT.colUsed")};d.prototype.MK=function(k,p){var h=2*p+1,t=p*p+p;this.type=k;this.ed=p;this.na=this.m.I(Uint32,h,"HROT.widths");switch(k){case this.P.Pf:for(k=0;k<h;k+=1)this.na[k]=p;break;case this.P.sg:for(k=0;k<p;k+=1)this.na[k]=k,this.na[h-k-1]=k;this.na[k]=p;break;case this.P.Hp:for(k=-p;k<=p;k+=1){for(h=0;(h+1)*(h+1)+k*k<=t;)h+=1;this.na[k+p]=h}}};d.prototype.j=function(k,p){return 0>k||0>k+p||p-k>=this.K?0:0>p&&k+p<this.A?this.W[k+p][0]:p>=this.K&&p-k>=this.K-this.A?this.W[k+
this.K-1-p][this.K-1]:k<this.A?this.W[k][p]:k-this.A+1+p<=this.Ba?this.W[this.A-1][k-this.A+1+p]:p-(k-this.A+1)>=this.Ba?this.W[this.A-1][p-(k-this.A+1)]:this.W[this.A-1][this.Ba+(k+p+this.A+this.Ba+1)%2]};d.prototype.hb=function(k,p,h,t){var a=this.a.Z,e=null,c=this.ed,g;for(g=0;g<c;g+=1){e=a[p+g];var n=a[t+g+1];n.set(e.slice(k,h+1),k)}for(g=0;g<c;g+=1)e=a[t-g],n=a[p-g-1],n.set(e.slice(k,h+1),k);if(copyWithin)for(g=p;g<=t;g+=1)e=a[g],e.copyWithin(h+1,k,k+c+1),e.copyWithin(k-c-1,h-c,h+1);else for(g=
p;g<=t;g+=1)for(n=0;n<c;n+=1)e[h+n+1]=e[k+n],e[k-n-1]=e[h-n];for(g=0;g<c;g+=1)e=a[p+g],n=a[t+g+1],n.set(e.slice(k,k+c+1),h+1),n.set(e.slice(h-c,h+1),k-c-1);for(g=0;g<c;g+=1)e=a[t-g],n=a[p-g-1],n.set(e.slice(k,k+c+1),h+1),n.set(e.slice(h-c,h+1),k-c-1)};d.prototype.Ma=function(k,p,h,t){var a=this.a.Z,e=this.ed,c;for(c=0;c<e;c+=1)a[t+c+1].fill(0,k,h+1);for(c=0;c<e;c+=1)a[p-c-1].fill(0,k,h+1);for(c=p;c<=t;c+=1){var g=a[c];g.fill(0,h+1,h+e+2);g.fill(0,k-e-1,k)}for(c=0;c<e;c+=1)g=a[t+c+1],g.fill(0,h+1,
h+e+2),g.fill(0,k-e-1,k);for(c=0;c<e;c+=1)g=a[p-c-1],g.fill(0,h+1,h+e+2),g.fill(0,k-e-1,k)};d.prototype.cb=function(k,p,h,t,a){var e,c,g=this.a.Z,n=this.a.Aa,m=this.a.width,q=0,u=this.a.height,x=0,y=m,v=q,B=u,b=x,l=this.a.H,f=this.a.Fa,r=this.ed,w=a?this.os:this.Ib,z=a?this.ps:this.Wu,A=this.W;var C=this.Fn-1;var D=LifeConstants.ub,E=LifeConstants.gk,F=this.a.As;var G=this.a.h+this.a.J-1;var H=this.a.J,J=0<this.a.J?1:0;var O=e=a=0;if(1===C)for(C=p-r;C<=t+r;C+=1){var K=g[C];var M=A[C];var I=n[C>>4];
var X=c=!1;for(p=k-r;p<=h+r;p+=1){var R=K[p];var U=M[p];G=0;R<D?1===w[U]&&(e+=1,G=128):0===z[U]?O+=1:G=128;R=F[R+G];K[p]=R;R>E&&(c=!0,I[p>>8]|=1<<(~(p>>4)&15),p<m&&(m=p),p>q&&(q=p),R>=D&&(a+=1,p<y&&(y=p),p>v&&(v=p),X=!0))}c&&(C<u&&(u=C),C>x&&(x=C));X&&(C<B&&(B=C),C>b&&(b=C))}else for(C=p-r;C<=t+r;C+=1){K=g[C];M=A[C];I=n[C>>4];X=c=!1;for(p=k-r;p<=h+r;p+=1)R=K[p],U=M[p],R<=H?1===w[U]?(R=G,e+=1):R>J&&--R:R===G?0===z[U]&&(--R,O+=1):R>J&&--R,K[p]=R,0<R&&(c=!0,I[p>>8]|=1<<(~(p>>4)&15),p<m&&(m=p),p>q&&(q=
p),R===G&&(a+=1,p<y&&(y=p),p>v&&(v=p),X=!0));c&&(C<u&&(u=C),C>x&&(x=C));X&&(C<B&&(B=C),C>b&&(b=C))}this.a.ma=a;this.a.Ib=e;this.a.Zb=O;0<a?(l.f=m,l.l=q,l.g=u,l.o=x,f.f=y,f.l=v,f.g=B,f.o=b):this.a.aa=0};d.prototype.tb=function(k){var p,h,t=this.a.H.f,a=this.a.H.l,e=this.a.H.g,c=this.a.H.o,g=this.ed,n=k?this.os:this.Ib,m=k?this.ps:this.Wu,q=g+g;var u=g+1;var x=this.W,y=this.type,v=this.Fn-1,B=this.a.width,b=0,l=this.a.height,f=0,r=B,w=b,z=l,A=f,C=this.a.Z,D=this.a.Aa;var E=this.na;var F=this.a.ua;var G=
this.a.ra,H=0,J=0,O=0,K=0,M=0,I=0,X=0,R=LifeConstants.ub,U=LifeConstants.gk,Y=this.a.As;var da=this.Pa;-1!==this.a.sa&&(H=Math.round((this.a.width-F)/2),O=Math.round((this.a.height-G)/2),J=H+F-1,K=O+G-1,1===n[0]&&(t=H+g,a=J-g,c=K-g,e=O+g),1===this.a.sa&&(t-H<g&&(a=J),J-a<g&&(t=H),K-c<g&&(e=O),e-O<g&&(c=K),this.hb(H,O,J,K)),0===this.a.sa&&1===v&&this.a.gx(C,0),t-H<g&&(t=H+g),J-a<g&&(a=J-g),K-c<g&&(c=K-g),e-O<g&&(e=O+g),y===this.P.Pf?(t-=q,e-=q,a+=q,c+=q):y===this.P.sg&&6<g&&(t-=g,e-=g,a+=g,c+=g));
if(y===this.P.Pf){t-=q;e-=q;a+=q;c+=q;for(h=e;h<e+q;h+=1)x[h].fill(0,t,a+1);for(h=e+q;h<=c;h+=1)x[h].fill(0,t,t+q+1);var V=x[e+q-1];for(h=e+q;h<=c;h+=1){var ka=x[h];v=C[h];F=0;for(p=t+q;p+8<=a;)v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1;for(;p<=a;)v[p]>=R&&(F+=1),ka[p]=V[p]+
F,p+=1;V=ka}t+=g;e+=g;a-=g;c-=g;-1!==this.a.sa&&(t+=q,e+=q,a-=q,c-=q);q=C[e][t];F=x[e+g][t+g];var ma=0;q<R?1===n[F]&&(I+=1,ma=128):0===m[F]?X+=1:ma=128;q=Y[q+ma];C[e][t]=q;q>U&&(da[t]|=1,f=l=e,D[e>>4][t>>8]|=1<<(~(t>>4)&15),q>=R&&(M+=1,da[t]|=2,A=z=e));var ea=G=!1;ka=x[e+g];V=x[e+g];v=C[e];E=D[e>>4];for(p=t+1;p<=a;p+=1)q=v[p],F=ka[p+g]-V[p-u],ma=0,q<R?1===n[F]&&(I+=1,ma=128):0===m[F]?X+=1:ma=128,q=Y[q+ma],v[p]=q,q>U&&(da[p]|=1,G=!0,E[p>>8]|=1<<(~(p>>4)&15),q>=R&&(M+=1,da[p]|=2,ea=!0));G&&(f=l=e);
ea&&(A=z=e);E=v=!1;ka=t+g;for(h=e+1;h<=c;h+=1)q=C[h][t],F=x[h+g][ka]-x[h-u][ka],ma=0,q<R?1===n[F]&&(I+=1,ma=128):0===m[F]?X+=1:ma=128,q=Y[q+ma],C[h][t]=q,q>U&&(h<l&&(l=h),h>f&&(f=h),v=!0,D[h>>4][t>>8]|=1<<(~(t>>4)&15),q>=R&&(M+=1,h<z&&(z=h),h>A&&(A=h),E=!0));v&&(da[t]|=1);E&&(da[t]|=2);for(h=e+1;h<=c;h+=1){v=C[h];E=D[h>>4];V=x[h+g];var aa=x[h-u];ka=t+1+g;var ca=t+1-u;ea=G=!1;for(p=t+1;p<=a;p+=1)q=v[p],F=V[ka]+aa[ca]-V[ca]-aa[ka],ma=0,q<R?1===n[F]&&(ma=128,I+=1):0===m[F]?X+=1:ma=128,q=Y[q+ma],v[p]=
q,q>U&&(G=!0,E[p>>8]|=1<<(~(p>>4)&15),da[p]|=1,q>=R&&(M+=1,ea=!0,da[p]|=2)),ka+=1,ca+=1;G&&(h<l&&(l=h),h>f&&(f=h));ea&&(h<z&&(z=h),h>A&&(A=h))}for(p=t;p<=a;p+=1)da[p]&&(p<B&&(B=p),p>b&&(b=p),0!==(da[p]&2)&&(p<r&&(r=p),p>w&&(w=p)),da[p]=0);this.a.ma=M;this.a.Ib=I;this.a.Zb=X;0<M?(this.a.H.f=B,this.a.H.l=b,this.a.H.g=l,this.a.H.o=f,this.a.Fa.f=r,this.a.Fa.l=w,this.a.Fa.g=z,this.a.Fa.o=A):this.a.aa=0}else if(y===this.P.sg&&6<g){t-=g;a+=g;e-=g;c+=g;-1===this.a.sa&&(t-=g,a+=g,e-=g,c+=g);this.fa=c-e+1;
this.K=a-t+1;this.A=this.fa+(this.K-1)/2|0;this.Ba=this.K/2|0;for(u=0;u<this.A;u+=1)for(ka=x[u],v=C[u+e],h=u-1,F=h-1,da=0;da<=this.K;da+=1)ka[da]=this.j(h,da-1)+this.j(h,da+1)-this.j(F,da),u<this.fa&&v[da+t]>=R&&(ka[da]+=1);for(u=g;u<=this.fa-g;u+=1){h=u-1;aa=u+g;x=aa-1;p=u-g-1;ka=p-1;V=u+e;v=C[V];E=D[V>>4];ea=G=!1;for(da=g;da<=this.K-g;da+=1)F=da+g,q=da-g,F=this.j(aa,da)-this.j(h,F+1)-this.j(h,q-1)+this.j(ka,da)+this.j(x,da)-this.j(h,F)-this.j(h,q)+this.j(p,da),ca=da+t,q=v[ca],ma=0,q<R?1===n[F]&&
(ma=128,I+=1):0===m[F]?X+=1:ma=128,q=Y[q+ma],v[ca]=q,q>U&&(ca<B&&(B=ca),ca>b&&(b=ca),G=!0,E[ca>>8]|=1<<(~(ca>>4)&15),q>=R&&(M+=1,ea=!0,ca<r&&(r=ca),ca>w&&(w=ca)));G&&(V<l&&(l=V),V>f&&(f=V));ea&&(V<z&&(z=V),V>A&&(A=V))}this.a.ma=M;this.a.Ib=I;this.a.Zb=X;0<M?(this.a.H.f=B,this.a.H.l=b,this.a.H.g=l,this.a.H.o=f,this.a.Fa.f=r,this.a.Fa.l=w,this.a.Fa.g=z,this.a.Fa.o=A):this.a.aa=0}else for(h=e-g;h<=c+g;h+=1){ka=x[h];p=t-g;F=0;for(da=-g;da<=g;da+=1)for(n=E[da+g],v=C[h+da],u=-n;u<=n;u+=1)v[p+u]>=R&&(F+=
1);ka[p]=F;for(p+=1;p<=a+g;){for(da=-g;da<=g;da+=1)n=E[da+g],v=C[h+da],v[p-n-1]>=R&&--F,v[p+n]>=R&&(F+=1);ka[p]=F;p+=1}}-1!==this.a.sa&&(t<H+g&&(t=H+g),a>J-g&&(a=J-g),e<O+g&&(e=O+g),c>K-g&&(c=K-g));y===this.P.Pf||y===this.P.sg&&6<g||this.cb(t,e,a,c,k);1===this.a.sa&&this.Ma(H,O,J,K)};d.prototype.Hb=function(k){var p,h,t=this.a.H.f,a=this.a.H.l,e=this.a.H.g,c=this.a.H.o,g=this.ed,n=k?this.os:this.Ib,m=k?this.ps:this.Wu,q=g+g;var u=g+1;var x=this.W,y=this.type,v=this.a.width,B=0,b=this.a.height,l=0,
f=v,r=B,w=b,z=l,A=this.a.Z,C=this.a.Aa;var D=this.na;var E=this.a.ua;var F=this.a.ra;var G=0,H=0,J=0,O=0,K=0,M=0,I=0,X,R=this.a.h+this.a.J-1,U=this.a.J,Y=0<this.a.J?1:0;-1!==this.a.sa&&(G=Math.round((this.a.width-E)/2),J=Math.round((this.a.height-F)/2),H=G+E-1,O=J+F-1,1===n[0]&&(t=G+g,a=H-g,c=O-g,e=J+g),1===this.a.sa&&(t-G<g&&(a=H),H-a<g&&(t=G),O-c<g&&(e=J),e-J<g&&(c=O),this.hb(G,J,H,O)),t-G<g&&(t=G+g),H-a<g&&(a=H-g),O-c<g&&(c=O-g),e-J<g&&(e=J+g),y===this.P.Pf?(t-=q,e-=q,a+=q,c+=q):y===this.P.sg&&
6<g&&(t-=g,e-=g,a+=g,c+=g));if(y===this.P.Pf){t-=q;e-=q;a+=q;c+=q;for(h=e;h<e+q;h+=1)x[h].fill(0,t,a+1);for(h=e+q;h<=c;h+=1)x[h].fill(0,t,t+q);for(h=e+q;h<=c;h+=1){var da=x[h-1];var V=x[h];E=A[h];F=0;for(p=t+q;p<=a;p+=1)E[p]===R&&(F+=1),V[p]=da[p]+F}t+=g;e+=g;a-=g;c-=g;-1!==this.a.sa&&(t+=q,e+=q,a-=q,c-=q);q=A[e][t];F=x[e+g][t+g];q<=U?1===n[F]?(q=R,M+=1):q>Y&&--q:q===R?0===m[F]&&(--q,I+=1):q>Y&&--q;A[e][t]=q;0<q&&(B=v=t,l=b=e,C[e>>4][t>>8]|=1<<(~(t>>4)&15),q===R&&(K+=1,r=f=t,z=w=e));var ka=X=!1;V=
x[e+g];da=x[e+g];E=A[e];D=C[e>>4];for(p=t+1;p<=a;p+=1)q=E[p],F=V[p+g]-da[p-u],q<=U?1===n[F]?(q=R,M+=1):q>Y&&--q:q===R?0===m[F]&&(--q,I+=1):q>Y&&--q,E[p]=q,0<q&&(p<v&&(v=p),p>B&&(B=p),X=!0,D[p>>8]|=1<<(~(p>>4)&15),q===R&&(K+=1,p<f&&(f=p),p>r&&(r=p),ka=!0));X&&(l=b=e);ka&&(z=w=e);D=E=!1;da=t+g;for(h=e+1;h<=c;h+=1)q=A[h][t],F=x[h+g][da]-x[h-u][da],q<=U?1===n[F]?(q=R,M+=1):q>Y&&--q:q===R?0===m[F]&&(--q,I+=1):q>Y&&--q,A[h][t]=q,0<q&&(h<b&&(b=h),h>l&&(l=h),E=!0,C[h>>4][t>>8]|=1<<(~(t>>4)&15),q===R&&(K+=
1,h<w&&(w=h),h>z&&(z=h),D=!0));E&&(t<v&&(v=t),t>B&&(B=t));D&&(t<f&&(f=t),t>r&&(r=t));for(h=e+1;h<=c;h+=1){E=A[h];D=C[h>>4];V=x[h+g];var ma=x[h-u];ka=X=!1;da=t+1+g;var ea=t+1-u;for(p=t+1;p<=a;p+=1)q=E[p],F=V[da]+ma[ea]-V[ea]-ma[da],q<=U?1===n[F]?(q=R,M+=1):q>Y&&--q:q===R?0===m[F]&&(--q,I+=1):q>Y&&--q,E[p]=q,0<q&&(D[p>>8]|=1<<(~(p>>4)&15),p<v&&(v=p),p>B&&(B=p),X=!0,q===R&&(K+=1,ka=!0,p<f&&(f=p),p>r&&(r=p))),da+=1,ea+=1;X&&(h<b&&(b=h),h>l&&(l=h));ka&&(h<w&&(w=h),h>z&&(z=h))}this.a.ma=K;this.a.Ib=M;this.a.Zb=
I;0<K?(this.a.H.f=v,this.a.H.l=B,this.a.H.g=b,this.a.H.o=l,this.a.Fa.f=f,this.a.Fa.l=r,this.a.Fa.g=w,this.a.Fa.o=z):this.a.aa=0}else if(y===this.P.sg&&6<g){t-=g;a+=g;e-=g;c+=g;-1===this.a.sa&&(t-=g,a+=g,e-=g,c+=g);this.fa=c-e+1;this.K=a-t+1;this.A=this.fa+(this.K-1)/2|0;this.Ba=this.K/2|0;for(u=0;u<this.A;u+=1)for(V=x[u],E=A[u+e],h=u-1,F=h-1,da=0;da<=this.K;da+=1)V[da]=this.j(h,da-1)+this.j(h,da+1)-this.j(F,da),u<this.fa&&E[da+t]===R&&(V[da]+=1);for(u=g;u<=this.fa-g;u+=1){h=u-1;ea=u+g;x=ea-1;p=u-
g-1;V=p-1;ma=u+e;E=A[ma];D=C[ma>>4];ka=X=!1;for(da=g;da<=this.K-g;da+=1){F=da+g;q=da-g;F=this.j(ea,da)-this.j(h,F+1)-this.j(h,q-1)+this.j(V,da)+this.j(x,da)-this.j(h,F)-this.j(h,q)+this.j(p,da);var aa=da+t;q=E[aa];q<=U?1===n[F]?(q=R,M+=1):q>Y&&--q:q===R?0===m[F]&&(--q,I+=1):q>Y&&--q;E[aa]=q;0<q&&(D[aa>>8]|=1<<(~(aa>>4)&15),aa<v&&(v=aa),aa>B&&(B=aa),X=!0,q===R&&(K+=1,ka=!0,aa<f&&(f=aa),aa>r&&(r=aa)))}X&&(ma<b&&(b=ma),ma>l&&(l=ma));ka&&(ma<w&&(w=ma),ma>z&&(z=ma))}this.a.ma=K;this.a.Ib=M;this.a.Zb=I;
0<K?(this.a.H.f=v,this.a.H.l=B,this.a.H.g=b,this.a.H.o=l,this.a.Fa.f=f,this.a.Fa.l=r,this.a.Fa.g=w,this.a.Fa.o=z):this.a.aa=0}else for(h=e-g;h<=c+g;h+=1){V=x[h];p=t-g;F=0;for(da=-g;da<=g;da+=1)for(n=D[da+g],E=A[h+da],u=-n;u<=n;u+=1)E[p+u]===R&&(F+=1);V[p]=F;for(p+=1;p<=a+g;){for(da=-g;da<=g;da+=1)n=D[da+g],E=A[h+da],E[p-n-1]===R&&--F,E[p+n]===R&&(F+=1);V[p]=F;p+=1}}-1!==this.a.sa&&(t<G+g&&(t=G+g),a>H-g&&(a=H-g),e<J+g&&(e=J+g),c>O-g&&(c=O-g));y===this.P.Pf||y===this.P.sg&&6<g||this.cb(t,e,a,c,k);1===
this.a.sa&&this.Ma(G,J,H,O)};d.prototype.aJ=function(k){var p=!1;this.pc&&1===(k&1)&&(p=!0);2===this.Fn?this.tb(p):this.Hb(p)};window.HROT=d}(),function(){function d(a,e,c,g,n,m,q,u){this.name=a;this.nk=!1;this.fn=10;this.hh=this.gh=0;this.Za=g;this.mb=c;this.ab=e;this.Yf=n;this.Qb=m;this.yc=q;this.hi=u;this.Cl=!1;-1===this.Qb.U.red&&(this.Cl=!0);128<=(this.Za.red+this.Za.green+this.Za.blue)/3?(this.gh=ViewConstants.KC,this.hh=ViewConstants.JC):(this.gh=ViewConstants.nt,this.hh=ViewConstants.mt)}
function k(a,e,c){this.red=a;this.green=e;this.blue=c}function p(a,e){this.T=a;this.U=e}function h(a,e,c,g,n,m){this.P=m;this.m=new Allocator;this.lj=!0;this.Ng=!1;this.gs=this.cn=this.nq=this.hn=this.bk=this.ti=this.si=this.kd=null;this.Sb=new Random;this.Sb.Ze(Date.now().toString());this.Y=!1;this.Sf=8;this.qe=2;this.$h=0;this.Jk=-1;this.Xd=this.Mj=this.Lj=null;this.pg=[];this.Jd=null;this.Hk=this.Ti=this.og=0;this.wf=this.mc=this.kj=this.fj=this.oi=this.Nh=this.rf=this.Id=null;this.Pa=this.ig=
0;this.ek=null;this.bj=!0;this.li=new BoundingBox(0,0,0,0);this.$j=this.uf=-1;this.Ft=this.Aw=0;this.Bw=!1;this.il=!0;this.xi=this.uh=this.pc=this.Uc=this.Tc=!1;this.Sq=0;this.fl=[];this.el=[];this.gl=[];this.$k=[];this.ii=[];this.Xf=this.sc="";this.ec=255;this.fc=null;this.$g=this.m.I(Uint8,65536,"Life.bitCounts16");this.zx();this.ph=this.lh=this.Ec=null;this.Pb=this.Rb=this.jd=this.xh=0;this.Jc=1;this.aa=0;this.ra=this.ua=this.sa=-1;this.Mm=this.Lm=0;this.vw=this.xs=!1;this.vr=ViewConstants.oC;
this.Oe=[];this.Pe=[];this.Oe[0]=this.m.I(Int32,t.Du,"Life.boundaryX0");this.Pe[0]=this.m.I(Int32,t.Du,"Life.boundaryY0");this.gj=0;this.nl=4294967295;this.ol=4286611584;this.Vz="rgb(0,255,0)";this.Dy="rgb(255,0,0)";this.ms="rgb(255,255,0)";this.G=this.ia=this.bb=!1;this.Nd=-1;this.$=!1;this.Ld=this.P.Bm;this.R=!1;this.te=!0;this.De=this.du=!1;this.h=-1;this.If=this.Gc=this.rb=!1;this.J=0;this.yg=this.za=!1;this.qg=new SnapshotManager(this.m,this.$g);this.rn=t.Fr;this.nd=this.Wb=this.Rk=!1;this.js=
this.Vd=this.xf=this.Fa=this.H=null;this.title="LifeViewer";this.width=g;this.height=n;this.Or=2;this.Pr=16;this.qa=this.width>>4;this.va=this.height>>4;this.jG=this.qg.Kw((this.qa-1>>4)+1,this.va,!0,0,!1);this.C=e;this.B=c;this.Zb=this.Ib=this.ma=0;this.ub=t.ub;this.ee=t.ee;this.Td=t.Td;this.gk=t.gk;this.Kt=this.Za=0;this.M=1;this.pf=-1;this.Om=1;this.sl=30;this.angle=this.v=this.Ji=this.Hf=0;this.zoom=6;this.pa=this.xa=0;this.le=.1;this.gb=0;this.ja=1;this.ge=this.fe=0;this.j=.1;this.jg=littleEndian;
this.eb=[];this.Cg=this.Qe=this.be=this.Mf=this.xe=this.zd=this.Dc=this.yh=this.lf=this.Re=this.kh=this.Te=this.Ne=this.gd=null;this.Ee=-1;this.hd=this.Sd=this.cl=null;this.context=a;this.Ab=this.xb=0;this.da=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.tileGrid");this.oa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.nextTileGrid");this.$c=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.grid");this.lg=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.nextGrid");
this.qb=Array.Ac(Uint16,this.$c,"Life.grid16");this.dc=Array.Ac(Uint16,this.lg,"Life.nextGrid16");this.al=this.m.I(Uint32,this.C,"Life.blankPixelRow");this.We=this.m.I(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Ep=this.m.I(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.md=this.m.I(Uint16,this.qa>>4,"Life.blankTileRow");this.ld=this.m.I(Uint8,this.width,"Life.blankColourRow");this.Z=Array.ea(Uint8,this.height,this.width,this.Za,this.m,"Life.colourGrid");this.Ta=null;this.W=Array.ea(Uint8,
this.height,this.width,this.Za,this.m,"Life.smallColourGrid");this.dk=Array.Ac(Uint16,this.Z,"Life.colourGrid16");this.Ma=Array.Ac(Uint32,this.Z,"Life.colourGrid32");this.hg=this.ni=this.hb=this.ic=null;this.Ha=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileGrid");this.Aa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileHistoryGrid");this.Tg=this.Le=this.we=this.tb=null;this.Ua=this.m.I(Uint8,256,"Life.redChannel");this.Sa=this.m.I(Uint8,256,"Life.greenChannel");
this.Ra=this.m.I(Uint8,256,"Life.blueChannel");this.Fe=this.m.I(Uint32,256,"Life.pixelColours");this.ve=null;this.pv=0;this.de=this.zc=this.sf=this.ce=this.mi=this.sh=this.Nf=this.qh=null;this.As=this.m.I(Uint16,2*(this.ee+1)<<8,"Life.colourLookup");this.Mt=this.m.I(Uint8,2048,"Life.colourReset");this.Ud=ViewConstants.nt;this.ki=-1;this.gg=ViewConstants.mt;this.ej=-1;this.vf=10;this.pk=!0;this.xH=10;this.fa=this.m.I(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Hb=this.m.I(Uint16,(this.height-
1>>4)+1,"Life.rowOccupied16");this.ga=8192;this.pI=[0,0,48];this.oI=[255,255,255];this.nI=[255,255,255];this.qI=[0,255,0];this.rI=[255,0,0];this.Fi=[0,0,48];this.Ei=[255,255,255];this.Di=[255,255,255];this.Gi=[0,255,0];this.Hi=[255,0,0];this.Yb=new HROT(this.m,this,m);this.coords=this.m.I(Float32,1,"Life.coords");this.Ba=this.m.I(Uint32,1,"Life.cellColours");this.cb=0}var t={ny:0,py:1,oy:2,WI:3,Gl:5E4,rl:0,nf:1,mf:2,TI:0,ky:0,jy:1,DD:2,ED:3,FD:4,ly:5,my:6,UI:6,MI:20,VI:"RotCCW RotCW FlipX FlipY FlipXY RotCWFlipX RotCWFlipY".split(" "),
uk:1048576,QB:"Buffer Full",fo:[[0,0,0],[255,0,0],[0,255,0],[128,128,0],[16,16,255],[128,0,128],[0,128,128],[96,96,96],[255,255,0],[255,128,0],[128,255,0],[170,170,0],[144,144,144],[170,85,85],[85,128,43],[128,128,64],[0,0,0],[255,0,0],[0,255,0],[128,128,0]],kI:[[1,1,1],[1,0,0],[0,1,0]],jI:[[1,1,1],[0,0,1],[0,1,0]],mI:[[0,1,0],[1,0,0],[1,1,1]],lI:[[0,1,0],[0,0,1],[1,1,1]],tc:4096,Jh:16,Du:4096,uI:512,qt:262144,Il:65536,gn:65536,MC:8192,LC:131072,Fr:64,pD:262144,Ij:12,ub:64,ee:127,Td:63,gk:1,Bb:1,
Ya:2,lb:4,zb:8,Lb:16,kb:32,Jb:64,Kb:128};d.prototype.set=function(a){this.nk=a.nk;this.fn=a.fn;this.gh=a.gh;this.hh=a.hh;this.Za=a.Za;this.mb=a.mb;this.ab=a.ab;this.Yf=a.Yf;this.Qb=a.FL;this.yc=a.yc;this.hi=a.hi;this.Qb=a.Qb;this.Cl=a.Cl};d.prototype.In=function(a,e,c){this.nk=!0;this.fn=a;this.gh=e.red<<16|e.green<<8|e.blue;this.hh=c.red<<16|c.green<<8|c.blue};d.prototype.BK=function(a,e){this.gh=-1!==a?a:128<=(this.Za.red+this.Za.green+this.Za.blue)/3?ViewConstants.KC:ViewConstants.nt;this.hh=-1!==
e?e:128<=(this.Za.red+this.Za.green+this.Za.blue)/3?ViewConstants.JC:ViewConstants.mt};d.prototype.tI=function(a){var e=!0;a||this.mb.T.Ox(this.mb.U)&&this.ab.T.Ox(this.ab.U)&&this.ab.T.Ox(this.Za)&&(e=!1);return e};k.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};k.prototype.Ox=function(a){var e=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(e=!0);return e};p.prototype.set=function(a){this.T.set(a.T);this.U.set(a.U)};h.prototype.Lx=function(){var a=
ViewConstants.Na,e=this.C+a+a<<1;a=this.B+a+a<<1;this.Ng?(null===this.kd&&(window.j?this.kd=new OffscreenCanvas(e,a):this.kd=document.createElement("canvas")),this.kd.width=e,this.kd.height=a,this.si=this.kd.getContext("2d",{alpha:!1}),this.ti=this.si.getImageData(0,0,this.kd.width,this.kd.height),this.bk=new Uint32Array(this.ti.data.buffer)):this.bk=this.ti=this.si=null};h.prototype.PC=function(){var a,e,c,g=this.C,n=20*this.B,m=-n,q=this.Sb;this.hn=new Uint16Array(t.Gl);this.nq=new Float32Array(t.Gl);
this.cn=new Float32Array(t.Gl);this.gs=new Uint32Array(t.Gl);var u=this.hn;var x=this.nq;var y=this.cn;for(a=0;a<t.Gl;a+=1){u[a]=q.random()*g|0;for(e=c=0;10>e;e+=1)c+=q.random()*n;x[a]=-c/10;x[a]>m&&(m=x[a]);y[a]=q.random()/5+.8;if(a<t.Gl-4&&.2>q.random()){e=u[a];c=x[a];var v=y[a];a+=1;u[a]=e;x[a]=c-2;y[a]=v;a+=1;u[a]=e;x[a]=c+2;y[a]=v;1<e&&(a+=1,u[a]=e-2,x[a]=c,y[a]=v);e<g-2&&(a+=1,u[a]=e+2,x[a]=c,y[a]=v)}}for(a=0;a<t.Gl;a+=1)x[a]-=m};h.prototype.$d=function(){var a,e=0,c=this.C,g=this.B,n=this.Fe[0],
m=this.Sd,q=this.Sb,u=this.hn,x=this.nq,y=this.cn,v=this.gs;for(a=0;a<t.Gl;a+=1){var B=u[a];var b=x[a];var l=y[a];var f=B;var r=b;if(0<=b&&b<g-1)if((b|0)==(b+l|0))r=b+l,m[(r|0)*c+f]=-1;else{if(m[(b+l|0)*c+B]===n)r=b+l;else{var w=q.random();if(.05>w){var z=1;.025>w&&(z=-1);0<=B+z&&B+z<c&&m[(b+l|0)*c+B+z]===n&&m[(b|0)*c+B+z]===n&&(f=B+z,r=b+l)}}m[(r|0)*c+f]=-1}else 0>b&&(r=b+l);r>=g-1&&(v[e]=a,e+=1);u[a]=f;x[a]=r}if(5<e)for(a=0;a<e;a+=1).25>q.random()&&(w=v[a],r=-(q.random()*g),f=q.random()*c|0,u[w]=
f,x[w]=r,l=y[w],a<e-4&&.2>q.random()&&(a+=1,w=v[a],u[w]=f,x[w]=r-2,y[w]=l,a+=1,w=v[a],u[w]=f,x[w]=r+2,y[w]=l,1<f&&(a+=1,w=v[a],u[w]=f-2,x[w]=r,y[w]=l),f<c-2&&(a+=1,w=v[a],u[w]=f+2,x[w]=r,y[w]=l)))};h.prototype.CJ=function(a){this.Id=a};h.prototype.Bt=function(a){this.Pa=0;a?null===this.rf&&(this.rf=this.m.I(Int32,t.uk,"Life.hashList"),this.Nh=this.m.I(Uint32,t.uk,"Life.genList"),this.oi=this.m.I(Uint32,t.uk,"Life.popList"),this.fj=this.m.I(Uint32,t.uk,"Life.bornList"),this.kj=this.m.I(Uint32,t.uk,
"Life.diedList"),this.mc=this.m.I(Uint32,2*t.uk,"Life.boxList"),this.wf=this.m.I(Int32,t.uk,"Life.nextList"),this.ek=Array.ea(Uint8,this.height,this.width,t.rl,this.m,"Life.countList"),this.bj=!0,this.li.f=this.width,this.li.g=this.height,this.li.l=0,this.li.o=0,this.ig=this.$j=this.uf=-1,this.wf.fill(-1)):(this.ek=this.wf=this.mc=this.kj=this.fj=this.oi=this.Nh=this.rf=null,this.ig=this.$j=this.uf=-1)};h.prototype.tH=function(a,e,c){e="Spaceship ("+(e+","+c)+")c";1<a&&(e+="/"+a);return e};h.prototype.xw=
function(a,e){var c=31415962,g=a.f,n=a.g,m=a.l-g+1;a=a.o-n+1;var q=m-1,u=a-1,x=a,y=2>=this.h&&!this.Y,v,B,b=0,l=0,f=0,r=0,w=this.Z,z=t.ub;(this.G||this.Y)&&0!==(this.v&1)&&(w=this.Ta);if(e===t.ky||e===t.jy||e===t.ly||e===t.my){var A=m;m=x;x=A}for(B=0;B<x;B+=1)for(v=0;v<m;v+=1){switch(e){case t.ky:b=f;l=u-r;break;case t.FD:b=q-v;l=u-B;break;case t.jy:b=q-f;l=r;break;case t.DD:b=q-v;l=B;break;case t.ED:b=v;l=u-B;break;case t.ly:b=f;l=r;break;case t.my:b=q-f,l=u-r}if(y)w[l+n][b+g]>=z&&(c=1000003*c^B,
c=1000003*c^v);else if(A=w[l+n][b+g],A>this.J){A-=this.J;if(this.G)switch(e){case t.ky:A=A<<1&15|(A&8)>>3;break;case t.FD:A=A&12|A&3;break;case t.jy:A=A>>1&15|(A&1)<<3;break;case t.DD:A=A&5|(A&2)<<2|(A&8)>>2;break;case t.ED:A=A&10|(A&1)<<2|(A&4)>>2;break;case t.ly:A=(A&8)>>3|(A&4)>>1|(A&2)<<1|(A&1)<<3;break;case t.my:A=(A&4)<<1|(A&8)>>1|(A&1)<<1|(A&2)>>1}c=1000003*c^B;c=1000003*c^v;c=1000003*c^A}r+=1;r===a&&(r=0,f+=1)}return c|0};h.prototype.Et=function(a,e){for(var c,g=t.TI,n=-1,m;g<=t.UI&&-1===
n;){m=this.xw(a,g);if(e)for(c=this.ig;-1!==c&&-1===n;)m===this.rf[c]&&this.Nh[c]!==this.v?(n=c,e&&(this.$j=g)):c=this.wf[c];else m===this.Ft&&(n=1);g+=1}return n};h.prototype.uw=function(a,e){var c=31415962,g=a.f,n=a.g,m=a.l,q=a.o,u,x=2>=this.h&&!this.Y,y=this.Z,v=this.ek,B=t.ub,b=this.li;(this.G||this.Y)&&0!==(this.v&1)&&(y=this.Ta);g<b.f&&(b.f=g);n<b.g&&(b.g=n);m>b.l&&(b.l=m);q>b.o&&(b.o=q);for(u=n;u<=q;u+=1){var l=u-n;var f=y[u];if(x)for(a=g;a<=m;a+=1)f[a]>=B&&(c=1000003*c^l,c=1000003*c^a-g);else for(a=
g;a<=m;a+=1){var r=f[a];r>this.J&&(r-=this.J,c=1000003*c^l,c=1000003*c^a-g,c=1000003*c^r)}}if(!e){for(u=b.g;u<=b.o;u+=1)if(f=y[u],m=v[u],x)if(this.bj)for(a=b.f;a<=b.l;a+=1)f[a]>=B&&(m[a]=t.nf);else for(a=b.f;a<=b.l;a+=1)f[a]>=B?m[a]===t.rl&&(m[a]=t.mf):m[a]===t.nf&&(m[a]=t.mf);else if(this.G)if(this.bj)for(a=b.f;a<=b.l;a+=1)r=f[a],r>this.J?r-=this.J:r=0,e=0,0!==(r&1)&&(e=t.nf),g=0,0!==(r&2)&&(g=t.nf),n=0,0!==(r&4)&&(n=t.nf),q=0,0!==(r&8)&&(q=t.nf),m[a]=e|g<<2|n<<4|q<<6;else for(a=b.f;a<=b.l;a+=1)q=
m[a],r=f[a],r>this.J?r-=this.J:r=0,e=q&3,0!==(r&1)?e===t.rl&&(e=t.mf):e===t.nf&&(e=t.mf),g=q>>2&3,0!==(r&2)?g===t.rl&&(g=t.mf):g===t.nf&&(g=t.mf),n=q>>4&3,0!==(r&4)?n===t.rl&&(n=t.mf):n===t.nf&&(n=t.mf),q=q>>6&3,0!==(r&8)?q===t.rl&&(q=t.mf):q===t.nf&&(q=t.mf),m[a]=e|g<<2|n<<4|q<<6;else for(a=b.f;a<=b.l;a+=1)this.bj?f[a]>this.J&&(m[a]=t.nf):f[a]>this.J?m[a]===t.rl&&(m[a]=t.mf):m[a]===t.nf&&(m[a]=t.mf);this.bj=!1}return c|0};h.prototype.dj=function(a,e){for(var c;0!==e;)c=e,e=a%e,a=c;return a};h.prototype.hw=
function(a,e){var c="Oblique";if(a>e){var g=a;a=e;e=g}g=this.dj(a,e);switch(a/g*10+e/g){case 12:c+=" Knightwise";break;case 13:c+=" Camelwise";break;case 14:c+=" Giraffewise";break;case 15:c+=" Ibiswise";break;case 16:c+=" Flamingowise";break;case 23:c+=" Zebrawise";break;case 34:c+=" Antelopewise"}return c};h.prototype.rx=function(a,e,c,g,n,m,q,u){var x="",y=String(this.v-c),v="",B="",b=this.ma,l=b,f=16384,r=0,w=16384,z=0,A=this.Pa,C=a,D=16384,E=0,F=0,G,H=G="",J=this.ek,O=0,K=0,M="",I=this.uf,X=
"",R="";0<c&&(y+=" and "+this.v);g=Math.abs(g);n=Math.abs(n);if(0<g||0<n){var U="Spaceship";0===g||0===n?B="0":(g>n?(B=g,v=n):(B=n,v=g),x=this.dj(B,v),B=String(B/x),1!==v/x&&(B+="/"+String(v/x)));if(g===n||0===g||0===n)if(v=g===n&&0!==g?"Diagonal":"Orthogonal",0===g&&(g=n),1<g)if(1===c)x=g+"c";else{x=this.dj(g,c);var Y=g/x;var da=c/x;1!==x?(x=1===Y?"c":Y+"c",1<da&&(x+="/"+da),x+=" | "+g+"c/"+c):x=g+"c/"+c}else x="c",1<c&&(x+="/"+c);else x=this.dj(g,this.dj(n,c)),Y=g/x,v=n/x,da=c/x,1!==x?(x=Y>v?"("+
Y+","+v+")c":"("+v+","+Y+")c",1<da&&(x+="/"+da),x=g>n?x+(" | ("+g+","+n+")c"):x+(" | ("+n+","+g+")c")):x=g>n?"("+g+","+n+")c":"("+n+","+g+")c",1<c&&(x+="/"+c),v=this.hw(g,n)}else U=1===c||this.pc&&2===c?"Still Life":"Oscillator";for(n=0;a<A;)g=this.oi[a],n+=g,g<b&&(b=g),g>l&&(l=g),a+=1;b=b===l?String(b):String(b)+" | "+String(l)+" | "+String((n/(A-C)).toFixed(1));a=C;if("Spaceship"===U)for(;a<A;)g=this.mc[a<<1],l=g>>16,n=g&65535,l>m&&(m=l),n>q&&(q=n),a+=1;else{for(;a<A;)g=this.mc[a<<1],l=g>>16,n=
g&65535,g=this.mc[(a<<1)+1],m=g>>16,q=g&65535,m<f&&(f=m),q<w&&(w=q),m+l-1>r&&(r=m+l-1),q+n-1>z&&(z=q+n-1),a+=1;m=r-f+1;q=z-w+1}m=String(m+" x "+q+" = "+m*q);if(0<c){G=0;for(a=C;a<A;)F=this.fj[a]+this.kj[a],F<D&&(D=F),F>E&&(E=F),G+=F,a+=1;D===E?(F=D,G=String(F.toFixed(1))):(F=G/(A-C),G=String(D.toFixed(1)+" | "+E.toFixed(1)+" | "+F.toFixed(1)))}if("Oscillator"===U&&!u){for(C=w;C<=z;C+=1)if(a=J[C],this.G)for(A=f;A<=r;A+=1)w=a[A],(w&3)===t.mf?O+=1:(w&3)===t.nf&&(K+=1),w>>=2,(w&3)===t.mf?O+=1:(w&3)===
t.nf&&(K+=1),w>>=2,(w&3)===t.mf?O+=1:(w&3)===t.nf&&(K+=1),w>>=2,(w&3)===t.mf?O+=1:(w&3)===t.nf&&(K+=1);else for(A=f;A<=r;A+=1)a[A]===t.mf?O+=1:a[A]===t.nf&&(K+=1);H=String((O/(O+K)).toFixed(2))}"Oscillator"!==U||u||(R=String((F/(O+K)).toFixed(2)+" | "+(F/O).toFixed(2)));u||(M=String(O+" | "+K+" | "+(O+K)));u||this.R||this.$||(X=0>=I?String(c):0===c%I?String(I)+" ("+t.VI[this.$j]+")":String(c));return[e,U,v,x,m,y,b,B,c,G,H,X,M,R]};h.prototype.hJ=function(a){var e=this.za?this.Fa:this.H,c=e.f,g=e.g,
n=e.l-c+1,m=e.o-g+1,q=n<<16|m,u=c<<16|g,x=!1,y,v=0,B=0;var b=[];if(this.pc&&0!==(this.v&1))return b;if(this.Pa<t.uk)if(0===this.ma)b=["Empty Pattern","Empty"];else{var l=this.uw(e,a);var f=!1;var r=this.ig;for(y=-1;-1!==r&&!f;){var w=this.rf[r];l>w?(y=r,r=this.wf[r]):l<this.rf[r]?f=!0:l===this.rf[r]&&(w=r<<1,this.ma===this.oi[r]&&q===this.mc[w]?(b=this.v-this.Nh[r],this.mc[w+1]===u?1===b||(this.pc||this.ia)&&2===b?(w="Still Life",b=1):w="Oscillator period "+b:(v=c-(this.mc[w+1]>>16),B=g-(this.mc[w+
1]&65535),w=this.tH(b,v,B)),x=f=!0,b=this.rx(r,w,b,v,B,n,m,a)):(y=r,r=this.wf[r]))}x||(this.rf[this.Pa]=l,this.Nh[this.Pa]=this.v,this.oi[this.Pa]=this.ma,this.fj[this.Pa]=this.Ib,this.kj[this.Pa]=this.Zb,this.mc[this.Pa<<1]=q,this.mc[(this.Pa<<1)+1]=c<<16|g,this.wf[this.Pa]=-1,-1===this.ig?this.ig=0:-1===y?this.ig=this.Pa:this.wf[y]=this.Pa,-1!==this.uf||a||this.R||this.$?-1===this.uf||this.Bw||this.v!==this.Aw||(a=this.Et(e,!1),-1!==a?this.Bw=!0:this.uf=-2):(a=this.Et(e,!0),-1!==a&&(this.uf=this.v-
this.Nh[a],this.Aw=this.v+this.uf,this.Ft=l)),this.Pa+=1,this.Pa===t.uk&&(this.Pa=0,b=[t.QB]))}return b};h.prototype.fw=function(a,e,c,g,n,m,q){var u=this.C/2,x=this.B/2,y=0,v=this.width/2-.25,B=this.height/2,b=this.coords,l=this.Ba,f=this.height/2-this.pa-this.Pb+.5,r=this.width/2-this.xa-this.Rb+.5,w=this.zoom*this.Jc;if(a>c){var z=c;c=a;a=z}e>g&&(z=g,g=e,e=z);a+=n;c+=n;e+=m;g+=m;l.length!==t.tc&&(this.coords=this.m.I(Float32,12*t.tc,"Life.coords"),this.Ba=this.m.I(Uint32,t.tc,"Life.cellColours"),
b=this.coords,l=this.Ba);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(m=n=0;e<=g;e+=1)if(z=(e-B+f)*w+x,z>=-w&&z<this.B+w){var A=e-B;var C=r-v;for(z=a;z<=c;z+=1){if(0<q[y]){var D=(z+C)*w+u;if(D>=-w&&D<this.C+2*w){l[n]=(0<<t.Jh)+m;D=z-v;var E=z+e&1;b[m]=D-1;b[m+1]=A+E;b[m+2]=D+1;b[m+3]=A+E;b[m+4]=D;b[m+5]=A+1-E;m+=6;n+=1;n===t.tc&&(this.cb=n,this.ae(!0,!1,!0),m=n=0)}}y+=1}}else y+=c-a+1;this.cb=n;0<n&&this.ae(!0,!1,!0)};h.prototype.Ku=function(a,e,c,g,n,m){var q=
this.C/2,u=this.B/2,x=this.width/2-.25,y=this.height/2,v=this.coords,B=this.Ba,b=this.height/2-this.pa-this.Pb+.5,l=this.width/2-this.xa-this.Rb+.5,f=this.zoom*this.Jc;if(a>c){var r=c;c=a;a=r}e>g&&(r=g,g=e,e=r);a+=n;c+=n;e+=m;g+=m;B.length!==t.tc&&(this.coords=this.m.I(Float32,12*t.tc,"Life.coords"),this.Ba=this.m.I(Uint32,t.tc,"Life.cellColours"),v=this.coords,B=this.Ba);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(m=n=0;e<=g;e+=1)if(r=(e-y+b)*f+u,r>=-f&&
r<this.B+f){var w=e-y;var z=l-x;for(r=a;r<=c;r+=1){var A=(r+z)*f+q;if(A>=-f&&A<this.C+2*f){B[n]=(0<<t.Jh)+m;A=r-x;var C=r+e&1;v[m]=A-1;v[m+1]=w+C;v[m+2]=A+1;v[m+3]=w+C;v[m+4]=A;v[m+5]=w+1-C;m+=6;n+=1;n===t.tc&&(this.cb=n,this.ae(!0,!1,!0),m=n=0)}}}this.cb=n;0<n&&this.ae(!0,!1,!0)};h.prototype.OH=function(){var a=this.Z,e=this.ic,c=null,g=this.Vd,n=this.C/2,m=this.B/2,q,u,x=this.width/2-.25,y=this.height/2,v=ViewConstants.Ka[3]+128,B=ViewConstants.Ka[4]+128,b=ViewConstants.Ka[5]+128,l=ViewConstants.Ka[6]+
128,f=this.ub,r=this.coords,w=this.Ba,z=g.f,A=g.l;var C=g.g;var D=g.o,E=this.height/2-this.pa-this.Pb+.5,F=this.width/2-this.xa-this.Rb+.5,G=this.zoom*this.Jc,H=!this.Wb&&!this.nd;this.Y&&0!==(this.v&1)&&(a=this.Ta);w.length!==t.tc&&(this.coords=this.m.I(Float32,12*t.tc,"Life.coords"),this.Ba=this.m.I(Uint32,t.tc,"Life.cellColours"),r=this.coords,w=this.Ba);-1!==this.sa&&(0!==this.ua?(z=Math.round((this.width-this.ua)/2)-1,A=z+this.ua-1+2):(z=0,A=this.width-1),0!==this.ra?(C=Math.round((this.height-
this.ra)/2)-1,D=C+this.ra-1+2):(C=0,D=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(u=g=0;C<=D;C+=1){var J=(C-y+E)*G+m;if(J>=-G&&J<this.B+G){J=a[C];e&&(c=e[C]);var O=C-y;var K=F-x;for(q=z;q<=A;q+=1){var M=(q+K)*G+n;if(M>=-G&&M<this.C+2*G){M=J[q];if(c){var I=c[q];if(I===B||I===l)M>f?M=v:M=I;else if(I===v||I===b)M<f?M=B:M=I}0<M&&(w[g]=(M<<t.Jh)+u,M=q-x,I=q+C&1,r[u]=M-1,r[u+1]=O+I,r[u+2]=M+1,r[u+3]=O+I,r[u+4]=M,r[u+5]=O+1-I,u+=6,g+=1);g===t.tc&&
(this.cb=g,this.ae(!0,H,!1),this.nd&&!this.Wb&&(this.context.strokeStyle="rgb("+this.Ua[0]+","+this.Ra[0]+","+this.Sa[0]+")",this.ae(!1,!1,!1)),u=g=0)}}}}this.cb=g;0<g&&(this.ae(!0,H,!1),this.nd&&!this.Wb&&(this.context.strokeStyle="rgb("+this.Ua[0]+","+this.Ra[0]+","+this.Sa[0]+")",this.ae(!1,!1,!1)),u=0);if(this.Wb){this.context.strokeStyle="rgb("+(this.Ud>>16)+","+(this.Ud>>8&255)+","+(this.Ud&255)+")";this.context.lineWidth=1;D=m/G-E+y|0;g=0;for(C=-m/G-E+y|0;C<=D;C+=1)if(J=(C-y+E)*G+m,J>=-G&&
J<this.B+G)for(O=C-y,K=F-x,z=-n/G-K-G|0,A=n/G-K+G|0,q=z;q<=A;q+=1)M=(q+K)*G+n,M>=-G&&M<this.C+G&&(M=q-x,I=q+C&1,r[u]=M-1,r[u+1]=O+I,r[u+2]=M+1,r[u+3]=O+I,r[u+4]=M,r[u+5]=O+1-I,u+=6,g+=1),g===t.tc&&(this.cb=g,this.ae(!1,!1,!1),u=g=0);this.cb=g;0<g&&this.ae(!1,!1,!1)}};h.prototype.ae=function(a,e,c){var g,n=this.context,m=this.width/2-this.xa-this.Rb,q=this.height/2-this.pa-this.Pb,u=this.zoom*this.Jc,x=this.zoom*this.Jc*ViewConstants.Xi,y=this.C/2,v=this.B/2,B=0,b=0,l=-1,f=this.coords,r=this.cb,w=
this.Ba,z=(1<<t.Jh)-1;if(a&&!c&&w.sort){b=(t.tc<<t.Jh)+256;for(g=r;g<t.tc;g+=1)w[g]=b;w.sort()}n.beginPath();a||(l=b=B=0);for(g=0;g<r;g+=1){a&&(b=w[g],B=b&z,b>>=t.Jh);var A=f[B];var C=f[B+1];B+=2;var D=(C+q)*x+v;var E=(A+m)*u+y;var F=(f[B+1]-C)*x;var G=(f[B]-A)*u;B+=2;b!==l&&(l=b,0<g&&(a?(e&&n.stroke(),n.fill()):n.stroke(),n.beginPath()),a&&!c&&(n.fillStyle=this.ii[b],e&&(n.strokeStyle=this.ii[b])));n.moveTo(E|0,D|0);n.lineTo(G+E|0,F+D|0);n.lineTo(G+E|0,D|0);F=(f[B+1]-C)*x;G=(f[B]-A)*u;n.lineTo(G+
E|0,F+D|0);B+=2}a?(e&&n.stroke(),n.fill()):n.stroke()};h.prototype.ew=function(a,e,c,g,n,m,q){var u=0,x=this.width/2-.25,y=this.height/2,v=Math.PI/3,B=.5/Math.cos(v/2)*1.16,b=ViewConstants.Xi/4/Math.cos(v/2)*1.16,l=[],f=[],r=this.coords,w=this.Ba,z=this.C/2,A=this.B/2,C=this.width/2-this.xa-this.Rb,D=this.height/2-this.pa-this.Pb,E=this.ja;C=C+D/2+-(this.height>>2)+.5;D+=.5;if(a>c){var F=c;c=a;a=F}e>g&&(F=g,g=e,e=F);a+=n;c+=n;e+=m;g+=m;w.length!==t.tc&&(this.coords=this.m.I(Float32,12*t.tc,"Life.coords"),
this.Ba=this.m.I(Uint32,t.tc,"Life.cellColours"),r=this.coords,w=this.Ba);m=v/2;for(n=0;5>=n;n+=1)l[n]=Math.cos(m)*b,f[n]=Math.sin(m)*B,l[n]+=f[n]/2,m+=v;v=l[0];B=f[0];b=l[1];F=f[1];var G=l[2];var H=f[2];var J=l[3];var O=f[3];var K=l[4];var M=f[4];l=l[5];f=f[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(m=n=0;e<=g;e+=1){var I=e-y;var X=(I+D)*E+A;if(X>=-E&&X<this.B+E)for(X=a;X<=c;X+=1){if(0<q[u]){var R=X-x;var U=(R+C-(I+D)/2)*E+z;U>=-E&&U<this.C+E&&(w[n]=
(0<<t.Jh)+m,r[m]=v+R,r[m+1]=B+I,r[m+2]=b+R,r[m+3]=F+I,r[m+4]=G+R,r[m+5]=H+I,r[m+6]=J+R,r[m+7]=O+I,r[m+8]=K+R,r[m+9]=M+I,r[m+10]=l+R,r[m+11]=f+I,m+=12,n+=1,n===t.tc&&(this.cb=n,this.Qd(!0,!1,!1,!0),m=n=0))}u+=1}else u+=c-a+1}this.cb=n;0<n&&this.Qd(!0,!1,!1,!0)};h.prototype.Bu=function(a,e,c,g,n,m){var q=this.width/2-.25,u=this.height/2,x=Math.PI/3,y=.5/Math.cos(x/2)*1.16,v=ViewConstants.Xi/4/Math.cos(x/2)*1.16,B=[],b=[],l=this.coords,f=this.Ba,r=this.C/2,w=this.B/2,z=this.width/2-this.xa-this.Rb,A=
this.height/2-this.pa-this.Pb,C=this.ja;z=z+A/2+-(this.height>>2)+.5;A+=.5;if(a>c){var D=c;c=a;a=D}e>g&&(D=g,g=e,e=D);a+=n;c+=n;e+=m;g+=m;f.length!==t.tc&&(this.coords=this.m.I(Float32,12*t.tc,"Life.coords"),this.Ba=this.m.I(Uint32,t.tc,"Life.cellColours"),l=this.coords,f=this.Ba);m=x/2;for(n=0;5>=n;n+=1)B[n]=Math.cos(m)*v,b[n]=Math.sin(m)*y,B[n]+=b[n]/2,m+=x;x=B[0];y=b[0];v=B[1];D=b[1];var E=B[2];var F=b[2];var G=B[3];var H=b[3];var J=B[4];var O=b[4];B=B[5];b=b[5];this.context.lineWidth=1;this.context.lineCap=
"round";this.context.lineJoin="round";for(m=n=0;e<=g;e+=1){var K=e-u;var M=(K+A)*C+w;if(M>=-C&&M<this.B+C)for(M=a;M<=c;M+=1){var I=M-q;var X=(I+z-(K+A)/2)*C+r;X>=-C&&X<this.C+C&&(f[n]=(0<<t.Jh)+m,l[m]=x+I,l[m+1]=y+K,l[m+2]=v+I,l[m+3]=D+K,l[m+4]=E+I,l[m+5]=F+K,l[m+6]=G+I,l[m+7]=H+K,l[m+8]=J+I,l[m+9]=O+K,l[m+10]=B+I,l[m+11]=b+K,m+=12,n+=1,n===t.tc&&(this.cb=n,this.Qd(!0,!1,!1,!0),m=n=0))}}this.cb=n;0<n&&this.Qd(!0,!1,!1,!0)};h.prototype.KH=function(){var a=this.Z,e=this.ic,c=null,g=this.Vd,n=this.C/
2,m=this.B/2,q,u=this.width/2-.25,x=this.height/2,y=Math.PI/3,v=.5/Math.cos(y/2)*1.16,B=ViewConstants.Xi/4/Math.cos(y/2)*1.16,b=[],l=[],f=ViewConstants.Ka[3]+128,r=ViewConstants.Ka[4]+128,w=ViewConstants.Ka[5]+128,z=ViewConstants.Ka[6]+128,A=this.ub,C=this.coords,D=this.Ba,E=g.f,F=g.l;var G=g.g;var H=g.o,J=this.height/2-this.pa-this.Pb+.5,O=this.width/2-this.xa-this.Rb+.5-(this.height>>2)+J/2,K=this.zoom*this.Jc,M=!this.Wb&&!this.nd;this.Y&&0!==(this.v&1)&&(a=this.Ta);D.length!==t.tc&&(this.coords=
this.m.I(Float32,12*t.tc,"Life.coords"),this.Ba=this.m.I(Uint32,t.tc,"Life.cellColours"),C=this.coords,D=this.Ba);-1!==this.sa&&(0!==this.ua?(E=Math.round((this.width-this.ua)/2)-1,F=E+this.ua-1+2):(E=0,F=this.width-1),0!==this.ra?(G=Math.round((this.height-this.ra)/2)-1,H=G+this.ra-1+2):(G=0,H=this.height-1));var I=y/2;for(g=0;5>=g;g+=1)b[g]=Math.cos(I)*B,l[g]=Math.sin(I)*v,b[g]+=l[g]/2,I+=y;y=b[0];v=l[0];B=b[1];var X=l[1];var R=b[2];var U=l[2];var Y=b[3];var da=l[3];var V=b[4];var ka=l[4];b=b[5];
l=l[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(I=g=0;G<=H;G+=1){var ma=(G+J-x)*K+m;if(ma>=-K&&ma<this.B+K){ma=a[G];e&&(c=e[G]);var ea=G-x;var aa=O-u-(ea+J)/2;for(q=E;q<=F;q+=1){var ca=(q+aa)*K+n;if(ca>=-K&&ca<this.C+K){ca=ma[q];if(c){var ba=c[q];if(ba===r||ba===z)ca>A?ca=f:ca=ba;else if(ba===f||ba===w)ca<A?ca=r:ca=ba}0<ca&&(D[g]=(ca<<t.Jh)+I,ca=q-u,C[I]=y+ca,C[I+1]=v+ea,C[I+2]=B+ca,C[I+3]=X+ea,C[I+4]=R+ca,C[I+5]=U+ea,C[I+6]=Y+ca,C[I+7]=da+ea,C[I+8]=
V+ca,C[I+9]=ka+ea,C[I+10]=b+ca,C[I+11]=l+ea,I+=12,g+=1);g===t.tc&&(this.cb=g,this.Qd(!0,M,!1,!1),this.nd&&!this.Wb&&(this.context.strokeStyle="rgb("+this.Ua[0]+","+this.Ra[0]+","+this.Sa[0]+")",this.Qd(!1,!1,!1,!1)),I=g=0)}}}}this.cb=g;0<g&&(this.Qd(!0,M,!1,!1),this.nd&&!this.Wb&&(this.context.strokeStyle="rgb("+this.Ua[0]+","+this.Ra[0]+","+this.Sa[0]+")",this.Qd(!1,!1,!1,!1)),I=0);if(this.Wb){this.context.strokeStyle="rgb("+(this.Ud>>16)+","+(this.Ud>>8&255)+","+(this.Ud&255)+")";this.context.lineWidth=
1;g=0;H=m/K-J+x|0;for(G=-m/K-J+x|0;G<=H;G+=1)if(ma=(G+J-x)*K+m,ma>=-K&&ma<this.B+K)for(ea=G-x,aa=O-u-(ea+J)/2,E=-n/K-aa-K|0,F=n/K-aa+K|0,q=E;q<=F;q+=1)ca=(q+aa)*K+n,ca>=-K&&ca<this.C+K&&(ca=q-u,C[I]=y+ca,C[I+1]=v+ea,C[I+2]=B+ca,C[I+3]=X+ea,C[I+4]=R+ca,C[I+5]=U+ea,C[I+6]=Y+ca,C[I+7]=da+ea,I+=8,g+=1),g===t.tc&&(this.cb=g,this.Qd(!1,!1,!0,!1),I=g=0);this.cb=g;0<g&&this.Qd(!1,!1,!0,!1)}};h.prototype.Qd=function(a,e,c,g){var n=this.context,m=this.width/2-this.xa-this.Rb,q=this.height/2-this.pa-this.Pb,
u=this.zoom*this.Jc,x=this.C/2,y=this.B/2,v=0,B=0,b=12,l=0,f=-1,r=this.coords,w=this.cb,z=this.Ba,A=(1<<t.Jh)-1;m=m+q/2+-(this.height>>2)+.5;q+=.5;a&&!g&&z.sort&&(l=(t.tc<<t.Jh)+256,z.fill(l,w),z.sort());n.beginPath();a||(B=b=c?8:12,f=l=v=0);for(c=0;c<w;c+=1){a&&(l=z[c],v=l&A,B=v+b,l>>=t.Jh);var C=r[v];var D=r[v+1];var E=D+q;var F=C+m-E/2;v+=2;E=E*u+y;F=F*u+x;var G=(r[v+1]-D)*u;var H=(r[v]-C)*u-G/2;v+=2;l!==f&&(f=l,0<c&&(a?(e&&n.stroke(),n.fill()):n.stroke(),n.beginPath()),a&&!g&&(n.fillStyle=this.ii[l],
e&&(n.strokeStyle=this.ii[l])));n.moveTo(F,E);for(n.lineTo(H+F,G+E);v<B;)G=(r[v+1]-D)*u,H=(r[v]-C)*u-G/2,v+=2,n.lineTo(H+F,G+E);B+=b}a?(e&&n.stroke(),n.fill()):n.stroke()};h.prototype.sw=function(a,e,c){var g="",n=e.rb?e.Vd:e.H,m=n.f,q=n.l,u=n.o,x=n.g,y=q-m+1,v=u-x+1;n=0;var B=[];var b=0;var l=!1,f=this.Z,r=null;var w=(e.width>>1)-(a.pb>>1);var z=(e.height>>1)-(a.sb>>1),A=a.Gb;a.vb&&(m=A.f+w,x=A.g+z,q=A.l+w,u=A.o+z,m>q&&(w=m,m=q,q=w),x>u&&(w=x,x=u,u=w),y=q-m+1,v=u-x+1);e.$&&(0<m&&0!==(m&1)&&(--m,
y+=1),0<x&&0!==(x&1)&&(--x,v+=1));e.ia&&(0<m&&0===(m&1)&&(--m,y+=1),0<x&&0===(x&1)&&(--x,v+=1));if(2>=e.h&&!e.If)l=!0,B[0]="b",B[1]="o";else for(e.If?b=7:b=e.h,B[0]=".",w=0;w<b-1;w+=1)B[w+1]=24<=w?String.fromCharCode(112+(w/24|0)-1)+String.fromCharCode(65+w%24):String.fromCharCode(65+w);c&&(g+=e.sc);0===this.ma&&(v=y=0,u=x-1);g+="x = "+y+", y = "+v+", rule = ";g="LifeHistory"===a.pd?e.If?g+a.pd:g+"Life":e.rb&&!e.If?g+a.Eb.substr(0,a.Eb.length-7):g+a.Eb;g+=a.em;g+="\n";for(a=g.length;x<=u;){w=m;l&&
!this.Y?(r=f[x],v=r[w],b=v<=this.Td||v===this.ec?0:1):b=e.getState(w,x,!1);y=1;for(w+=1;w<=q+1;)w>q?v=-1:l&&!this.Y?(v=r[w],v=v<=this.Td||v===this.ec?0:1):v=e.getState(w,x,!1),v!==b?((-1!==v||0!==b)&&0<n&&(1<n&&(g+=n),g+="$",69<=g.length-a&&(g+="\n",a=g.length),n=0),0<b?(1<y&&(g+=y),g+=B[b]):w<=q&&(1<y&&(g+=y),g+=B[b]),69<=g.length-a&&(g+="\n",a=g.length),y=1,b=v):y+=1,w+=1;n+=1;x+=1}g+="!\n";c&&(g+=e.Xf);return g};h.prototype.QF=function(a,e,c,g){var n=this.qb,m=this.da,q=this.Z,u=this.Ha,x=this.Aa,
y=this.H,v=this.Vd;var B=!0;var b=this.$?1:0,l=this.$?14:15;if(a!==(a&this.xb)||e!==(e&this.Ab)){for(B=!1;this.width<this.ga&&(a!==(a&this.xb)||e!==(e&this.Ab));)this.kq(),a+=this.width>>2,e+=this.height>>2;a===(a&this.xb)&&e===(e&this.Ab)&&(B=!0,n=this.qb,m=this.da,q=this.Z,u=this.Ha,x=this.Aa)}if(B){0!==(this.v&1)&&(n=this.dc,m=this.oa);B=1<<(~a&15);var f=1<<(~(a>>4)&15);1===(c&1)?(this.aa=1,0===(n[e][a>>4]&B)&&(this.ma+=1),q[e][a]=this.ub,u[e>>4][a>>8]|=f,x[e>>4][a>>8]|=f,n[e][a>>4]|=B,m[e>>4][a>>
8]|=f,g=a&15,0<a&&g<=b?(a-=g+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-1&&g>=l&&(a+=16-g,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-g),0<e&&0===(e&15)?(--e,m[e>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&g<=b?(a-=g+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-1&&g>=l&&(a+=16-g,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-g),e+=1):e<this.height-1&&15===(e&15)&&(e+=1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&g<=b?(a-=g+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-1&&g>=l&&(a+=16-g,m[e>>4][a>>8]|=1<<(~(a>>
4)&15),a-=16-g),--e)):(0!==(n[e][a>>4]&B)&&--this.ma,q[e][a]=g?this.Za:this.Td,u[e>>4][a>>8]|=f,x[e>>4][a>>8]|=f,n[e][a>>4]&=~B);0<c&&(a<y.f&&(y.f=a),a>y.l&&(y.l=a),e<y.g&&(y.g=e),e>y.o&&(y.o=e),a<v.f&&(v.f=a),a>v.l&&(v.l=a),e<v.g&&(v.g=e),e>v.o&&(v.o=e),a===y.f||a===y.l||e===y.o||e===y.g)&&(this.uh=!0)}return 0};h.prototype.lG=function(a,e,c,g){var n=this.qb,m=this.da,q=this.Z,u=this.Ha,x=this.Aa,y=this.ic,v=this.H,B=this.Vd;var b=!0;var l=0,f=this.$?1:0,r=this.$?14:15;if(a!==(a&this.xb)||e!==(e&
this.Ab)){for(b=!1;this.width<this.ga&&(a!==(a&this.xb)||e!==(e&this.Ab));)this.kq(),a+=this.width>>2,e+=this.height>>2;a===(a&this.xb)&&e===(e&this.Ab)&&(b=!0,n=this.qb,m=this.da,q=this.Z,u=this.Ha,x=this.Aa,y=this.ic)}if(b){0!==(this.v&1)&&(n=this.dc,m=this.oa);b=1<<(~a&15);var w=1<<(~(a>>4)&15);1===(c&1)?(this.aa=1,0===(n[e][a>>4]&b)&&(this.ma+=1),q[e][a]=this.ub,u[e>>4][a>>8]|=w,x[e>>4][a>>8]|=w,n[e][a>>4]|=b,m[e>>4][a>>8]|=w,g=a&15,0<a&&g<=f?(a-=g+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-
1&&g>=r&&(a+=16-g,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-g),0<e&&0===(e&15)?(--e,m[e>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&g<=f?(a-=g+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-1&&g>=r&&(a+=16-g,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-g),e+=1):e<this.height-1&&15===(e&15)&&(e+=1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&g<=f?(a-=g+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-1&&g>=r&&(a+=16-g,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-g),--e)):(0!==(n[e][a>>4]&b)&&--this.ma,q[e][a]=g?this.Za:this.Td,
u[e>>4][a>>8]|=w,x[e>>4][a>>8]|=w,n[e][a>>4]&=~b);if(y){m=y[e][a];0<m&&(m=ViewConstants.Ka.indexOf(m-128));if(6===c&&6!==m||6!==c&&6===m)l=1;2===c?q[e][a]=t.gk:y[e][a]=0===c?0:ViewConstants.Ka[c]+128}0<c&&(a<v.f&&(v.f=a),a>v.l&&(v.l=a),e<v.g&&(v.g=e),e>v.o&&(v.o=e),a<B.f&&(B.f=a),a>B.l&&(B.l=a),e<B.g&&(B.g=e),e>B.o&&(B.o=e),a===v.f||a===v.l||e===v.o||e===v.g)&&(this.uh=!0)}return l};h.prototype.fs=function(a,e,c,g){var n=this.qb,m=this.da,q=this.Z,u=this.Ha,x=this.Aa,y=this.ic,v=this.H,B=this.Fa,
b=this.Vd,l=0,f=this.ia?-1:0;var r=Math.round((this.width-this.ua)/2)+f;var w=Math.round((this.height-this.ra)/2)+f,z=r+this.ua-1,A=w+this.ra-1,C=!0;f=0;var D=this.$?1:0,E=this.$?14:15;(this.G||this.Y)&&0!==(this.v&1)&&(q=this.Ta);-1!==this.sa&&(0===this.ua&&(r=0,z=this.width-1),0===this.ra&&(w=0,A=this.height-1));if(a!==(a&this.xb)||e!==(e&this.Ab)){for(C=!1;this.width<this.ga&&(a!==(a&this.xb)||e!==(e&this.Ab));)this.kq(),a+=this.width>>2,e+=this.height>>2;a===(a&this.xb)&&e===(e&this.Ab)&&(C=!0,
n=this.qb,m=this.da,q=this.Z,u=this.Ha,x=this.Aa,y=this.ic)}if(C&&(-1===this.sa||a>=r&&a<=z&&e>=w&&e<=A)){if(this.G||this.Y)n=q[e][a],q[e][a]=g&&0===c?0:this.J+c,x[e>>4][a>>8]=65535,this.Y&&(0!==(this.v&1)&&(m=this.oa),l=1<<(~(a>>4)&15)),0===c?n>this.J&&(this.G?this.ma-=this.$g[n-this.J]:--this.ma):(this.aa=1,this.G?(n<=this.J||(this.ma-=this.$g[n-this.J]),this.ma+=this.$g[c]):(m[e>>4][a>>8]|=l,0===n&&(this.ma+=1)));else if(0!==(this.v&1)&&(n=this.dc,m=this.oa),r=1<<(~a&15),l=1<<(~(a>>4)&15),this.za)n=
q[e][a],2===this.h?(m=this.ub,1===c&&(c=this.ub,this.aa=1)):(m=this.h-1+this.J,0<c&&(c=this.J+c,this.aa=1)),q[e][a]=c,u[e>>4][a>>8]|=l,x[e>>4][a>>8]|=l,n!==m&&c===m?this.ma+=1:n===m&&c!==m&&--this.ma;else{(w=2>=this.h?1===(c&1):c===this.h-1)?(this.aa=1,0===(n[e][a>>4]&r)&&(this.ma+=1),q[e][a]=this.ub,u[e>>4][a>>8]|=l,x[e>>4][a>>8]|=l,n[e][a>>4]|=r,m[e>>4][a>>8]|=l,u=a&15,0<a&&u<=D?(a-=u+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=E&&(a+=16-u,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),
0<e&&0===(e&15)?(--e,m[e>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&u<=D?(a-=u+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=E&&(a+=16-u,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),e+=1):e<this.height-1&&15===(e&15)&&(e+=1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&u<=D?(a-=u+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=E&&(a+=16-u,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),--e)):(0!==(n[e][a>>4]&r)&&--this.ma,q[e][a]=g?this.Za:this.Td,u[e>>4][a>>8]|=l,x[e>>4][a>>8]|=l,n[e][a>>4]&=~r);if(this.rb&&
y){n=y[e][a];0<n&&(n=ViewConstants.Ka.indexOf(n-128));if(6===c&&6!==n||6!==c&&6===n)f=1;2===c?q[e][a]=t.gk:y[e][a]=0===c?0:ViewConstants.Ka[c]+128}2<this.h&&(0<c&&(c=this.J+c),q[e][a]=c)}if(0<c)a<v.f&&(v.f=a),a>v.l&&(v.l=a),e<v.g&&(v.g=e),e>v.o&&(v.o=e),a<b.f&&(b.f=a),a>b.l&&(b.l=a),e<b.g&&(b.g=e),e>b.o&&(b.o=e),this.za&&c===this.h-1+this.J&&(a<B.f&&(B.f=a),a>B.l&&(B.l=a),e<B.g&&(B.g=e),e>B.o&&(B.o=e));else if(a===v.f||a===v.l||e===v.o||e===v.g)this.uh=!0}return f};h.prototype.getState=function(a,
e,c){switch(this.hs){case t.ny:return this.Yu(a,e,c);case t.py:return this.Yu(a,e,!0);case t.oy:return this.Vw(a,e,c);default:return this.lx(a,e,c)}};h.prototype.Vi=function(a,e,c,g){switch(this.hs){case t.ny:return this.QF(a,e,c,g);case t.py:return this.fs(a,e,c,g);case t.oy:return this.lG(a,e,c,g);default:return this.fs(a,e,c,g)}};h.prototype.QK=function(){this.hs=-1!=this.h||-1!==this.sa||this.bb?this.Y&&2===this.h?t.py:t.WI:this.rb?t.oy:t.ny};h.prototype.vG=function(a){var e=1<<t.Ij;a?(this.Ec=
Array.ea(Uint32,1,e,0,this.m,"Life.popGraphData"),this.lh=Array.ea(Uint32,1,e,0,this.m,"Life.birthGraphData"),this.ph=Array.ea(Uint32,1,e,0,this.m,"Life.deathGraphData"),this.xh=e):(this.Ec=Array.ea(Uint32,0,0,0,this.m,"Life.popGraphData"),this.lh=Array.ea(Uint32,0,0,0,this.m,"Life.birthGraphData"),this.ph=Array.ea(Uint32,0,0,0,this.m,"Life.deathGraphData"),this.xh=0)};h.prototype.Yu=function(a,e,c){var g=0;a===(a&this.xb)&&e===(e&this.Ab)&&(a=this.Z[e][a],c?g=a:g=a<=this.Td?0:1);return g};h.prototype.Vw=
function(a,e,c){var g=0,n=ViewConstants.Ka[3]+128,m=ViewConstants.Ka[4]+128,q=ViewConstants.Ka[5]+128,u=ViewConstants.Ka[6]+128;a===(a&this.xb)&&e===(e&this.Ab)&&(g=this.Z[e][a],c||(this.ic?(a=this.ic[e][a],a===m||a===u?(g>=this.ub&&(a=n),g=ViewConstants.Ka.indexOf(a-128)):a===n||a===q?(g<this.ub&&(a=m),g=ViewConstants.Ka.indexOf(a-128)):g=g===this.Za?0:g<=this.Td?2:1):g=g<=this.Td?0:1));return g};h.prototype.lx=function(a,e,c){var g=0,n=ViewConstants.Ka[3]+128,m=ViewConstants.Ka[4]+128,q=ViewConstants.Ka[5]+
128,u=ViewConstants.Ka[6]+128,x=this.ia?-1:0,y=Math.round((this.width-this.ua)/2)+x;x=Math.round((this.height-this.ra)/2)+x;var v=y+this.ua-1,B=x+this.ra-1,b=this.Z;(this.G||this.Y)&&0!==(this.v&1)&&(b=this.Ta);a===(a&this.xb)&&e===(e&this.Ab)&&(g=b[e][a],c||2<this.h?2<this.h&&0<g&&!this.bb&&(g<=this.J?g=0:(-1!==this.sa&&(0===this.ua&&(y=0,v=this.width-1),0===this.ra&&(x=0,B=this.height-1)),g=-1===this.sa||g!==this.ec||a>=y&&a<=v&&e>=x&&e<=B?this.G||this.Y?g-this.J:this.h+this.J-g:0)):this.ic?-1===
this.sa||g!==this.ec||a>=y&&a<=v&&e>=x&&e<=B?(a=this.ic[e][a],a===m||a===u?(g>=this.ub&&(a=n),g=ViewConstants.Ka.indexOf(a-128)):a===n||a===q?(g<this.ub&&(a=m),g=ViewConstants.Ka.indexOf(a-128)):g=g===this.Za?0:g<=this.Td?2:1):g=0:g=g<=this.Td||g===this.ec?0:1);return g};h.prototype.Qn=function(a){var e,c,g,n=a.length,m=a[0].length,q=this.$g,u=0;for(e=0;e<n;e+=1){var x=a[e];for(c=0;c<m;c+=1)(g=x[c])&&(u+=q[g])}return u};h.prototype.hj=function(a,e){var c=a.Jf,g=c.length,n=!1;if(this.ia||this.G)for(this.Tc=
this.Uc=!1,a=0;!n&&a<g;){var m=c[a];m.fh<e?("reverse playback"===m.action&&(this.Tc=!this.Tc),a+=1):m.fh>e?n=!0:"reverse playback"===m.action?n=this.Uc=!0:a+=1}};h.prototype.xr=function(a,e,c,g){var n=this.qg.Ie.length,m=null;a<this.v&&(m=this.qg.TK(a),n!==this.qg.Ie.length&&(this.rn-=t.Fr*(n-this.qg.Ie.length)));m&&(this.nv(m),g.Ki());for(;this.v<a-1;)this.aa?(this.hj(g,this.v),this.af(!1,!0,c,g.Ub),0===this.aa&&2<this.h||this.Xe(),0===this.aa&&2>=this.h&&(this.aa=1,this.hj(g,this.v),this.af(!1,
!1,c,g.Ub),this.aa=0,--this.v)):(this.v+=1,this.Xe()),g.Ki();this.v<a?(this.aa?(this.hj(g,this.v),this.af(e,!0,c,g.Ub),0===this.aa&&2<this.h||this.Xe(),0===this.aa&&2>=this.h&&(this.aa=1,this.hj(g,this.v),this.af(!1,!1,c,g.Ub),this.aa=0,--this.v)):(this.v+=1,this.Xe()),g.Ki()):-1===this.h&&this.Xe();g.Aj&&(this.aa=1)};h.prototype.nv=function(a){var e=this.Z;this.v=a.v;this.Hf=a.Hf;this.Ji=a.Ji;if(0!==(this.v&1)){var c=this.lg;var g=this.$c;var n=this.oa;var m=this.da}else c=this.$c,g=this.lg,n=this.da,
m=this.oa;c.$a.fill(0);g.$a.fill(0);this.Z.$a.fill(0);(this.G||this.Y)&&this.Ta.$a.fill(0);this.W.$a.fill(0);Array.yi(this.Aa,this.Ha);a.jK(c,n,this);a.iK(e,this.Aa,this);(this.G||this.Y)&&Array.yi(e,this.Ta);Array.yi(n,m);Array.yi(c,g);this.H.f=a.H.f;this.H.g=a.H.g;this.H.l=a.H.l;this.H.o=a.H.o;this.Fa.f=a.Fa.f;this.Fa.g=a.Fa.g;this.Fa.l=a.Fa.l;this.Fa.o=a.Fa.o;this.ma=a.ma;this.Ib=a.Ib;this.Zb=a.Zb;this.aa=a.aa};h.prototype.yr=function(){if(0!==(this.v&1)){var a=this.lg;var e=this.oa}else a=this.$c,
e=this.da;this.sv(!1,a,e)};h.prototype.Iu=function(a){this.nv(this.jG);this.qg.reset();this.rn=t.Fr;a||this.yr()};h.prototype.sv=function(a,e,c){var g=this.Z;(this.G||this.Y)&&0!==(this.v&1)&&(g=this.Ta);this.qg.yr(e,c,g,this.Aa,this.ic,this.H,this.Fa,this.ma,this.Ib,this.Zb,this.v,this.Hf,this.Ji,(this.qa-1>>4)+1,this.va,this,a,this.aa)};h.prototype.wK=function(a){this.qg.reset();this.sv(!0,this.$c,this.da);a||this.yr()};h.prototype.bK=function(a,e){var c=this.ic,g=this.tb;this.width=a;this.height=
e;this.za&&this.Yb.resize(this.width,this.height);this.$c=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.grid");this.lg=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.nextGrid");this.qb=Array.Ac(Uint16,this.$c,"Life.grid16");this.dc=Array.Ac(Uint16,this.lg,"Life.nextGrid16");g&&(this.tb=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Mask"),this.Le=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Alive"),this.we=Array.ea(Uint16,
this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Cells"));this.qa=this.width>>4;this.va=this.height>>4;g&&(this.Tg=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.state6TileGrid"));this.da=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.tileGrid");this.oa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.nextTileGrid");this.Ha=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileGrid");this.Aa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileHistoryGrid");
this.We=this.m.I(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Ep=this.m.I(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.md=this.m.I(Uint16,this.qa>>4,"Life.blankTileRow");this.ld=this.m.I(Uint8,this.width,"Life.blankColourRow");this.fa=this.m.I(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Hb=this.m.I(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.Z=Array.ea(Uint8,this.height,this.width,this.Za,this.m,"Life.colourGrid");this.G||this.Y?(this.Ta=Array.ea(Uint8,this.height,
this.width,this.Za,this.m,"Life.nextColourGrid"),this.vh=Array.Ac(Uint16,this.Ta,"Life.nextColourGrid16"),this.na=Array.Ac(Uint32,this.Ta,"Life.nextColourGrid32")):this.na=this.vh=this.Ta=null;this.W=Array.ea(Uint8,this.height,this.width,this.Za,this.m,"Life.smallColourGrid");this.dk=Array.Ac(Uint16,this.Z,"Life.colourGrid16");this.Ma=Array.Ac(Uint32,this.Z,"Life.colourGrid32");c&&(this.ic=Array.ea(Uint8,this.height,this.width,this.Za,this.m,"Life.overlayGrid"),this.hb=Array.ea(Uint8,this.height,
this.width,this.Za,this.m,"Life.smallOverlayGrid"),this.ni=Array.Ac(Uint16,this.ic,"Life.overlayGrid16"),this.hg=Array.Ac(Uint32,this.ic,"Life.overlayGrid32"));this.xb=this.width-1;this.Ab=this.height-1;this.qg.JE((this.qa-1>>4)+1,this.va,0)};h.prototype.wG=function(){this.height=this.width=1024;this.$c=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.grid");this.lg=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.nextGrid");this.qb=Array.Ac(Uint16,this.$c,"Life.grid16");
this.dc=Array.Ac(Uint16,this.lg,"Life.nextGrid16");this.qa=this.width>>4;this.va=this.height>>4;this.da=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.tileGrid");this.oa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.nextTileGrid");this.Ha=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileGrid");this.Aa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileHistoryGrid");this.We=this.m.I(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Ep=this.m.I(Uint16,
(this.width-1>>4)+1,"Life.blankRow16");this.md=this.m.I(Uint16,this.qa>>4,"Life.blankTileRow");this.ld=this.m.I(Uint8,this.width,"Life.blankColourRow");this.fa=this.m.I(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Hb=this.m.I(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.Z=Array.ea(Uint8,this.height,this.width,this.Za,this.m,"Life.colourGrid");this.dk=Array.Ac(Uint16,this.Z,"Life.colourGrid16");this.Ma=Array.Ac(Uint32,this.Z,"Life.colourGrid32");this.G||this.Y?(this.Ta=Array.ea(Uint8,
this.height,this.width,this.Za,this.m,"Life.nextColourGrid"),this.vh=Array.Ac(Uint16,this.Ta,"Life.nextColourGrid16"),this.na=Array.Ac(Uint32,this.Ta,"Life.nextColourGrid32")):this.na=this.vh=this.Ta=null;this.xb=this.width-1;this.Ab=this.height-1};h.prototype.kq=function(){var a=this.$c,e=this.lg,c=this.Z,g=this.Ta,n=this.W,m=this.ic,q=this.hb,u=this.tb,x=this.Le,y=this.we,v=this.ek,B=this.Tg,b=this.da,l=this.oa,f=this.Ha,r=this.Aa,w=this.height,z=this.va,A=this.width>>1,C=this.height>>1,D;if(this.width<
this.ga){this.width*=2;this.height*=2;this.za&&this.Yb.resize(this.width,this.height);this.$c=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.grid");this.lg=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.nextGrid");this.qb=Array.Ac(Uint16,this.$c,"Life.grid16");this.dc=Array.Ac(Uint16,this.lg,"Life.nextGrid16");u&&(this.tb=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Mask"),this.Le=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Alive"),
this.we=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Cells"));this.qa=this.width>>4;this.va=this.height>>4;u&&(this.Tg=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.state6TileGrid"));this.da=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.tileGrid");this.oa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.nextTileGrid");this.Ha=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileGrid");this.Aa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,
0,this.m,"Life.colourTileHistoryGrid");this.We=this.m.I(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Ep=this.m.I(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.md=this.m.I(Uint16,this.qa>>4,"Life.blankTileRow");this.ld=this.m.I(Uint8,this.width,"Life.blankColourRow");this.fa=this.m.I(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Hb=this.m.I(Uint16,(this.width-1>>4)+1,"Life.rowOccupied16");v&&(this.ek=Array.ea(Uint8,this.height,this.width,t.rl,this.m,"Life.countList"));this.Z=Array.ea(Uint8,
this.height,this.width,this.Za,this.m,"Life.colourGrid");this.W=Array.ea(Uint8,this.height,this.width,this.Za,this.m,"Life.smallColourGrid");this.dk=Array.Ac(Uint16,this.Z,"Life.colourGrid16");this.Ma=Array.Ac(Uint32,this.Z,"Life.colourGrid32");this.G||this.Y?(this.Ta=Array.ea(Uint8,this.height,this.width,this.Za,this.m,"Life.nextColourGrid"),this.vh=Array.Ac(Uint16,this.Ta,"Life.nextColourGrid16"),this.na=Array.Ac(Uint32,this.Ta,"Life.nextColourGrid32")):this.na=this.vh=this.Ta=null;m&&(this.ic=
Array.ea(Uint8,this.height,this.width,this.Za,this.m,"Life.overlayGrid"),this.hb=Array.ea(Uint8,this.height,this.width,this.Za,this.m,"Life.smallOverlayGrid"),this.ni=Array.Ac(Uint16,this.ic,"Life.overlayGrid16"),this.hg=Array.Ac(Uint32,this.ic,"Life.overlayGrid32"));this.xb=this.width-1;this.Ab=this.height-1;for(D=0;D<w;D+=1)this.$c[D+C].set(a[D],A>>3),this.lg[D+C].set(e[D],A>>3),this.Z[D+C].set(c[D],A),this.W[D+C].set(n[D],A),(this.G||this.Y)&&this.Ta[D+C].set(g[D],A),this.ek&&this.ek[D+C].set(v[D],
A),m&&q&&(this.ic[D+C].set(m[D],A),this.hb[D+C].set(q[D],A)),u&&x&&y&&(this.tb[D+C].set(u[D],A>>4),this.Le[D+C].set(x[D],A>>4),this.we[D+C].set(y[D],A>>4));C=z>>1;for(D=0;D<z;D+=1)B&&this.Tg[D+C].set(B[D],this.Tg[D].length>>2),this.da[D+C].set(b[D],this.da[D].length>>2),this.oa[D+C].set(l[D],this.oa[D].length>>2),this.Ha[D+C].set(f[D],this.Ha[D].length>>2),this.Aa[D+C].set(r[D],this.Aa[D].length>>2);A=this.width>>2;C=this.height>>2;this.qg.JE((this.qa-1>>4)+1,this.va,A);this.xa+=A;this.pa+=C;this.R&&
(this.xa-=C/2|0);this.H.f+=A;this.H.l+=A;this.H.o+=C;this.H.g+=C;this.Fa.f+=A;this.Fa.l+=A;this.Fa.o+=C;this.Fa.g+=C;this.xf.f+=A;this.xf.l+=A;this.xf.o+=C;this.xf.g+=C;this.Vd.f+=A;this.Vd.l+=A;this.Vd.o+=C;this.Vd.g+=C;if(0<this.Pa)for(D=0;D<this.Pa;D+=1)e=this.mc[(D<<1)+1],a=(e>>16)+A,e=(e&65535)+C,this.mc[(D<<1)+1]=a<<16|e}};h.prototype.PG=function(a,e){var c=this.width,g=this.height,n=!1;c<this.ga&&this.aa&&(a.f<=e||a.g<=e||a.l>=c-e||a.o>=g-e)&&(this.kq(),n=!0);return n};h.prototype.zx=function(){var a,
e,c=this.$g;for(a=0;65536>a;a+=1){var g=a;for(e=0;g;e+=1)g&=g-1;c[a]=e}};h.prototype.Gx=function(){var a,e,c=this.Mt,g=this.ub;for(a=0;256>a;a+=1)for(e=0;8>e;e+=1)c[(a<<3)+e]=a&1<<7-e?g:0};h.prototype.dK=function(a,e){var c,g=0,n=this.$g;var m=this.H;var q=m.f,u=m.l,x=m.o;m=m.g;if(this.za||this.G||this.Y)for(;m<=x;m+=1){var y=e[m];for(c=q;c<=u;c+=1)a=y[c],0<a&&(g=this.G?g+n[a-this.J]:g+1)}else for(q>>=4,u>>=4;m<=x;m+=1)for(y=a[m],c=q;c<=u;c+=1)e=n[y[c]],g+=e;this.ma=g;this.Zb=this.Ib=0};h.prototype.IE=
function(a,e){var c=this.context;var g=this.jg?4278190080:255;this.C=a;this.B=e;this.cl=this.Sd=this.hd=null;this.hd=c.createImageData(c.canvas.width,c.canvas.height);this.hd.data.buffer?this.Sd=new Uint32Array(this.hd.data.buffer):(this.Sd=new Uint32Array(this.hd.data.length>>2),this.cl=new Uint8Array(this.Sd.buffer));this.al=this.m.I(Uint32,a,"Life.blankPixelRow");for(e=0;e<a;e+=1)this.al[e]=g;this.Nv(g);this.Lx()};h.prototype.eH=function(a,e,c){var g,n,m=this.Z,q=a.width,u=a.height,x=this.xb,y=
this.Ab,v=this.gk,B=ViewConstants.Ka[2];for(n=0;n<u;n+=1){var b=a.Ig[n];var l=m[n+c&y];for(g=0;g<q;g+=1)b[g]===B&&(l[g+e&x]=v)}};h.prototype.eI=function(){this.hg=this.ni=this.hb=this.ic=null};h.prototype.nH=function(){this.ic=Array.ea(Uint8,this.height,this.width,this.Za,this.m,"Life.overlayGrid");this.hb=Array.ea(Uint8,this.height,this.width,this.Za,this.m,"Life.smallOverlayGrid");Array.gy(this.hb,1,"Life.smallOverlayGrid4");Array.gy(this.hb,3,"Life.smallOverlayGrid8");Array.gy(this.hb,7,"Life.smallOverlayGrid16");
this.ni=Array.Ac(Uint16,this.ic,"Life.overlayGrid16");this.hg=Array.Ac(Uint32,this.ic,"Life.overlayGrid32")};h.prototype.fI=function(){this.Tg=this.we=this.Le=this.tb=null};h.prototype.pH=function(){this.tb=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Mask");this.Le=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Alive");this.we=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Cells");this.Tg=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,
0,this.m,"Life.state6TileGrid")};h.prototype.zn=function(){var a,e,c=this.xb,g=this.Ab,n=this.Tg,m=ViewConstants.Ka[6]+128;this.tb.$a.fill(0);this.we.$a.fill(0);this.Le.$a.fill(0);this.Tg.$a.fill(0);for(e=1;e<this.height-1;e+=1){var q=this.ic[e];var u=this.tb[e-1&g];var x=this.tb[e&g];var y=this.tb[e+1&g];var v=this.we[e&g];var B=n[(e-1&g)>>4];var b=n[(e&g)>>4];var l=n[(e+1&g)>>4];for(a=1;a<=this.width-1;a+=1)if(q[a]===m){var f=a&c;v[f>>4]|=1<<(~f&15);u[f>>4]|=1<<(~f&15);x[f>>4]|=1<<(~f&15);y[f>>
4]|=1<<(~f&15);B[f>>8]|=1<<(~(f>>4)&15);b[f>>8]|=1<<(~(f>>4)&15);l[f>>8]|=1<<(~(f>>4)&15);f=a-1&c;u[f>>4]|=1<<(~f&15);x[f>>4]|=1<<(~f&15);y[f>>4]|=1<<(~f&15);B[f>>8]|=1<<(~(f>>4)&15);b[f>>8]|=1<<(~(f>>4)&15);l[f>>8]|=1<<(~(f>>4)&15);f=a+1&c;u[f>>4]|=1<<(~f&15);x[f>>4]|=1<<(~f&15);y[f>>4]|=1<<(~f&15);B[f>>8]|=1<<(~(f>>4)&15);b[f>>8]|=1<<(~(f>>4)&15);l[f>>8]|=1<<(~(f>>4)&15)}}};h.prototype.yJ=function(a,e,c){var g,n,m=a.width,q=a.height,u=this.xb,x=this.Ab,y=this.Tg;for(n=0;n<q;n+=1){var v=a.Ig[n];
var B=this.tb[n-1+c&x];var b=this.tb[n+c&x];var l=this.tb[n+1+c&x];var f=this.we[n+c&x];var r=y[(n-1+c&x)>>4];var w=y[(n+c&x)>>4];var z=y[(n+1+c&x)>>4];for(g=0;g<m;g+=1)if(6===v[g]){var A=g+e&u;f[A>>4]|=1<<(~A&15);B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);r[A>>8]|=1<<(~(A>>4)&15);w[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15);A=g-1+e&u;B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);r[A>>8]|=1<<(~(A>>4)&15);w[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15);A=g+1+e&
u;B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);r[A>>8]|=1<<(~(A>>4)&15);w[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15)}}};h.prototype.EE=function(a){var e,c=this.Z,g=this.Mt;var n=this.H;var m=n.f>>4,q=n.l>>4,u=n.o;n=n.g;if(!this.G&&!this.Y)for(e=n;e<=u;e+=1){var x=a[e];var y=c[e];var v=m<<4;for(n=m;n<=q;n+=1){var B=x[n]>>8<<3;y[v]=g[B];v+=1;y[v]=g[B+1];v+=1;y[v]=g[B+2];v+=1;y[v]=g[B+3];v+=1;y[v]=g[B+4];v+=1;y[v]=g[B+5];v+=1;y[v]=g[B+6];v+=1;y[v]=g[B+7];v+=1;B=(x[n]&255)<<3;y[v]=
g[B];v+=1;y[v]=g[B+1];v+=1;y[v]=g[B+2];v+=1;y[v]=g[B+3];v+=1;y[v]=g[B+4];v+=1;y[v]=g[B+5];v+=1;y[v]=g[B+6];v+=1;y[v]=g[B+7];v+=1}}};h.prototype.ij=function(a){var e=[],c,g;for(g=0;7>g;g+=1){var n=[];for(c=0;7>c;c+=1)n[c]=0;e[g]=n}for(g=0;3>g;g+=1)for(c=0;3>c;c+=1)e[g+2][c+2]=a[g][c];return e};h.prototype.Tv=function(){this.fl=this.ij(t.kI);this.el=this.ij(t.jI);this.gl=this.ij(t.mI);this.$k=this.ij(t.lI)};h.prototype.xI=function(a,e,c){var g=this.Za,n=this.We,m=this.ld,q=this.al,u=this.md;var x=this.jg?
4278190080:255;this.yg=!1;this.xb=this.width-1;this.Ab=this.height-1;this.H=new BoundingBox(0,0,this.width-1,this.height-1);this.Fa=new BoundingBox(0,0,this.width-1,this.height-1);this.xf=new BoundingBox(0,0,this.width-1,this.height-1);this.Vd=new BoundingBox(0,0,this.width-1,this.height-1);this.js=new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.Gx();this.IE(e,c);n.fill(0);m.fill(g);u.fill(0);q.fill(x);this.Tv()};h.prototype.jH=function(){var a=0;this.eb[a]=new d("Mono",new p(new k(0,
0,0),new k(0,0,0)),new p(new k(255,255,255),new k(255,255,255)),new k(0,0,0),new k(255,255,255),new p(new k(0,0,0),new k(-1,-1,-1)),new p(new k(0,0,0),new k(0,0,0)),new k(0,0,0));a+=1;this.eb[a]=new d("Blues",new p(new k(0,0,47),new k(0,0,255)),new p(new k(0,255,255),new k(255,255,255)),new k(0,0,0),new k(0,255,255),new p(new k(0,0,255),new k(-1,-1,-1)),new p(new k(0,0,47),new k(0,0,128)),new k(0,0,0));a+=1;this.eb[a]=new d("Fire",new p(new k(32,0,0),new k(160,0,0)),new p(new k(255,144,0),new k(255,
255,0)),new k(0,0,0),new k(255,144,0),new p(new k(240,0,0),new k(-1,-1,-1)),new p(new k(32,0,0),new k(160,0,0)),new k(0,0,0));a+=1;this.eb[a]=new d("Poison",new p(new k(0,24,0),new k(0,128,0)),new p(new k(0,255,255),new k(255,255,255)),new k(0,0,0),new k(0,255,255),new p(new k(0,192,0),new k(-1,-1,-1)),new p(new k(0,24,0),new k(0,128,0)),new k(0,0,0));a+=1;this.eb[a]=new d("Yellow",new p(new k(0,47,0),new k(128,0,128)),new p(new k(255,255,0),new k(255,255,255)),new k(0,32,128),new k(255,255,0),new p(new k(192,
64,64),new k(-1,-1,-1)),new p(new k(0,47,0),new k(128,0,128)),new k(0,32,128));a+=1;this.eb[a]=new d("Gray",new p(new k(16,16,16),new k(104,104,104)),new p(new k(176,176,176),new k(240,240,240)),new k(0,0,0),new k(240,240,240),new p(new k(160,160,160),new k(-1,-1,-1)),new p(new k(16,16,16),new k(104,104,104)),new k(0,0,0));a+=1;this.eb[a]=new d("Inverse",new p(new k(255,255,255),new k(255,255,255)),new p(new k(0,0,0),new k(0,0,0)),new k(255,255,255),new k(0,0,0),new p(new k(255,255,255),new k(-1,
-1,-1)),new p(new k(255,255,255),new k(255,255,255)),new k(255,255,255));a+=1;this.eb[a]=new d("Day",new p(new k(240,240,240),new k(0,255,255)),new p(new k(0,0,255),new k(0,0,0)),new k(255,255,255),new k(0,0,255),new p(new k(0,255,255),new k(-1,-1,-1)),new p(new k(240,240,240),new k(0,192,192)),new k(255,255,255));a+=1;this.eb[a]=new d("Occupied",new p(new k(240,240,240),new k(240,240,240)),new p(new k(240,240,240),new k(240,240,240)),new k(0,0,0),new k(240,240,240),new p(new k(240,240,240),new k(240,
240,240)),new p(new k(240,240,240),new k(240,240,240)),new k(0,0,0));a+=1;this.eb[a]=new d("Red",new p(new k(160,0,0),new k(160,0,0)),new p(new k(240,240,240),new k(240,240,240)),new k(0,0,0),new k(255,255,255),new p(new k(160,160,160),new k(160,160,160)),new p(new k(160,0,0),new k(160,0,0)),new k(0,0,0));a+=1;this.eb[a]=new d("LifeHistory",new p(new k(0,0,96),new k(0,0,160)),new p(new k(0,240,0),new k(16,255,16)),new k(0,0,0),new k(16,255,16),new p(new k(0,128,160),new k(-1,-1,-1)),new p(new k(0,
0,96),new k(0,0,160)),new k(0,0,0));a+=1;this.eb[a]=new d("Generations",new p(new k(64,0,0),new k(255,0,0)),new p(new k(255,255,0),new k(255,255,255)),new k(0,0,0),new k(255,255,0),new p(new k(255,0,0),new k(-1,-1,-1)),new p(new k(64,0,0),new k(128,0,0)),new k(0,0,0));a+=1;this.eb[a]=new d("Golly",new p(new k(48,48,48),new k(48,48,48)),new p(new k(255,255,255),new k(255,255,255)),new k(48,48,48),new k(255,255,0),new p(new k(255,0,0),new k(-1,-1,-1)),new p(new k(48,48,48),new k(48,48,48)),new k(48,
48,48));this.eb[a].In(10,new k(80,80,80),new k(112,112,112));a+=1;this.eb[a]=new d("MCell",new p(new k(0,0,0),new k(0,0,0)),new p(new k(255,255,0),new k(255,255,0)),new k(0,0,0),new k(255,255,0),new p(new k(0,255,0),new k(255,255,0)),new p(new k(0,0,0),new k(0,0,0)),new k(0,0,0));this.eb[a].In(5,new k(64,0,0),new k(99,3,1));a+=1;this.eb[a]=new d("Catagolue",new p(new k(160,221,204),new k(160,221,204)),new p(new k(0,0,0),new k(0,0,0)),new k(192,255,238),new k(0,0,0),new p(new k(96,192,139),new k(2,
129,2)),new p(new k(160,221,204),new k(160,221,204)),new k(192,255,238));this.eb[a].In(0,new k(160,221,204),new k(160,221,204));a+=1;this.eb[a]=new d("Caterer",new p(new k(54,57,62),new k(54,57,62)),new p(new k(255,255,255),new k(255,255,255)),new k(54,57,62),new k(255,170,0),new p(new k(255,85,0),new k(-1,-1,-1)),new p(new k(54,57,62),new k(54,57,62)),new k(54,57,62));this.eb[a].In(0,new k(0,0,0),new k(0,0,0));a+=1;this.eb[a]=new d("Life32",new p(new k(255,255,255),new k(255,255,255)),new p(new k(0,
0,128),new k(0,0,128)),new k(255,255,255),new k(0,0,128),new p(new k(0,0,64),new k(-1,-1,-1)),new p(new k(255,255,255),new k(255,255,255)),new k(255,255,255));this.eb[a].In(5,new k(192,192,192),new k(128,128,128));a+=1;this.eb[a]=new d("Margolus",new p(new k(0,0,47),new k(0,0,128)),new p(new k(255,255,0),new k(255,255,255)),new k(0,0,0),new k(255,255,0),new p(new k(64,64,128),new k(-1,-1,-1)),new p(new k(0,0,47),new k(0,0,128)),new k(0,0,0));this.eb[a].In(2,new k(32,32,255),new k(64,64,128));a+=1;
this.eb[a]=new d("PCA",new p(new k(24,24,24),new k(64,64,64)),new p(new k(176,176,176),new k(240,240,240)),new k(0,0,0),new k(240,240,240),new p(new k(160,160,160),new k(-1,-1,-1)),new p(new k(24,24,24),new k(64,64,64)),new k(0,0,0));a+=1;this.eb[a]=new d("Book",new p(new k(255,220,192),new k(192,220,255)),new p(new k(0,0,0),new k(0,0,0)),new k(255,255,255),new k(0,0,0),new p(new k(24,24,24),new k(128,128,128)),new p(new k(255,220,192),new k(192,220,255)),new k(255,255,255));this.eb[a].In(0,new k(192,
192,192),new k(209,209,209));this.eb[a+1]=new d(Keywords.rp,new p(new k(0,0,0),new k(0,0,0)),new p(new k(0,0,0),new k(0,0,0)),new k(0,0,0),new k(0,0,0),new p(new k(0,0,0),new k(0,0,0)),new p(new k(0,0,0),new k(0,0,0)),new k(0,0,0));this.Ee=this.eb.length-1;this.Ne=new p(new k(0,0,0),new k(0,0,0));this.gd=new p(new k(0,0,0),new k(0,0,0));this.Te=new k(0,0,0);this.kh=new k(0,0,0);this.Re=new p(new k(0,0,0),new k(0,0,0));this.lf=new p(new k(0,0,0),new k(0,0,0));this.yh=new k(0,0,0);this.zd=new p(new k(0,
0,0),new k(0,0,0));this.Dc=new p(new k(0,0,0),new k(0,0,0));this.xe=new k(0,0,0);this.Mf=new k(0,0,0);this.be=new p(new k(0,0,0),new k(0,0,0));this.Qe=new p(new k(0,0,0),new k(0,0,0));this.Cg=new k(0,0,0)};h.prototype.KK=function(a,e,c){var g=this.eb[a],n=this.Rk;this.pf=a;this.Ne.set(this.zd);this.gd.set(this.Dc);this.Te.set(this.xe);this.kh.set(this.Mf);this.lf.set(this.Qe);this.Re.set(this.be);this.yh.set(this.Cg);this.zd.set(g.mb);this.Dc.set(g.ab);this.xe.set(g.Za);this.Mf.set(g.Yf);this.Qe.set(g.yc);
this.be.set(g.Qb);this.Cg.set(g.hi);this.Om=e;this.Rk=g.tI(this.rb);n&&!this.Rk&&!this.za&&2>=this.h&&this.Jv();this.Ud=g.gh;this.gg=g.hh;a!==this.Ee&&this.ia?this.vf=2:this.vf=g.fn;this.jg?(this.ki=-16777216|(this.Ud&255)<<16|(this.Ud>>8&255)<<8|this.Ud>>16,this.ej=-16777216|(this.gg&255)<<16|(this.gg>>8&255)<<8|this.gg>>16):(this.ki=this.Ud>>16<<24|(this.Ud>>8&255)<<16|(this.Ud&255)<<8|255,this.ej=this.gg>>16<<24|(this.gg>>8&255)<<16|(this.gg&255)<<8|255);c.WB()};h.prototype.cC=function(){var a=
this.As,e=this.ee,c=this.ub,g=this.gk,n=this.Td,m,q=new Uint8Array(256);q[0]=0;q[e+1]=c;for(m=1;m<e+1;m+=1)q[m]=Math.min(Math.max(m-1,g),n),q[m+e+1]=Math.max(Math.min(m+1,e),c);if(0===this.J)for(m=this.ub;m<=this.ee;m+=1)q[m]=0;else this.J<this.Td&&(q[this.Td-this.J]=0);for(m=0;65536>m;m+=1)a[m]=q[m>>8]<<8|q[m&255]};h.prototype.IJ=function(){var a;for(a=0;a<this.eb.length;a+=1){var e=this.eb[a];if(e.Cl)if(2>=this.h)e.Qb.U.set(e.Yf);else{var c=1/(this.h-2);e.Qb.U.red=e.Qb.T.red*c+e.Yf.red*(1-c)|0;
e.Qb.U.green=e.Qb.T.green*c+e.Yf.green*(1-c)|0;e.Qb.U.blue=e.Qb.T.blue*c+e.Yf.blue*(1-c)|0}}};h.prototype.dC=function(){var a=(this.Om-1)/this.sl;if(!this.bb)if(2<this.h||this.Y){var e=0;this.Y?(this.Ua[e]=this.Xd[e]>>16,this.Sa[e]=this.Xd[e]>>8&255,this.Ra[e]=this.Xd[e]&255):(this.Ua[e]=this.yh.red*a+this.Cg.red*(1-a),this.Sa[e]=this.yh.green*a+this.Cg.green*(1-a),this.Ra[e]=this.yh.blue*a+this.Cg.blue*(1-a));for(e=1;e<this.h-1;e+=1){var c=3>=this.h?0:(e-1)/(this.h-3);if(this.G&&18<=this.pf)this.Ua[e+
this.J]=t.fo[e][0],this.Sa[e+this.J]=t.fo[e][1],this.Ra[e+this.J]=t.fo[e][2];else if(this.Y)this.Ua[e]=this.Xd[e]>>16,this.Sa[e]=this.Xd[e]>>8&255,this.Ra[e]=this.Xd[e]&255;else{var g=this.Re.U.red*c+this.Re.T.red*(1-c);var n=this.be.U.red*c+this.be.T.red*(1-c);this.Ua[e+this.J]=g*a+n*(1-a);g=this.Re.U.green*c+this.Re.T.green*(1-c);n=this.be.U.green*c+this.be.T.green*(1-c);this.Sa[e+this.J]=g*a+n*(1-a);g=this.Re.U.blue*c+this.Re.T.blue*(1-c);n=this.be.U.blue*c+this.be.T.blue*(1-c);this.Ra[e+this.J]=
g*a+n*(1-a)}this.fc&&this.fc.length>=e&&(c=this.za||this.G||this.Y?this.fc[e]:this.fc[this.h-e],-1!==c&&(this.Ua[e+this.J]=c>>16,this.Sa[e+this.J]=c>>8&255,this.Ra[e+this.J]=c&255))}e=this.h-1;this.G&&18<=this.pf?(this.Ua[e+this.J]=t.fo[e][0],this.Sa[e+this.J]=t.fo[e][1],this.Ra[e+this.J]=t.fo[e][2]):this.Y?(this.Ua[e]=this.Xd[e]>>16,this.Sa[e]=this.Xd[e]>>8&255,this.Ra[e]=this.Xd[e]&255):(this.Ua[e+this.J]=this.kh.red*a+this.Mf.red*(1-a),this.Sa[e+this.J]=this.kh.green*a+this.Mf.green*(1-a),this.Ra[e+
this.J]=this.kh.blue*a+this.Mf.blue*(1-a));this.fc&&this.fc.length>=e&&(c=this.za||this.G||this.Y?this.fc[e]:this.fc[this.h-e],-1!==c&&(this.Ua[e+this.J]=c>>16,this.Sa[e+this.J]=c>>8&255,this.Ra[e+this.J]=c&255));for(e=0;e<this.J;e+=1)c=1<this.J?1-e/(this.J-1):1,g=this.lf.T.red*c+this.lf.U.red*(1-c),n=this.Qe.T.red*c+this.Qe.U.red*(1-c),this.Ua[e+1]=g*a+n*(1-a),g=this.lf.T.green*c+this.lf.U.green*(1-c),n=this.Qe.T.green*c+this.Qe.U.green*(1-c),this.Sa[e+1]=g*a+n*(1-a),g=this.lf.T.blue*c+this.lf.U.blue*
(1-c),n=this.Qe.T.blue*c+this.Qe.U.blue*(1-c),this.Ra[e+1]=g*a+n*(1-a);this.fc&&0<this.fc.length&&(c=this.fc[0],-1!==c&&(this.Ua[0]=c>>16,this.Sa[0]=c>>8&255,this.Ra[0]=c&255))}else{e=0;this.Ua[e]=this.Te.red*a+this.xe.red*(1-a);this.Sa[e]=this.Te.green*a+this.xe.green*(1-a);this.Ra[e]=this.Te.blue*a+this.xe.blue*(1-a);if(0===this.J)for(e=1;e<=this.Td;e+=1)this.Ua[e]=this.Te.red*a+this.xe.red*(1-a),this.Sa[e]=this.Te.green*a+this.xe.green*(1-a),this.Ra[e]=this.Te.blue*a+this.xe.blue*(1-a);else{var m=
this.Td-this.J+1;for(e=1;e<m;e+=1)this.Ua[e]=this.gd.T.red*a+this.Dc.T.red*(1-a),this.Sa[e]=this.gd.T.green*a+this.Dc.T.green*(1-a),this.Ra[e]=this.gd.T.blue*a+this.Dc.T.blue*(1-a);for(e=m;e<=this.Td;e+=1)c=this.Td===m?1:1-(e-m)/(this.Td-m),g=this.gd.T.red*c+this.gd.U.red*(1-c),n=this.Dc.T.red*c+this.Dc.U.red*(1-c),this.Ua[e]=g*a+n*(1-a),g=this.gd.T.green*c+this.gd.U.green*(1-c),n=this.Dc.T.green*c+this.Dc.U.green*(1-c),this.Sa[e]=g*a+n*(1-a),g=this.gd.T.blue*c+this.gd.U.blue*(1-c),n=this.Dc.T.blue*
c+this.Dc.U.blue*(1-c),this.Ra[e]=g*a+n*(1-a)}for(e=this.ub;e<=this.ee;e+=1)c=1-(e-this.ub)/(this.ee-this.ub),g=this.Ne.T.red*c+this.Ne.U.red*(1-c),n=this.zd.T.red*c+this.zd.U.red*(1-c),this.Ua[e]=g*a+n*(1-a),g=this.Ne.T.green*c+this.Ne.U.green*(1-c),n=this.zd.T.green*c+this.zd.U.green*(1-c),this.Sa[e]=g*a+n*(1-a),g=this.Ne.T.blue*c+this.Ne.U.blue*(1-c),n=this.zd.T.blue*c+this.zd.U.blue*(1-c),this.Ra[e]=g*a+n*(1-a)}};h.prototype.eC=function(a,e){var c=this.Ua,g=this.Sa,n=this.Ra,m;for(m=0;m<a.length;m+=
1){var q=e&&-1!==e[m]?e[m]:a[m];c[m]=q>>16;g[m]=q>>8&255;n[m]=q&255}this.Om=0};h.prototype.kH=function(a,e){var c=this.Ua,g=this.Sa,n=this.Ra,m=ViewConstants.Ka,q;for(q=0;q<a.length;q+=1)e&&-1!==e[q]?(c[128+m[q]]=e[q]>>16,g[128+m[q]]=e[q]>>8&255,n[128+m[q]]=e[q]&255):(c[128+m[q]]=a[q]>>16,g[128+m[q]]=a[q]>>8&255,n[128+m[q]]=a[q]&255)};h.prototype.Ed=function(a){var e=this.Ua,c=this.Sa,g=this.Ra,n=this.Fe,m=this.Ud,q=this.gg,u=this.ii,x=this.R&&this.te||this.$,y;if(2<this.h)if(this.jg)for(y=0;y<=this.h+
this.J;y+=1)n[y]=-16777216|g[y]*a<<16|c[y]*a<<8|e[y]*a,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));else for(y=0;y<=this.h+this.J;y+=1)n[y]=e[y]*a<<24|c[y]*a<<16|g[y]*a<<8|255,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));else if(this.jg){for(y=0;y<this.ub;y+=1)n[y]=-16777216|g[y]<<16|c[y]<<8|e[y],x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));for(y=this.ub;y<=this.ee;y+=1)n[y]=-16777216|g[y]*a<<16|c[y]*a<<8|
e[y]*a,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));for(y=this.ee+1;256>y;y+=1)n[y]=-16777216|g[y]*a<<16|c[y]*a<<8|e[y]*a,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1))}else{for(y=0;y<this.ub;y+=1)n[y]=e[y]<<24|c[y]<<16|g[y]<<8|255,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));for(y=this.ub;y<=this.ee;y+=1)n[y]=e[y]*a<<24|c[y]*a<<16|g[y]*a<<8|255,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));
for(y=this.ee+1;256>y;y+=1)n[y]=e[y]*a<<24|c[y]*a<<16|g[y]*a<<8|255,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1))}this.jg?(this.ki=-16777216|(m&255)<<16|(m>>8&255)<<8|m>>16,this.ej=-16777216|(q&255)<<16|(q>>8&255)<<8|q>>16):(this.ki=m>>16<<24|(m>>8&255)<<16|(m&255)<<8|255,this.ej=q>>16<<24|(q>>8&255)<<16|(q&255)<<8|255);-1!==this.sa&&(y=this.ec,n[y]=this.jg?-16777216|g[y]*a<<16|c[y]*a<<8|e[y]*a:e[y]*a<<24|c[y]*a<<16|g[y]*a<<8|255,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<
8)+g[y])).toString(16).substr(1)))};h.prototype.zK=function(){var a=this.Ua,e=this.Sa,c=this.Ra;this.ec=-1!==this.sa&&256===this.h+this.J?2:255;-1!==this.sa&&256>this.h+this.J&&(this.jg?(a[this.ec]=this.ol&255,e[this.ec]=this.ol>>8&255,c[this.ec]=this.ol>>16&255):(a[this.ec]=this.ol>>24,e[this.ec]=this.ol>>16&255,c[this.ec]=this.ol>>8&255))};h.prototype.Ip=function(a){var e=this.lg,c=this.Z,g=this.Ta,n=this.W,m=this.ic,q=this.hb,u=this.da,x=this.Ha,y=this.Aa,v=this.oa,B=this.Za;this.$c.$a.fill(0);
e.$a.fill(0);a||(c.$a.fill(B),g&&g.$a.fill(B),n.$a.fill(B),m&&(m.$a.fill(B),q.$a.fill(B)));u.$a.fill(0);v.$a.fill(0);a||(x.$a.fill(0),y.$a.fill(0))};h.prototype.bl=function(a,e){var c=t.MC,g;for(g=0;g<c;g+=1)a[g]=e[g]};h.prototype.jj=function(a,e){var c=t.qt,g;for(g=0;g<c;g+=1){var n=e[g>>9&448|g>>6&56|g>>3&7]<<3;n|=e[g>>8&448|g>>5&56|g>>2&7]<<2;n|=e[g>>7&448|g>>4&56|g>>1&7]<<1;n|=e[g>>6&448|g>>3&56|g&7];a[g]=n}};h.prototype.nh=function(a,e,c){if(c){var g=new Uint8Array(16);for(c=0;16>c;c+=1){var n=
e[c];g[n]=c}for(c=0;c<t.gn;c+=1)n=(g[c>>12]&1)<<2,n|=(g[c>>8&15]&2)<<2,n|=(g[c>>4&15]&4)>>2,n|=(g[c&15]&8)>>2,a[c]=n}else for(c=0;c<t.gn;c+=1)n=(c>>12&1)<<2,n|=(c>>8&2)<<2,n|=(c>>4&4)>>2,n|=(c&8)>>2,a[c]=e[n]};h.prototype.kf=function(a,e){var c,g,n,m;for(c=0;c<t.Il;c+=1){var q=c>>8;var u=c&255;var x=192;var y=6;for(g=m=n=0;4>g;g+=1){var v=0===y?(u&x)<<2|q&x:(u&x)>>y-2|(q&x)>>y;v=(v&8)>>1|(v&4)<<1|(v&2)>>1|(v&1)<<1;v=e[v];v=(v&8)>>1|(v&4)<<1|(v&2)>>1|(v&1)<<1;n<<=2;m<<=2;n|=v>>2&3;m|=v&3;x>>=2;y-=
2}a[c]=m<<8|n}};h.prototype.sd=function(a,e){var c,g=0,n=!0,m=new Uint8Array(16);for(c=0;n&&16>c;){var q=1<<a[c];0!==(g&q)?n=!1:(g|=q,c+=1)}if(n){for(c=0;16>c;c+=1)g=a[c],m[g]=c;e&&a.set(m)}return n};h.prototype.qu=function(a,e){var c;for(c=0;16>c;c+=1)e[c]=a[15-c];for(c=0;16>c;c+=1)a[c]=15-a[c]};h.prototype.Wv=function(){var a=this.qe,e,c,g,n,m,q=this.Jk,u=this.Lj,x=this.Mj;for(e=0;1<<e<a;)e+=1;var y=(this.Sf+1)*e;if(y<=t.MI){this.ve=this.m.I(Uint8,1<<y,"Life.ruleTreeLookup");y=this.pv=e;var v=y+
e;var B=v+e;var b=B+e;if(4===this.Sf)for(e=0;e<a;e+=1)for(g=0;g<a;g+=1)for(m=0;m<a;m+=1)for(n=0;n<a;n+=1)for(c=0;c<a;c+=1){var l=e<<y|g<<v|m<<B|n<<b|c;this.ve[l]=x[u[u[u[u[q+e]+n]+g]+c]+m]}else this.ve=null}else this.ve=null};h.prototype.jL=function(a){var e=this.$?this.P.Oz:this.P.Si,c=this.$?this.P.Kz:this.P.Jz,g=this.P.pc,n=this.$?t.MC:t.uI,m=!1,q,u=null,x=e.length;this.pc=g;if(this.Y)this.ve=null,this.Wv();else{if(this.pc){if(this.ia||this.G)x=16;var y=0;for(q=!0;y<x&&q;)e[y]!==c[y]?q=!1:y+=1;
q&&(this.pc=!1,y=a.Eb.indexOf("|"),-1!==y&&(a.Eb=a.Eb.substr(0,y)),y=a.pd.indexOf("|"),-1!==y&&(a.pd=a.pd.substr(0,y)));if(this.pc&&(this.ia||this.G))for(y=0;y<x;y+=1)a=e[y],e[y]=c[y],c[y]=a}this.de=this.zc=this.sf=this.ce=this.mi=this.sh=this.Nf=this.qh=null;if(this.G)this.ce=this.m.I(Uint16,t.gn,"Life.PCALookup1"),g?(this.sf=this.m.I(Uint16,t.gn,"Life.PCALookup2"),this.nh(this.sf,e,!1),this.nh(this.ce,c,!1),this.sd(e,!1)&&this.sd(c,!1)&&(this.zc=this.m.I(Uint16,t.gn,"Life.PCAReverseLookup1"),this.de=
this.m.I(Uint16,t.gn,"Life.PCAReverseLookup2"),this.sd(c,!1),this.nh(this.zc,c,!0),this.sd(e,!1),this.nh(this.de,e,!0))):(this.nh(this.ce,e,!1),this.sd(e,!1)&&(this.zc=this.m.I(Uint16,t.gn,"Life.PCAsReverseLookup1"),this.nh(this.zc,e,!0)));else if(this.ia){this.ce=this.m.I(Uint16,t.Il,"Life.margolusLookup1");if(15===e[0]&&0===e[15]){g=this.pc=!0;u=new Uint8Array(16);for(y=0;16>y;y+=1)u[y]=e[y];this.qu(e,c)}g?(this.sf=this.m.I(Uint16,t.Il,"Life.margolusLookup2"),this.kf(this.sf,e),this.kf(this.ce,
c),u&&this.sd(u,!0)?(this.zc=this.m.I(Uint16,t.Il,"Life.margolusReverseLookup1"),this.de=this.m.I(Uint16,t.Il,"Life.margolusReverseLookup2"),this.qu(u,c),this.kf(this.zc,c),this.kf(this.de,u)):this.sd(e,!1)&&this.sd(c,!1)&&(this.zc=this.m.I(Uint16,t.Il,"Life.margolusReverseLookup1"),this.de=this.m.I(Uint16,t.Il,"Life.margolusReverseLookup2"),this.sd(e,!0),this.kf(this.zc,e),this.sd(c,!0),this.kf(this.de,c))):(this.kf(this.ce,e),this.sd(e,!0)&&(this.zc=this.m.I(Uint16,t.Il,"Life.margolusReverseLookup1"),
this.kf(this.zc,e)))}else if(this.$)this.sh=this.m.I(Uint8,t.LC,"Life.indexLookupTri1"),g?(this.mi=this.m.I(Uint8,t.LC,"Life.indexLookupTri2"),this.bl(this.mi,e),this.bl(this.sh,c)):this.bl(this.sh,e);else{this.qh=this.m.I(Uint8,t.qt,"Life.indexLookup63");if(-1===this.Nd&&e[0]){if(!e[n-1]){for(y=0;y<n/2;y+=1)a=e[y],e[y]=e[n-y-1],e[n-y-1]=a;m=!0;this.Nf=this.m.I(Uint8,t.qt,"Life.indexLookup632");this.jj(this.Nf,e)}for(y=0;y<n/2;y+=1)a=e[y],e[y]=1-e[n-y-1],e[n-y-1]=1-a}this.pc?(this.Nf=this.m.I(Uint8,
t.qt,"Life.indexLookup632"),this.jj(this.Nf,e),this.jj(this.qh,c)):(this.jj(this.qh,e),m&&(this.pc=!0))}}};h.prototype.A=function(a){var e=0;0!==(a&32768)?e=0:0!==(a&16384)?e=1:0!==(a&8192)?e=2:0!==(a&4096)?e=3:0!==(a&2048)?e=4:0!==(a&1024)?e=5:0!==(a&512)?e=6:0!==(a&256)?e=7:0!==(a&128)?e=8:0!==(a&64)?e=9:0!==(a&32)?e=10:0!==(a&16)?e=11:0!==(a&8)?e=12:0!==(a&4)?e=13:0!==(a&2)?e=14:0!==(a&1)&&(e=15);return e};h.prototype.K=function(a){var e=0;0!==(a&1)?e=15:0!==(a&2)?e=14:0!==(a&4)?e=13:0!==(a&8)?
e=12:0!==(a&16)?e=11:0!==(a&32)?e=10:0!==(a&64)?e=9:0!==(a&128)?e=8:0!==(a&256)?e=7:0!==(a&512)?e=6:0!==(a&1024)?e=5:0!==(a&2048)?e=4:0!==(a&4096)?e=3:0!==(a&8192)?e=2:0!==(a&16384)&&(e=1);return e};h.prototype.Vv=function(a){var e=this.ic,c=this.da,g=this.width,n=this.height,m,q=this.H.o,u=this.H.g,x=this.H.f,y=this.H.l,v,B;for(v=0;v<n;v+=1){var b=e[v];var l=c[v>>4];for(B=m=0;B<g;B+=1)0!==b[B]&&(l[B>>8]|=1<<(~(B>>4)&15),m|=b[B],B<x&&(x=B),B>y&&(y=B));m&&(v<u&&(u=v),v>q&&(q=v))}a||(this.H.o=q,this.H.g=
u,this.H.f=x,this.H.l=y)};h.prototype.LG=function(){var a,e,c,g=this.qb,n=this.oa,m=this.da,q,u=this.va,x=this.qa>>4,y=this.md;var v=0;var B=v+16;m.$a.fill(0);for(e=0;e<u;e+=1){var b=0;var l=n[e];var f=m[e];var r=0<e?m[e-1]:y;var w=e<u-1?m[e+1]:y;l[0]&=32767;l[x-1]&=65534;for(c=0;c<x;c+=1)if(q=l[c]){var z=f[c];var A=r[c];var C=w[c];for(a=15;0<=a;--a){if(0!==(q&1<<a)){var D=!1;var E=0;var F=v;var G=g[F];if(G=G[b])D=!0,0!==(G&32768)&&(E|=t.Bb,E|=t.Jb),0!==(G&1)&&(E|=t.Ya,E|=t.Kb),E|=t.zb;for(F+=1;F<
B-1;){G=g[F];if(G=G[b])D=!0,0!==(G&32768)&&(E|=t.Bb),0!==(G&1)&&(E|=t.Ya);F+=1}G=g[F];if(G=G[b])D=!0,0!==(G&32768)&&(E|=t.Bb,E|=t.Lb),0!==(G&1)&&(E|=t.Ya,E|=t.kb),E|=t.lb;D&&(z|=1<<a,E&&(0!==(E&t.Bb)&&(15>a?z|=1<<a+1:0<c&&(f[c-1]|=1)),0!==(E&t.Ya)&&(0<a?z|=1<<a-1:c<x-1&&(f[c+1]|=32768)),0!==(E&t.zb)&&(A|=1<<a),0!==(E&t.lb)&&(C|=1<<a),0!==(E&t.Jb)&&(15>a?A|=1<<a+1:0<c&&(r[c-1]|=1)),0!==(E&t.Kb)&&(0<a?A|=1<<a-1:c<x-1&&(r[c+1]|=32768)),0!==(E&t.Lb)&&(15>a?C|=1<<a+1:0<c&&(w[c-1]|=1)),0!==(E&t.kb)&&(0<
a?C|=1<<a-1:c<x-1&&(w[c+1]|=32768))))}b+=1}f[c]|=z;0<e&&(r[c]|=A);e<u-1&&(w[c]|=C)}else b+=16;v+=16;B+=16}y.fill(0)};h.prototype.OG=function(){var a,e,c,g=this.qb,n=this.oa,m=this.Z,q=this.da,u,x=this.va,y=this.qa>>4,v=this.md;var B=0;var b=B+16;q.$a.fill(0);for(e=0;e<x;e+=1){var l=0;var f=n[e];var r=q[e];var w=0<e?q[e-1]:v;var z=e<x-1?q[e+1]:v;f[0]&=32767;f[y-1]&=65534;for(c=0;c<y;c+=1)if(u=f[c]){var A=r[c];var C=w[c];var D=z[c];for(a=15;0<=a;--a){if(0!==(u&1<<a)){var E=!1;var F=0;var G=B;var H=
g[G];var J=m[G];H=H[l];var O=l<<4;0<J[O]&&(H|=32768);O+=1;0<J[O]&&(H|=16384);O+=1;0<J[O]&&(H|=8192);O+=1;0<J[O]&&(H|=4096);O+=1;0<J[O]&&(H|=2048);O+=1;0<J[O]&&(H|=1024);O+=1;0<J[O]&&(H|=512);O+=1;0<J[O]&&(H|=256);O+=1;0<J[O]&&(H|=128);O+=1;0<J[O]&&(H|=64);O+=1;0<J[O]&&(H|=32);O+=1;0<J[O]&&(H|=16);O+=1;0<J[O]&&(H|=8);O+=1;0<J[O]&&(H|=4);O+=1;0<J[O]&&(H|=2);O+=1;0<J[O]&&(H|=1);H&&(E=!0,0!==(H&32768)&&(F|=t.Bb,F|=t.Jb),0!==(H&1)&&(F|=t.Ya,F|=t.Kb),F|=t.zb);for(G+=1;G<b-1;)H=g[G],J=m[G],H=H[l],O=l<<4,
0<J[O]&&(H|=32768),O+=1,0<J[O]&&(H|=16384),O+=1,0<J[O]&&(H|=8192),O+=1,0<J[O]&&(H|=4096),O+=1,0<J[O]&&(H|=2048),O+=1,0<J[O]&&(H|=1024),O+=1,0<J[O]&&(H|=512),O+=1,0<J[O]&&(H|=256),O+=1,0<J[O]&&(H|=128),O+=1,0<J[O]&&(H|=64),O+=1,0<J[O]&&(H|=32),O+=1,0<J[O]&&(H|=16),O+=1,0<J[O]&&(H|=8),O+=1,0<J[O]&&(H|=4),O+=1,0<J[O]&&(H|=2),O+=1,0<J[O]&&(H|=1),H&&(E=!0,0!==(H&32768)&&(F|=t.Bb),0!==(H&1)&&(F|=t.Ya)),G+=1;H=g[G];J=m[G];H=H[l];O=l<<4;0<J[O]&&(H|=32768);O+=1;0<J[O]&&(H|=16384);O+=1;0<J[O]&&(H|=8192);O+=
1;0<J[O]&&(H|=4096);O+=1;0<J[O]&&(H|=2048);O+=1;0<J[O]&&(H|=1024);O+=1;0<J[O]&&(H|=512);O+=1;0<J[O]&&(H|=256);O+=1;0<J[O]&&(H|=128);O+=1;0<J[O]&&(H|=64);O+=1;0<J[O]&&(H|=32);O+=1;0<J[O]&&(H|=16);O+=1;0<J[O]&&(H|=8);O+=1;0<J[O]&&(H|=4);O+=1;0<J[O]&&(H|=2);O+=1;0<J[O]&&(H|=1);H&&(E=!0,0!==(H&32768)&&(F|=t.Bb,F|=t.Lb),0!==(H&1)&&(F|=t.Ya,F|=t.kb),F|=t.lb);E&&(A|=1<<a,F&&(0!==(F&t.Bb)&&(15>a?A|=1<<a+1:0<c&&(r[c-1]|=1)),0!==(F&t.Ya)&&(0<a?A|=1<<a-1:c<y-1&&(r[c+1]|=32768)),0!==(F&t.zb)&&(C|=1<<a),0!==(F&
t.lb)&&(D|=1<<a),0!==(F&t.Jb)&&(15>a?C|=1<<a+1:0<c&&(w[c-1]|=1)),0!==(F&t.Kb)&&(0<a?C|=1<<a-1:c<y-1&&(w[c+1]|=32768)),0!==(F&t.Lb)&&(15>a?D|=1<<a+1:0<c&&(z[c-1]|=1)),0!==(F&t.kb)&&(0<a?D|=1<<a-1:c<y-1&&(z[c+1]|=32768))))}l+=1}r[c]|=A;0<e&&(w[c]|=C);e<x-1&&(z[c]|=D)}else l+=16;B+=16;b+=16}v.fill(0)};h.prototype.Mh=function(){var a,e,c=this.width>>4,g=this.height,n=this.width,m=this.ic;var q=this.Z;var u=this.H,x=this.Fa,y=this.xf,v=this.height,B=-1,b=this.width,l=-1,f=this.height,r=-1,w=this.width,
z=-1,A,C=this.fa;if(this.uh){this.uh=!1;(this.G||this.Y)&&0!==(this.v&1)&&(q=this.Ta);var D=0!==(this.v&1)?this.dc:this.qb;if(m)for(e=0;e<g;e+=1){var E=m[e];for(a=A=0;a<n;a+=1){var F=E[a];A|=F;F&&(a<w&&(w=a),a>z&&(z=a))}A&&(e<f&&(f=e),e>r&&(r=e))}C.fill(0);if(-1!==this.h)for(e=0;e<g;e+=1){c=q[e];for(a=A=0;a<n;a+=1)F=c[a],A|=F,F&&(a<b&&(b=a),a>l&&(l=a));A&&(e<v&&(v=e),e>B&&(B=e))}else{for(e=0;e<g;e+=1){q=D[e];for(a=A=0;a<c;a+=1)F=q[a],A|=F,C[a]|=F;A&&(e<v&&(v=e),e>B&&(B=e))}for(a=0;a<c;a+=1)C[a]&&
(a<b&&(b=a),a>l&&(l=a));b=(b<<4)+this.A(C[b]);l=(l<<4)+this.K(C[l])}if(0>B||v>=g||b>=n||0>l)v=B=g>>1,l=b=n>>1;m&&(r<B&&(B=r),f>v&&(v=f),w<b&&(b=w),z>l&&(l=z));B>this.height-1&&(B=this.height-1);0>v&&(v=0);0>b&&(b=0);l>this.width-1&&(l=this.width-1);u.o=B;u.g=v;u.f=b;u.l=l;x.o=B;x.g=v;x.f=b;x.l=l;y.o=B;y.g=v;y.f=b;y.l=l}};h.prototype.Gz=function(a){var e,c,g=this.width>>4,n=this.height,m=this.width,q=this.ic;var u=this.Z;var x=this.H,y=this.Fa,v=this.xf,B=this.height,b=-1,l=this.width,f=-1,r=this.height,
w=-1,z=this.width,A=-1,C,D=this.fa,E=this.Ha,F=this.Aa;if(0!==(this.v&1)){var G=this.dc;var H=this.oa;var J=this.da}else G=this.qb,H=this.da,J=this.oa;if(q&&!a)for(c=0;c<n;c+=1){var O=q[c];for(e=C=0;e<m;e+=1){var K=O[e];C|=K;K&&(e<z&&(z=e),e>A&&(A=e))}C&&(c<r&&(r=c),c>w&&(w=c))}D.fill(0);J.$a.fill(0);if(-1!==this.h)for(c=0;c<n;c+=1){g=u[c];for(e=C=0;e<m;e+=1)K=g[e],C|=K,K&&(e<l&&(l=e),e>f&&(f=e));C&&(c<B&&(B=c),c>b&&(b=c))}else{for(c=0;c<n;c+=1){u=G[c];for(e=C=0;e<g;e+=1)K=u[e],C|=K,D[e]|=K;C&&(c<
B&&(B=c),c>b&&(b=c))}for(e=0;e<g;e+=1)D[e]&&(e<l&&(l=e),e>f&&(f=e));l=(l<<4)+this.A(D[l]);f=(f<<4)+this.K(D[f])}if(0>b||B>=n||l>=m||0>f)B=b=n>>1,f=l=m>>1;q&&!a&&(w<b&&(b=w),r>B&&(B=r),z<l&&(l=z),A>f&&(f=A));b>this.height-1&&(b=this.height-1);0>B&&(B=0);0>l&&(l=0);f>this.width-1&&(f=this.width-1);x.o=b;x.g=B;x.f=l;x.l=f;y.o=b;y.g=B;y.f=l;y.l=f;v.o=b;v.g=B;v.f=l;v.l=f;0<l&&--l;0<B&&--B;f<this.width-1&&(f+=1);b<this.height-1&&(b+=1);K=b>>4;l>>=8;f>>=8;for(c=B>>4;c<=K;c+=1)for(B=J[c],e=l;e<=f;e+=1)B[e]=
-1;-1!==this.h?this.OG():this.LG();q&&(this.Vv(a),v.o=x.o,v.g=x.g,v.f=x.f,v.l=x.l);Array.yi(H,J);Array.yi(H,E);Array.yi(H,F)};h.prototype.Av=function(a,e){var c=this.ia?-1:0;var g=Math.round((this.width-this.ua)/2)+c,n=Math.round((this.height-this.ra)/2)+c,m=g+this.ua-1,q=n+this.ra-1,u=g-a>>4,x=m+a>>4,y=g-a>>4,v=m+a>>4,B=~(1<<(~(g-a)&15)),b=~(1<<(~(m+a)&15)),l=this.$g,f=0;if(!this.G||this.Y){c=0!==(this.v&1)?this.dc:this.qb;var r=c[q+a];var w=c[n-a];if(0===this.ua)for(x=this.width>>4,u=0;u<x;u+=1)f+=
l[w[u]],w[u]=0,f+=l[r[u]],r[u]=0;else if(0===this.ra)for(n=0,q=this.height,x=0;x<q;x+=1)r=c[x],r[y]&~B&&(f+=1),r[y]&=B,r[v]&~b&&(f+=1),r[v]&=b;else{for(;u<=x;u+=1)f+=l[w[u]],w[u]=0,f+=l[r[u]],r[u]=0;for(x=n-a+1;x<=q+a-1;x+=1)r=c[x],r[y]&~B&&(f+=1),r[y]&=B,r[v]&~b&&(f+=1),r[v]&=b}e&&(this.ma-=f)}if(-1!==this.h)if(c=this.Z,(this.G||this.Y)&&0!==(this.v&1)&&(c=this.Ta),g-=a,m+=a,q+=a,n-=a,r=c[q],w=c[n],0===this.ua)w.fill(0),r.fill(0);else if(0===this.ra)for(x=0;x<this.height;x+=1)c[x][g]=0,c[x][m]=0;
else for(w.fill(0,g,m+1),r.fill(0,g,m+1),x=n+1;x<=q-1;x+=1)c[x][g]=0,c[x][m]=0};h.prototype.qf=function(a,e,c){var g,n;e-=2;c-=2;var m=0;for(g=!0;g&&m<a.length;){var q=0;for(n=a[m];g&&q<n.length;){var u=n[q];var x=this.Z[c+m][e+q];x<this.ub&&0===u||x>=this.ub&&1===u||(g=!1);q+=1}m+=1}if(g)for(this.Sq+=1,m=0;m<a.length;m+=1)for(n=a[m],q=0;q<n.length;q+=1)1===n[q]&&this.Vi(e+q,c+m,0,!1);return g};h.prototype.Cv=function(){var a,e=this.H.f,c=this.H.l,g=this.H.g,n=this.H.o,m=this.Z,q=m[n],u=m[g],x=this.ub;
if(-1===this.sa){for(a=e;a<=c;a+=1)u[a]>=x&&(this.qf(this.fl,a,g)||this.qf(this.el,a,g)),q[a]>=x&&(this.qf(this.gl,a,n-2)||this.qf(this.$k,a,n-2));for(a=g;a<=n;a+=1)g=m[a],g[e]>=x&&(this.qf(this.fl,e,a)||this.qf(this.gl,e,a-1)),g[c]>=x&&(this.qf(this.el,c-2,a)||this.qf(this.$k,c-2,a-1));this.Mh()}};h.prototype.Wz=function(){var a=this.ia?-1:0,e=this.ua;var c=this.ra;var g=Math.round((this.width-e)/2-1)+a>>4,n=Math.round((this.width+e)/2)+a>>4;var m=Math.round((this.height-c)/2-1)+a>>4;a=Math.round((this.height+
c)/2)+a>>4;0===c&&(m=0,a=(this.height>>4)-1);0===e&&(g=0,n=(this.width>>4)-1);0>g&&(g=0);0>m&&(m=0);n>=this.width>>4&&(n=(this.width>>4)-1);a>=this.height>>4&&(a=(this.height>>4)-1);for(c=g;c<=n;c+=1)e=1<<(~c&15),this.da[m][c>>4]|=e,this.oa[m][c>>4]|=e,this.Ha[m][c>>4]|=e,this.Aa[m][c>>4]|=e,this.da[a][c>>4]|=e,this.oa[a][c>>4]|=e,this.Ha[a][c>>4]|=e,this.Aa[a][c>>4]|=e;for(;m<=a;m+=1)e=1<<(~g&15),this.da[m][g>>4]|=e,this.oa[m][g>>4]|=e,this.Ha[m][g>>4]|=e,this.Aa[m][g>>4]|=e,e=1<<(~n&15),this.da[m][n>>
4]|=e,this.oa[m][n>>4]|=e,this.Ha[m][n>>4]|=e,this.Aa[m][n>>4]|=e};h.prototype.ZF=function(a){var e=this.ua,c=this.ra,g=this.ia?-1:0,n=Math.round((this.width-e)/2)+g;g=Math.round((this.height-c)/2)+g;var m=n+e-1,q=g+c-1,u=this.Lm,x=this.Mm,y=this.Aa,v;0===this.ua&&(n=0,m=this.width-1,e=this.width);0===this.ra&&(g=0,q=this.height-1,c=this.height);if(0!==this.ra)for(v=0;v<e;v+=1){var B=n+v;var b=n+(v+u+e)%e;var l=a[q][B];0!==l&&(a[g-1][b]=l,y[g-1>>4][b>>8]|=1<<(~(b>>4)&15),15===(g-1&15)&&(y[(g-1>>4)+
1][b>>8]|=1<<(~(b>>4)&15)));b=n+(v-u+e)%e;l=a[g][B];0!==l&&(a[q+1][b]=l,y[q+1>>4][b>>8]|=1<<(~(b>>4)&15),0===(q+1&15)&&(y[(q+1>>4)-1][b>>8]|=1<<(~(b>>4)&15)))}if(0!==this.ua)for(v=0;v<c;v+=1)B=g+v,b=g+(v-x+c)%c,l=a[B][n],0!==l&&(a[b][m+1]=l,y[b>>4][m+1>>8]|=1<<(~(m+1>>4)&15),0===(m+1&15)&&(y[b>>4][m-15>>8]|=1<<(~(m-15>>4)&15))),b=g+(v+x+c)%c,l=a[B][m],0!==l&&(a[b][n-1]=l,y[b>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(y[b>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));0!==this.ua&&0!==this.ra&&(l=a[g+(c-1+
x+c)%c][n+(-u+e)%e],a[g-1][m+1]=l,l=a[g+(c-1-x+c)%c][n+(e-1-u+e)%e],a[g-1][n-1]=l,l=a[g+(x+c)%c][n+(u+e)%e],a[q+1][m+1]=l,l=a[g+(-x+c)%c][n+(e-1+u+e)%e],a[q+1][n-1]=l)};h.prototype.TF=function(a){var e=this.Aa,c=this.ua,g=this.ra,n=this.ia?-1:0,m=Math.round((this.width-c)/2)+n;n=Math.round((this.height-g)/2)+n;var q=m+c-1,u=n+g-1,x=this.Lm,y=this.Mm,v=this.xs,B=this.vw,b;for(b=0;b<c;b+=1){var l=m+b;var f=v?q-(b+x+c)%c:m+(b+x+c)%c;var r=a[u][l];0!==r&&(a[n-1][f]=r,e[n-1>>4][f>>8]|=1<<(~(f>>4)&15),
15===(n-1&15)&&(e[(n-1>>4)+1][f>>8]|=1<<(~(f>>4)&15)));f=v?q-(b-x+c)%c:m+(b-x+c)%c;r=a[n][l];0!==r&&(a[u+1][f]=r,e[u+1>>4][f>>8]|=1<<(~(f>>4)&15),0===(u+1&15)&&(e[(u+1>>4)-1][f>>8]|=1<<(~(f>>4)&15)))}for(b=0;b<g;b+=1)l=n+b,f=B?u-(b-y+g)%g:n+(b-y+g)%g,r=a[l][m],0!==r&&(a[f][q+1]=r,e[f>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(e[f>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),f=B?u-(b+y+g)%g:n+(b+y+g)%g,r=a[l][q],0!==r&&(a[f][m-1]=r,e[f>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(e[f>>4][m+15>>8]|=1<<(~(m+
15>>4)&15)));r=a[B?u-(g-1+y+g)%g:n+(g-1+y+g)%g][v?q-(-x+c)%c:m+(-x+c)%c];a[n-1][q+1]=r;r=a[B?u-(g-1+y+g)%g:n+(g-1+y+g)%g][v?q-(c-1-x+c)%c:m+(c-1-x+c)%c];a[n-1][m-1]=r;r=a[B?u-(y+g)%g:n+(y+g)%g][v?q-(x+c)%c:m+(x+c)%c];a[u+1][q+1]=r;r=a[B?u-(y+g)%g:n+(y+g)%g][v?q-(c-1+x+c)%c:m+(c-1+x+c)%c];a[u+1][m-1]=r};h.prototype.RF=function(a){var e=this.Ha,c=this.ua,g=this.ra,n=this.ia?-1:0,m=Math.round((this.width-c)/2)+n;n=Math.round((this.height-g)/2)+n;var q=m+c-1,u=n+g-1,x;for(x=0;x<c;x+=1){var y=m+x;var v=
q-x;var B=a[u][y];0!==B&&(a[n-1][v]=B,e[n-1>>4][v>>8]|=1<<(~(v>>4)&15),15===(n-1&15)&&(e[(n-1>>4)+1][v>>8]|=1<<(~(v>>4)&15)));B=a[n][y];0!==B&&(a[u+1][v]=B,e[u+1>>4][v>>8]|=1<<(~(v>>4)&15),0===(u+1&15)&&(e[(u+1>>4)-1][v>>8]|=1<<(~(v>>4)&15)))}for(x=0;x<=g;x+=1)y=n+x,v=u-x,B=a[y][m],0!==B&&(a[v][q+1]=B,e[v>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(e[v>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),B=a[y][q],0!==B&&(a[v][m-1]=B,e[v>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(e[v>>4][m+15>>8]|=1<<(~(m+15>>
4)&15)));B=a[u][m];a[u+1][m-1]=B;B=a[u][q];a[u+1][q+1]=B;B=a[n][m];a[n-1][m-1]=B;B=a[n][q];a[n-1][q+1]=B};h.prototype.XF=function(a){var e=this.Ha,c=this.ua,g=this.ra,n=this.ia?-1:0,m=Math.round((this.width-c)/2)+n;n=Math.round((this.height-g)/2)+n;var q=m+c-1;g=n+g-1;var u;for(u=0;u<c;u+=1){var x=n+u;var y=m+u;var v=a[x][m];0!==v&&(a[n-1][y]=v,e[n-1>>4][y>>8]|=1<<(~(y>>4)&15),15===(n-1&15)&&(e[(n-1>>4)+1][y>>8]|=1<<(~(y>>4)&15)));v=a[x][q];0!==v&&(a[g+1][y]=v,e[g+1>>4][y>>8]|=1<<(~(y>>4)&15),0===
(g+1&15)&&(e[(g+1>>4)-1][y>>8]|=1<<(~(y>>4)&15)));v=a[n][y];0!==v&&(a[x][m-1]=v,e[x>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(e[x>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));v=a[g][y];0!==v&&(a[x][q+1]=v,e[x>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(e[x>>4][q-15>>8]|=1<<(~(q-15>>4)&15)))}v=a[g][m];a[g+1][m-1]=v;v=a[g][q];a[g+1][q+1]=v;v=a[n][m];a[n-1][m-1]=v;v=a[n][q];a[n-1][q+1]=v};h.prototype.YF=function(){var a=this.Ha,e=this.ua,c=this.ra;var g=this.ia?-1:0;var n=Math.round((this.width-e)/2)+g,
m=Math.round((this.height-c)/2)+g,q=n+e-1,u=m+c-1,x=this.Lm,y=this.Mm,v=this.$&&0<n&&q<this.width-1,B;if(0!==(this.v&1)){g=this.dc;var b=this.oa}else g=this.qb,b=this.da;0===this.ua&&(n=0,q=this.width-1,e=this.width);0===this.ra&&(m=0,u=this.height-1,c=this.height);if(0!==this.ra)for(B=0;B<e;B+=1){var l=n+B;var f=n+(B+x+e)%e;0!==(g[u][l>>4]&1<<(~l&15))&&(g[m-1][f>>4]|=1<<(~f&15),b[m-1>>4][f>>8]|=1<<(~(f>>4)&15),a[m-1>>4][f>>8]|=1<<(~(f>>4)&15),15===(m-1&15)&&(b[(m-1>>4)+1][f>>8]|=1<<(~(f>>4)&15),
a[(m-1>>4)+1][f>>8]|=1<<(~(f>>4)&15)));f=n+(B-x+e)%e;0!==(g[m][l>>4]&1<<(~l&15))&&(g[u+1][f>>4]|=1<<(~f&15),b[u+1>>4][f>>8]|=1<<(~(f>>4)&15),a[u+1>>4][f>>8]|=1<<(~(f>>4)&15),0===(u+1&15)&&(b[(u+1>>4)-1][f>>8]|=1<<(~(f>>4)&15),a[(u+1>>4)-1][f>>8]|=1<<(~(f>>4)&15)))}if(0!==this.ua)for(B=0;B<c;B+=1)l=m+B,f=m+(B-y+c)%c,0!==(g[l][n>>4]&1<<(~n&15))&&(g[f][q+1>>4]|=1<<(~(q+1)&15),b[f>>4][q+1>>8]|=1<<(~(q+1>>4)&15),a[f>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(b[f>>4][q-15>>8]|=1<<(~(q-15>>4)&15),a[f>>
4][q-15>>8]|=1<<(~(q-15>>4)&15))),v&&(n+=1,q+=1,0!==(g[l][n>>4]&1<<(~n&15))&&(g[f][q+1>>4]|=1<<(~(q+1)&15),b[f>>4][q+1>>8]|=1<<(~(q+1>>4)&15),a[f>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(b[f>>4][q-15>>8]|=1<<(~(q-15>>4)&15),a[f>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),--n,--q),f=m+(B+y+c)%c,0!==(g[l][q>>4]&1<<(~q&15))&&(g[f][n-1>>4]|=1<<(~(n-1)&15),b[f>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[f>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(b[f>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[f>>4][n+15>>8]|=1<<(~(n+15>>
4)&15))),v&&(--n,--q,0!==(g[l][q>>4]&1<<(~q&15))&&(g[f][n-1>>4]|=1<<(~(n-1)&15),b[f>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[f>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(b[f>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[f>>4][n+15>>8]|=1<<(~(n+15>>4)&15))),n+=1,q+=1);0!==this.ua&&0!==this.ra&&(l=n+(-x+e)%e,g[m-1][q+1>>4]=0!==(g[m+(c-1+y+c)%c][l>>4]&1<<(~l&15))?g[m-1][q+1>>4]|1<<(~(q+1)&15):g[m-1][q+1>>4]&~(1<<(~(q+1)&15)),l=n+(e-1-x+e)%e,g[m-1][n-1>>4]=0!==(g[m+(c-1-y+c)%c][l>>4]&1<<(~l&15))?g[m-1][n-1>>4]|1<<(~(n-
1)&15):g[m-1][n-1>>4]&~(1<<(~(n-1)&15)),l=n+(x+e)%e,g[u+1][q+1>>4]=0!==(g[m+(y+c)%c][l>>4]&1<<(~l&15))?g[u+1][q+1>>4]|1<<(~(q+1)&15):g[u+1][q+1>>4]&~(1<<(~(q+1)&15)),l=n+(e-1+x+e)%e,g[u+1][n-1>>4]=0!==(g[m+(-y+c)%c][l>>4]&1<<(~l&15))?g[u+1][n-1>>4]|1<<(~(n-1)&15):g[u+1][n-1>>4]&~(1<<(~(n-1)&15)))};h.prototype.SF=function(){var a=this.Ha,e=this.ua,c=this.ra;var g=this.ia?-1:0;var n=Math.round((this.width-e)/2)+g,m=Math.round((this.height-c)/2)+g,q=n+e-1,u=m+c-1,x=this.Lm,y=this.Mm,v=this.xs,B=this.vw,
b;if(0!==(this.v&1)){g=this.dc;var l=this.oa}else g=this.qb,l=this.da;for(b=0;b<e;b+=1){var f=n+b;var r=v?q-(b+x+e)%e:n+(b+x+e)%e;0!==(g[u][f>>4]&1<<(~f&15))&&(g[m-1][r>>4]|=1<<(~r&15),l[m-1>>4][r>>8]|=1<<(~(r>>4)&15),a[m-1>>4][r>>8]|=1<<(~(r>>4)&15),15===(m-1&15)&&(l[(m-1>>4)+1][r>>8]|=1<<(~(r>>4)&15),a[(m-1>>4)+1][r>>8]|=1<<(~(r>>4)&15)));r=v?q-(b-x+e)%e:n+(b-x+e)%e;0!==(g[m][f>>4]&1<<(~f&15))&&(g[u+1][r>>4]|=1<<(~r&15),l[u+1>>4][r>>8]|=1<<(~(r>>4)&15),a[u+1>>4][r>>8]|=1<<(~(r>>4)&15),0===(u+1&
15)&&(l[(u+1>>4)-1][r>>8]|=1<<(~(r>>4)&15),a[(u+1>>4)-1][r>>8]|=1<<(~(r>>4)&15)))}for(b=0;b<c;b+=1)f=m+b,r=B?u-(b-y+c)%c:m+(b-y+c)%c,0!==(g[f][n>>4]&1<<(~n&15))&&(g[r][q+1>>4]|=1<<(~(q+1)&15),l[r>>4][q+1>>8]|=1<<(~(q+1>>4)&15),a[r>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(l[r>>4][q-15>>8]|=1<<(~(q-15>>4)&15),a[r>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),r=B?u-(b+y+c)%c:m+(b+y+c)%c,0!==(g[f][q>>4]&1<<(~q&15))&&(g[r][n-1>>4]|=1<<(~(n-1)&15),l[r>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[r>>4][n-1>>8]|=1<<(~(n-1>>
4)&15),15===(n-1&15)&&(l[r>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[r>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));f=v?q-(-x+e)%e:n+(-x+e)%e;0!==(g[B?u-(c-1+y+c)%c:m+(c-1+y+c)%c][f>>4]&1<<(~f&15))&&(g[m-1][q+1>>4]|=1<<(~(q+1)&15));f=v?q-(e-1-x+e)%e:n+(e-1-x+e)%e;0!==(g[B?u-(c-1+y+c)%c:m+(c-1+y+c)%c][f>>4]&1<<(~f&15))&&(g[m-1][n-1>>4]|=1<<(~(n-1)&15));f=v?q-(x+e)%e:n+(x+e)%e;0!==(g[B?u-(y+c)%c:m+(y+c)%c][f>>4]&1<<(~f&15))&&(g[u+1][q+1>>4]|=1<<(~(q+1)&15));f=v?q-(e-1+x+e)%e:n+(e-1+x+e)%e;0!==(g[B?u-(y+c)%c:m+(y+c)%
c][f>>4]&1<<(~f&15))&&(g[u+1][n-1>>4]|=1<<(~(n-1)&15))};h.prototype.Hv=function(){var a=this.Ha,e=this.ua,c=this.ra;var g=this.ia?-1:0;var n=Math.round((this.width-e)/2)+g,m=Math.round((this.height-c)/2)+g,q=n+e-1,u=m+c-1,x;if(0!==(this.v&1)){g=this.dc;var y=this.oa}else g=this.qb,y=this.da;for(x=0;x<e;x+=1){var v=n+x;var B=q-x;0!==(g[u][v>>4]&1<<(~v&15))&&(g[m-1][B>>4]|=1<<(~B&15),y[m-1>>4][B>>8]|=1<<(~(B>>4)&15),a[m-1>>4][B>>8]|=1<<(~(B>>4)&15),15===(m-1&15)&&(y[(m-1>>4)+1][B>>8]|=1<<(~(B>>4)&15),
a[(m-1>>4)+1][B>>8]|=1<<(~(B>>4)&15)));0!==(g[m][v>>4]&1<<(~v&15))&&(g[u+1][B>>4]|=1<<(~B&15),y[u+1>>4][B>>8]|=1<<(~(B>>4)&15),a[u+1>>4][B>>8]|=1<<(~(B>>4)&15),0===(u+1&15)&&(y[(u+1>>4)-1][B>>8]|=1<<(~(B>>4)&15),a[(u+1>>4)-1][B>>8]|=1<<(~(B>>4)&15)))}for(x=0;x<=c;x+=1)v=m+x,B=u-x,0!==(g[v][n>>4]&1<<(~n&15))&&(g[B][q+1>>4]|=1<<(~(q+1)&15),y[B>>4][q+1>>8]|=1<<(~(q+1>>4)&15),a[B>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(y[B>>4][q-15>>8]|=1<<(~(q-15>>4)&15),a[B>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),
0!==(g[v][q>>4]&1<<(~q&15))&&(g[B][n-1>>4]|=1<<(~(n-1)&15),y[B>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[B>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(y[B>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[B>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));0!==(g[u][n>>4]&1<<(~n&15))&&(g[u+1][n-1>>4]|=1<<(~(n-1)&15));0!==(g[u][q>>4]&1<<(~q&15))&&(g[u+1][q+1>>4]|=1<<(~(q+1)&15));0!==(g[m][n>>4]&1<<(~n&15))&&(g[m-1][n-1>>4]|=1<<(~(n-1)&15));0!==(g[m][q>>4]&1<<(~q&15))&&(g[m-1][q+1>>4]|=1<<(~(q+1)&15))};h.prototype.WF=function(){var a=
this.Ha,e=this.ua;var c=this.ra;var g=this.ia?-1:0,n=Math.round((this.width-e)/2)+g;g=Math.round((this.height-c)/2)+g;var m=n+e-1,q=g+c-1,u;if(0!==(this.v&1)){c=this.dc;var x=this.oa}else c=this.qb,x=this.da;for(u=0;u<e;u+=1){var y=g+u;var v=n+u;0!==(c[y][n>>4]&1<<(~n&15))&&(c[g-1][v>>4]|=1<<(~v&15),x[g-1>>4][v>>8]|=1<<(~(v>>4)&15),a[g-1>>4][v>>8]|=1<<(~(v>>4)&15),15===(g-1&15)&&(x[(g-1>>4)+1][v>>8]|=1<<(~(v>>4)&15),a[(g-1>>4)+1][v>>8]|=1<<(~(v>>4)&15)));0!==(c[y][m>>4]&1<<(~m&15))&&(c[q+1][v>>4]|=
1<<(~v&15),x[q+1>>4][v>>8]|=1<<(~(v>>4)&15),a[q+1>>4][v>>8]|=1<<(~(v>>4)&15),0===(q+1&15)&&(x[(q+1>>4)-1][v>>8]|=1<<(~(v>>4)&15),a[(q+1>>4)-1][v>>8]|=1<<(~(v>>4)&15)));0!==(c[g][v>>4]&1<<(~v&15))&&(c[y][n-1>>4]|=1<<(~(n-1)&15),x[y>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[y>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(x[y>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[y>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));0!==(c[q][v>>4]&1<<(~v&15))&&(c[y][m+1>>4]|=1<<(~(m+1)&15),x[y>>4][m+1>>8]|=1<<(~(m+1>>4)&15),a[y>>4][m+1>>8]|=1<<
(~(m+1>>4)&15),0===(m+1&15)&&(x[y>>4][m-15>>8]|=1<<(~(m-15>>4)&15),a[y>>4][m-15>>8]|=1<<(~(m-15>>4)&15)))}0!==(c[q][n>>4]&1<<(~n&15))&&(c[q+1][n-1>>4]|=1<<(~(n-1)&15));0!==(c[q][m>>4]&1<<(~m&15))&&(c[q+1][m+1>>4]|=1<<(~(m+1)&15));0!==(c[g][n>>4]&1<<(~n&15))&&(c[g-1][n-1>>4]|=1<<(~(n-1)&15));0!==(c[g][m>>4]&1<<(~m&15))&&(c[g-1][m+1>>4]|=1<<(~(m+1)&15))};h.prototype.Bv=function(a){var e,c=1;0!==this.sa&&(c=2);this.$&&(c+=1);for(e=1;e<=c+1;e+=1)this.Av(e,a)};h.prototype.Dv=function(){var a=this.Z;if(this.G||
this.Y)0!==(this.v&1)&&(a=this.Ta),this.gx(a,0);this.Wz();switch(this.sa){case 1:this.G||this.Y?this.ZF(a):this.YF();break;case 2:this.G||this.Y?this.TF(a):this.SF();break;case 3:this.G||this.Y?this.RF(a):this.Hv();break;case 4:this.G||this.Y?this.XF(a):this.WF()}this.Wz()};h.prototype.af=function(a,e,c,g){this.bb?(this.aa=1,this.v+=1):this.UF(a,e,c,g)};h.prototype.UF=function(a,e,c,g){var n=!1,m=this.H,q=this.Vd;if(!c||g)a=!0;this.v===this.rn-1&&(n=!0,e||(a=!0));-1===this.sa||this.za||this.Dv();
this.tb&&this.XH();this.aa&&(this.Y?null===this.Jd?this.cB():this.qz():this.G?this.ez():this.za?this.Yb.aJ(this.v):a&&2>this.h?this.ia?this.fy():this.$?this.zv():this.yv():this.ia?this.iy():this.$?this.Cy():this.ry());this.v+=1;if(this.ia||this.G)this.Tc?--this.Hf:this.Hf+=1,this.Hf>this.Ji&&(this.Ji=this.Hf);-1===this.h||this.za||this.G||this.Y||this.Sx();this.tb&&this.RH();this.Gc&&this.xv();-1===this.sa||this.za||this.Bv(a);this.width===this.ga&&(c=this.za?2*this.Yb.ed:16,m.f<=c||m.l>=this.ga-
c||m.g<=c||m.o>=this.ga-c)&&(this.za?this.Iv():this.Gv());n&&(this.rn+=t.Fr,e||this.yr());m.f<q.f&&(q.f=m.f);m.l>q.l&&(q.l=m.l);m.g<q.g&&(q.g=m.g);m.o>q.o&&(q.o=m.o);this.v<t.pD&&(a?(this.rv(this.ma,this.Ib,this.Zb),this.ma>this.jd&&(this.jd=this.ma),this.Ib>this.jd&&(this.jd=this.Ib),this.Zb>this.jd&&(this.jd=this.Zb)):this.rv(0,0,0))};h.prototype.rv=function(a,e,c){var g=this.v>>t.Ij,n=this.v&(1<<t.Ij)-1;this.Ec&&0<this.Ec.length&&(this.v>=this.xh&&(Array.xp(this.Ec,"Life.popGraphData"),Array.xp(this.lh,
"Life.birthGraphData"),Array.xp(this.ph,"Life.deathGraphData"),this.xh+=1<<t.Ij),this.Ec[g][n]=a,this.lh[g][n]=e,this.ph[g][n]=c)};h.prototype.ql=function(a,e,c,g,n,m,q,u){var x,y=1,v=(1<<t.Ij)-1,B=t.pD;this.v>c&&(y=c/this.v);if(u){a.strokeStyle=e;a.beginPath();var b=g-q[0]/this.jd*g|0;a.moveTo(0+m+.5,b+n+m+.5)}else a.fillStyle=e;q.length<<t.Ij<B&&(B=q.length<<t.Ij);var l=0;for(e=x=1;e<c;e+=1){if(x<B){var f=x>>t.Ij;var r=x&v;r=f=q[f][r];l+=y;for(x+=1;0===(l|0);){var w=q[x];x+=1;w>r&&(r=w);w<f&&(f=
w);l+=y}--l}else r=f=0;e<=this.v&&(w=0+m+1+e,b=g-f/this.jd*g|0,u?(a.lineTo(w+.5,b+n+m+.5),f!==r&&(b=g-r/this.jd*g|0,a.lineTo(w+.5,b+n+m+.5))):0<f&&0<r&&(f!==r&&(b=g-r/this.jd*g|0),a.fillRect(w+.5,b+n+m+.5,1,1)))}u&&a.stroke()};h.prototype.et=function(a,e,c,g,n){var m=this.context,q=n.i.ff;n=48*n.i.Bh;var u=40*q,x=this.C-u,y=this.B-n-u,v="rgb("+this.Fi[0]+","+this.Fi[1]+","+this.Fi[2]+")",B="rgb("+this.Ei[0]+","+this.Ei[1]+","+this.Ei[2]+")",b="rgb("+this.Di[0]+","+this.Di[1]+","+this.Di[2]+")",l=
"rgb("+this.Gi[0]+","+this.Gi[1]+","+this.Gi[2]+")",f="rgb("+this.Hi[0]+","+this.Hi[1]+","+this.Hi[2]+")";if(this.Ec&&0<this.Ec.length){if(c||g)n=0,y+=2*n;g&&(u=0,x=this.C);var r=x-u;m.save();m.fillStyle=v;m.globalAlpha=e;m.fillRect(0,n,x+u,y);m.globalAlpha=1;c&&(y-=n);if(!g){m.font=(16*q|0)+"px Arial";m.textAlign="center";m.fillStyle="black";for(e=2;0<=e;e-=2)m.save(),m.translate(this.C/2,y+u/2-(6*q|0)),m.fillText("Generation",e,e),m.restore(),m.save(),m.translate(u/2+(6*q|0),this.B/2),m.rotate(-90*
Math.PI/180),320>this.B?m.fillText("Pop",e,e):m.fillText("Population",e,e),m.restore(),m.fillStyle=B;m.fillStyle="black";for(e=2;0<=e;e-=2)m.save(),m.translate(u-u/2+(6*q|0),n+u),m.rotate(-90*Math.PI/180),m.fillText(String(this.jd),e,e),m.restore(),m.save(),m.translate(u-u/2+(6*q|0),y),m.rotate(-90*Math.PI/180),m.fillText("0",e,e),m.restore(),m.save(),m.translate(u,y+u/2-(6*q|0)),m.fillText("0",e,e),m.restore(),m.save(),m.translate(x,y+u/2-(6*q|0)),m.fillText(String(this.v>r?this.v:r|0),e,e),m.restore(),
m.fillStyle=B}-1===this.sa&&(this.ql(m,f,r,y-n-u,n,u,this.ph,a),this.ql(m,l,r,y-n-u,n,u,this.lh,a));this.ql(m,b,r,y-n-u,n,u,this.Ec,a);m.strokeStyle=B;m.lineWidth=1;m.beginPath();m.moveTo(u+.5,n+u+.5);m.lineTo(u+.5,y+.5);m.lineTo(x+.5,y+.5);m.lineTo(x+.5,y+2.5);m.moveTo(u+.5,y+.5);m.lineTo(u+.5,y+2.5);m.moveTo(u+.5,y+.5);m.lineTo(u+.5-2,y+.5);m.moveTo(u+.5,n+u+.5);m.lineTo(u+.5-2,n+u+.5);m.stroke();m.restore()}};h.prototype.GE=function(){var a=(1<<t.Ij)-1,e;if(this.Ec&&0<this.Ec.length){for(e=0;e<
this.xh;e+=1){var c=e>>t.Ij;var g=e&a;this.Ec[c][g]=0;this.lh[c][g]=0;this.ph[c][g]=0}this.Ec[0][0]=this.ma}this.jd=this.ma};h.prototype.Hu=function(){var a=this.H,e=this.Vd;e.f=a.f;e.l=a.l;e.o=a.o;e.g=a.g};h.prototype.XH=function(){var a,e,c,g,n=this.tb,m=this.Le,q=this.we,u=this.Tg,x=this.va,y=this.qa>>4,v;var B=0;var b=0!==(this.v&1)?this.dc:this.qb;for(a=0;a<x;a+=1){var l=0;var f=u[a];for(e=0;e<y;e+=1)if(v=f[e])for(c=15;0<=c;--c){if(0!==(v&1<<c))for(g=B;g<B+16;g+=1)m[g][l]=(b[g][l]|q[g][l])&n[g][l];
l+=1}else l+=16;B+=16}};h.prototype.RH=function(){var a,e,c,g,n,m=this.Le,q=this.Tg,u=this.va,x=this.qa>>4,y;var v=0!==(this.v&1)?this.dc:this.qb;for(a=n=0;a<u;a+=1){var B=0;var b=q[a];for(e=0;e<x;e+=1)if(y=b[e])for(c=15;0<=c;--c){if(0!==(y&1<<c))for(g=n;g<n+16;g+=1)v[g][B]&=~m[g][B];B+=1}else B+=16;n+=16}};h.prototype.ml=function(a,e,c){var g,n,m=this.gj,q=0,u=this.Oe[q],x=this.Pe[q],y=0,v=t.Du,B=v-1,b=0,l=v,f=this.vr,r=this.xb,w=this.Ab;u[y]=a;x[y]=e;y+=1;for(c[e][a>>4]&=~(1<<(~a&15));0<y;)for(--y,
y<b&&(--q,b-=v,l-=v,u=this.Oe[q],x=this.Pe[q]),a=u[y&B],e=x[y&B],n=e-f;n<=e+f;){for(g=a-f;g<=a+f;)g===(g&r)&&n===(n&w)&&0!==(c[n][g>>4]&1<<(~g&15))&&(c[n][g>>4]&=~(1<<(~g&15)),y===l&&(q+=1,b+=v,l+=v,q>m&&(this.Oe[q]=this.m.I(Int32,v,"Life.boundaryX"+q),this.Pe[q]=this.m.I(Int32,v,"Life.boundaryY"+q),this.gj=m+=1),u=this.Oe[q],x=this.Pe[q]),u[y&B]=g,x[y&B]=n,y+=1),g+=1;n+=1}};h.prototype.iv=function(a,e,c){for(var g=c[e][a],n=15;0<=n;)0!==(g&1<<n)&&this.ml((a<<4)+(~n&15),e,c),--n};h.prototype.$F=function(a,
e){this.ml(0,a,e)};h.prototype.aG=function(a,e,c){this.ml((a<<4)+15,e,c)};h.prototype.Gv=function(){var a;var e=0!==(this.v&1)?this.dc:this.qb;var c=e.length;var g=e[0].length;var n=e[0];var m=e[c-1];for(a=0;a<g;)n[a]&&this.iv(a,0,e),m[a]&&this.iv(a,c-1,e),a+=1;for(a=0;a<c;)0!==(e[a][0]&32768)&&this.$F(a,e),0!==(e[a][g-1]&1)&&this.aG(g-1,a,e),a+=1};h.prototype.ak=function(a,e){var c,g=this.Z,n,m=this.gj,q=0,u=this.Oe[q],x=this.Pe[q],y=0,v=t.Du,B=v-1,b=0,l=v,f=this.xb,r=this.Ab,w=2<this.h?0:t.ub,z=
2<this.h?0:t.Td,A=this.vr;u[y]=a;x[y]=e;y+=1;for(g[e][a]=0;0<y;)for(--y,y<b&&(--q,b-=v,l-=v,u=this.Oe[q],x=this.Pe[q]),a=u[y&B],e=x[y&B],c=e-A;c<=e+A;){var C=a-A;for(n=g[c];C<=a+A;)C===(C&f)&&c===(c&r)&&n[C]>=w&&(n[C]=z,y===l&&(q+=1,b+=v,l+=v,q>m&&(this.Oe[q]=this.m.I(Int32,v,"Life.boundaryX"+q),this.Pe[q]=this.m.I(Int32,v,"Life.boundaryY"+q),this.gj=m+=1),u=this.Oe[q],x=this.Pe[q]),u[y&B]=C,x[y&B]=c,y+=1),C+=1;c+=1}};h.prototype.Iv=function(){var a=this.Z,e=a.length,c=a[0].length,g=this.H,n=g.f,
m=g.l,q=g.g,u=g.o,x=2*this.Yb.ed+1,y=2<this.h?0:t.ub,v,B;if(e-u<=x){for(B=e-x;B<=u;B+=1){var b=a[B];for(v=n;v<=m;v+=1)b[v]>=y&&this.ak(v,B)}g.o=e-x}if(q<=x){for(B=q;B<=x;B+=1)for(b=a[B],v=n;v<=m;v+=1)b[v]>=y&&this.ak(v,B);g.g=x}if(n<=x){for(B=q;B<=u;B+=1)for(b=a[B],v=n;v<=x;v+=1)b[v]>=y&&this.ak(v,B);g.f=x}if(c-m<=x){for(B=q;B<=u;B+=1)for(b=a[B],v=c-x;v<=m;v+=1)b[v]>=y&&this.ak(v,B);g.l=c-x}};h.prototype.zv=function(){var a=this.sh,e,c,g,n,m,q=this.fa,u,x=this.height,y=this.width,v=y>>4,B=this.H,
b=x,l=-1,f=y,r=-1,w=this.va,z=this.qa>>4,A=this.md;var C=0;var D=w,E=this.$g,F=0,G=0,H=0;if(0!==(this.v&1)){var J=this.dc;var O=this.qb;var K=this.oa;var M=this.da;this.pc&&(a=this.mi)}else J=this.qb,O=this.dc,K=this.da,M=this.oa;q.fill(0);0>C&&(C=0);D>w&&(D=w);var I=C<<4;var X=I+16;M.$a.fill(0);for(c=C;c<D;c+=1){var R=0;var U=K[c];var Y=M[c];var da=0<c?M[c-1]:A;var V=c<w-1?M[c+1]:A;for(g=0;g<z;g+=1)if(n=U[g]){var ka=Y[g];var ma=da[g];var ea=V[g];for(e=15;0<=e;--e){if(0!==(n&1<<e)){var aa=u=0;var ca=
I;var ba=0===ca?this.We:J[ca-1];var na=J[ca];C=J[ca+1];var ja=m=na[R];ba=ba[R-1]<<18|ba[R]<<2|ba[R+1]>>14;var T=na[R-1]<<18|m<<2|na[R+1]>>14;var S=C[R-1]<<18|C[R]<<2|C[R+1]>>14;var W=a[ba>>7&7936|S>>11&224|T>>15&31]<<15;W|=a[S>>6&7936|ba>>10&224|T>>14&31]<<14;W|=a[ba>>5&7936|S>>9&224|T>>13&31]<<13;W|=a[S>>4&7936|ba>>8&224|T>>12&31]<<12;W|=a[ba>>3&7936|S>>7&224|T>>11&31]<<11;W|=a[S>>2&7936|ba>>6&224|T>>10&31]<<10;W|=a[ba>>1&7936|S>>5&224|T>>9&31]<<9;W|=a[S>>0&7936|ba>>4&224|T>>8&31]<<8;W|=a[ba<<1&
7936|S>>3&224|T>>7&31]<<7;W|=a[S<<2&7936|ba>>2&224|T>>6&31]<<6;W|=a[ba<<3&7936|S>>1&224|T>>5&31]<<5;W|=a[S<<4&7936|ba>>0&224|T>>4&31]<<4;W|=a[ba<<5&7936|S<<1&224|T>>3&31]<<3;W|=a[S<<6&7936|ba<<2&224|T>>2&31]<<2;W|=a[ba<<7&7936|S<<3&224|T>>1&31]<<1;W|=a[S<<8&7936|ba<<4&224|T>>0&31]<<0;O[ca][R]=W;F+=E[W];G+=E[W&~m];H+=E[m&~W];W&&(u|=W,ca<b&&(b=ca),ca>l&&(l=ca),0!==(W&49152)&&(aa|=t.Jb),0!==(W&3)&&(aa|=t.Kb),aa|=t.zb);for(ca+=1;ca<X-1;){m=C[R];ja|=m;C=J[ca+1];ba=T;T=S;S=C[R-1]<<18|C[R]<<2|C[R+1]>>14;
0!==(ca&1)&&(na=ba,ba=S,S=na);W=a[ba>>7&7936|S>>11&224|T>>15&31]<<15;W|=a[S>>6&7936|ba>>10&224|T>>14&31]<<14;W|=a[ba>>5&7936|S>>9&224|T>>13&31]<<13;W|=a[S>>4&7936|ba>>8&224|T>>12&31]<<12;W|=a[ba>>3&7936|S>>7&224|T>>11&31]<<11;W|=a[S>>2&7936|ba>>6&224|T>>10&31]<<10;W|=a[ba>>1&7936|S>>5&224|T>>9&31]<<9;W|=a[S>>0&7936|ba>>4&224|T>>8&31]<<8;W|=a[ba<<1&7936|S>>3&224|T>>7&31]<<7;W|=a[S<<2&7936|ba>>2&224|T>>6&31]<<6;W|=a[ba<<3&7936|S>>1&224|T>>5&31]<<5;W|=a[S<<4&7936|ba>>0&224|T>>4&31]<<4;W|=a[ba<<5&7936|
S<<1&224|T>>3&31]<<3;W|=a[S<<6&7936|ba<<2&224|T>>2&31]<<2;W|=a[ba<<7&7936|S<<3&224|T>>1&31]<<1;W|=a[S<<8&7936|ba<<4&224|T>>0&31]<<0;F+=E[W];G+=E[W&~m];H+=E[m&~W];0!==(ca&1)&&(S=na=ba);if(O[ca][R]=W)u|=W,ca<b&&(b=ca),ca>l&&(l=ca);ca+=1}m=C[R];ja|=m;C=ca===this.height-1?this.We:J[ca+1];ba=T;T=S;S=C[R-1]<<18|C[R]<<2|C[R+1]>>14;0!==(ca&1)&&(na=ba,ba=S,S=na);W=a[ba>>7&7936|S>>11&224|T>>15&31]<<15;W|=a[S>>6&7936|ba>>10&224|T>>14&31]<<14;W|=a[ba>>5&7936|S>>9&224|T>>13&31]<<13;W|=a[S>>4&7936|ba>>8&224|T>>
12&31]<<12;W|=a[ba>>3&7936|S>>7&224|T>>11&31]<<11;W|=a[S>>2&7936|ba>>6&224|T>>10&31]<<10;W|=a[ba>>1&7936|S>>5&224|T>>9&31]<<9;W|=a[S>>0&7936|ba>>4&224|T>>8&31]<<8;W|=a[ba<<1&7936|S>>3&224|T>>7&31]<<7;W|=a[S<<2&7936|ba>>2&224|T>>6&31]<<6;W|=a[ba<<3&7936|S>>1&224|T>>5&31]<<5;W|=a[S<<4&7936|ba>>0&224|T>>4&31]<<4;W|=a[ba<<5&7936|S<<1&224|T>>3&31]<<3;W|=a[S<<6&7936|ba<<2&224|T>>2&31]<<2;W|=a[ba<<7&7936|S<<3&224|T>>1&31]<<1;W|=a[S<<8&7936|ba<<4&224|T>>0&31]<<0;F+=E[W];G+=E[W&~m];H+=E[m&~W];if(O[ca][R]=
W)u|=W,ca<b&&(b=ca),ca>l&&(l=ca),0!==(W&49152)&&(aa|=t.Lb),0!==(W&3)&&(aa|=t.kb),aa|=t.lb;u&&(0!==(u&49152)&&(aa|=t.Bb),0!==(u&3)&&(aa|=t.Ya));q[R]|=u;if(u||ja)ka|=1<<e,aa&&(0!==(aa&t.Bb)&&(15>e?ka|=1<<e+1:0<g&&0<R&&(Y[g-1]|=1)),0!==(aa&t.Ya)&&(0<e?ka|=1<<e-1:g<z-1&&R<v-1&&(Y[g+1]|=32768)),0!==(aa&t.zb)&&(ma|=1<<e),0!==(aa&t.lb)&&(ea|=1<<e),0!==(aa&t.Jb)&&(15>e?ma|=1<<e+1:0<g&&0<R&&(da[g-1]|=1)),0!==(aa&t.Kb)&&(0<e?ma|=1<<e-1:g<z-1&&R<v-1&&(da[g+1]|=32768)),0!==(aa&t.Lb)&&(15>e?ea|=1<<e+1:0<g&&0<
R&&(V[g-1]|=1)),0!==(aa&t.kb)&&(0<e?ea|=1<<e-1:g<z-1&&R<v-1&&(V[g+1]|=32768)))}R+=1}Y[g]|=ka;0<c&&(da[g]|=ma);c<w-1&&(V[g]|=ea)}else R+=16;I+=16;X+=16}for(g=0;g<v;g+=1)q[g]&&(g<f&&(f=g),g>r&&(r=g));f=(f<<4)+this.A(q[f]);r=(r<<4)+this.K(q[r]);0>l&&(l=x-1);b>=x&&(b=0);f>=y&&(f=0);0>r&&(r=y-1);l>x-1&&(l=x-1);0>b&&(b=0);0>f&&(f=0);r>y-1&&(r=y-1);B.o=l;B.g=b;B.f=f;B.l=r;A.fill(0);this.ma=F;this.Ib=G;this.Zb=H};h.prototype.fy=function(){var a=this.ce,e,c,g,n,m=this.fa,q,u=this.height,x=this.width,y=x>>
4,v=this.H,B=u,b=-1,l=x,f=-1,r=this.va,w=this.qa>>4,z=this.md,A=this.$g,C=0,D=0,E=0,F=this.v&1;this.Uc&&(this.Tc=!this.Tc,this.Uc=!1);if(0!==F){var G=this.dc;var H=this.qb;var J=this.oa;var O=this.da;this.Tc&&(a=this.zc)}else G=this.qb,H=this.dc,J=this.da,O=this.oa,this.pc&&(a=this.sf),this.Tc&&(a=this.pc?this.de:this.zc);this.Tc&&(F=1-F);m.fill(0);var K=1-F;var M=K+16;O.$a.fill(0);for(c=0;c<J.length;c+=1){var I=0;var X=J[c];var R=O[c];var U=0<c?O[c-1]:z;var Y=c<r-1?O[c+1]:z;for(g=0;g<w;g+=1)if(n=
X[g]){var da=R[g];var V=U[g];var ka=Y[g];for(e=15;0<=e;--e){var ma=0===e&&g===w-1?!0:!1;if(0!==(n&1<<e)){var ea=q=0;if(0!==F){var aa=K;var ca=G[aa][I];var ba=G[aa+1][I];var na=ca|ba;var ja=a[ca&65280|ba>>8];var T=ja&65280;var S=(ja&255)<<8;ja=a[(ca&255)<<8|ba&255];T|=ja>>8;S|=ja&255;H[aa][I]=T;H[aa+1][I]=S;C+=A[T];D+=A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];if(ja=T|S)q|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),S&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1)),0!==(ja&49152)&&(ea|=t.Jb),0!==(ja&3)&&(ea|=
t.Kb),ea|=t.zb;for(aa+=2;aa<M-2;){ca=G[aa][I];ba=G[aa+1][I];na|=ca|ba;ja=a[ca&65280|ba>>8];T=ja&65280;S=(ja&255)<<8;ja=a[(ca&255)<<8|ba&255];T|=ja>>8;S|=ja&255;H[aa][I]=T;H[aa+1][I]=S;C+=A[T];D+=A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];if(ja=T|S)q|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),S&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1));aa+=2}ca=G[aa][I];ba=G[aa+1][I];na|=ca|ba;ja=a[ca&65280|ba>>8];T=ja&65280;S=(ja&255)<<8;ja=a[(ca&255)<<8|ba&255];T|=ja>>8;S|=ja&255;H[aa][I]=T;H[aa+1][I]=S;C+=A[T];D+=
A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];if(ja=T|S)q|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),S&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1)),ja&&(0!==(ja&49152)&&(ea|=t.Lb),0!==(ja&3)&&(ea|=t.kb),ea|=t.lb);q&&(0!==(q&49152)&&(ea|=t.Bb),0!==(q&3)&&(ea|=t.Ya),m[I]|=q);if(q||na)ea|=t.kb,ea|=t.Ya}else{aa=K;ma?(ca=G[aa][I]<<1&65535,ba=G[aa+1][I]<<1&65535):(ca=(G[aa][I]<<1|G[aa][I+1]>>15)&65535,ba=(G[aa+1][I]<<1|G[aa+1][I+1]>>15)&65535);na=ca|ba;ja=a[ca&65280|ba>>8];T=ja&65280;S=(ja&255)<<8;ja=a[(ca&255)<<
8|ba&255];T|=ja>>8;S|=ja&255;ma?(H[aa][I]=H[aa][I]&32768|T>>1,H[aa+1][I]=H[aa+1][I]&32768|S>>1):(H[aa][I]=H[aa][I]&32768|T>>1,H[aa][I+1]=H[aa][I+1]&32767|(T&1)<<15,H[aa+1][I]=H[aa+1][I]&32768|S>>1,H[aa+1][I+1]=H[aa+1][I+1]&32767|(S&1)<<15);C+=A[T];D+=A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];if(ja=T|S)q|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),T&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1));for(aa+=2;aa<M-2;){ma?(ca=G[aa][I]<<1&65535,ba=G[aa+1][I]<<1&65535):(ca=(G[aa][I]<<1|G[aa][I+1]>>15)&65535,ba=(G[aa+
1][I]<<1|G[aa+1][I+1]>>15)&65535);na|=ca|ba;ja=a[ca&65280|ba>>8];T=ja&65280;S=(ja&255)<<8;ja=a[(ca&255)<<8|ba&255];T|=ja>>8;S|=ja&255;ma?(H[aa][I]=H[aa][I]&32768|T>>1,H[aa+1][I]=H[aa+1][I]&32768|S>>1):(H[aa][I]=H[aa][I]&32768|T>>1,H[aa][I+1]=H[aa][I+1]&32767|(T&1)<<15,H[aa+1][I]=H[aa+1][I]&32768|S>>1,H[aa+1][I+1]=H[aa+1][I+1]&32767|(S&1)<<15);C+=A[T];D+=A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];if(ja=T|S)q|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),S&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1));aa+=2}ma?
(ca=G[aa][I]<<1&65535,ba=G[aa+1][I]<<1&65535):(ca=(G[aa][I]<<1|G[aa][I+1]>>15)&65535,ba=(G[aa+1][I]<<1|G[aa+1][I+1]>>15)&65535);na|=ca|ba;ja=a[ca&65280|ba>>8];T=ja&65280;S=(ja&255)<<8;ja=a[(ca&255)<<8|ba&255];T|=ja>>8;S|=ja&255;ma?(H[aa][I]=H[aa][I]&32768|T>>1,H[aa+1][I]=H[aa+1][I]&32768|S>>1):(H[aa][I]=H[aa][I]&32768|T>>1,H[aa][I+1]=H[aa][I+1]&32767|(T&1)<<15,H[aa+1][I]=H[aa+1][I]&32768|S>>1,H[aa+1][I+1]=H[aa+1][I+1]&32767|(S&1)<<15);C+=A[T];D+=A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];
if(ja=T|S)q|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),S&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1)),0!==(ja&3)&&(ea|=t.kb),ea|=t.lb;ca|ba&&(0!==((ca|ba)&3)&&(ea|=t.kb),ea|=t.lb);q&&(0!==(q&3)&&(ea|=t.Ya),m[I]|=q>>1,m[I+1]|=(q&1)<<15);0!==(na&3)&&(ea|=t.Ya)}if(q||na)da|=1<<e,ea&&(0!==(ea&t.Bb)&&(15>e?da|=1<<e+1:0<g&&0<I&&(R[g-1]|=1)),0!==(ea&t.Ya)&&(0<e?da|=1<<e-1:g<w-1&&I<y-1&&(R[g+1]|=32768)),0!==(ea&t.zb)&&(V|=1<<e),0!==(ea&t.lb)&&(ka|=1<<e),0!==(ea&t.Jb)&&(15>e?V|=1<<e+1:0<g&&0<I&&(U[g-1]|=1)),0!==(ea&t.Kb)&&
(0<e?V|=1<<e-1:g<w-1&&I<y-1&&(U[g+1]|=32768)),0!==(ea&t.Lb)&&(15>e?ka|=1<<e+1:0<g&&0<I&&(Y[g-1]|=1)),0!==(ea&t.kb)&&(0<e?ka|=1<<e-1:g<w-1&&I<y-1&&(Y[g+1]|=32768)))}I+=1}R[g]|=da;0<c&&(U[g]|=V);c<r-1&&(Y[g]|=ka)}else I+=16;K+=16;M+=16;M>=u&&(M=u-1)}for(g=0;g<y;g+=1)m[g]&&(g<l&&(l=g),g>f&&(f=g));l=(l<<4)+this.A(m[l]);f=(f<<4)+this.K(m[f]);0>b&&(b=u-1);B>=u&&(B=0);l>=x&&(l=0);0>f&&(f=x-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);f>x-1&&(f=x-1);v.o=b;v.g=B;v.f=l;v.l=f;z.fill(0);this.ma=C;this.Ib=D;this.Zb=
E};h.prototype.iy=function(){var a=this.ce,e,c,g,n,m=this.fa,q,u=this.height,x=this.width,y=x>>4,v=this.H,B=u,b=-1,l=x,f=-1,r=this.va,w=this.qa>>4,z=this.md,A=this.v&1;this.Uc&&(this.Tc=!this.Tc,this.Uc=!1);if(0!==A){var C=this.dc;var D=this.qb;var E=this.oa;var F=this.da;this.Tc&&(a=this.zc)}else C=this.qb,D=this.dc,E=this.da,F=this.oa,this.pc&&(a=this.sf),this.Tc&&(a=this.pc?this.de:this.zc);this.Tc&&(A=1-A);m.fill(0);var G=1-A;var H=G+16;F.$a.fill(0);for(c=0;c<E.length;c+=1){var J=0;var O=E[c];
var K=F[c];var M=0<c?F[c-1]:z;var I=c<r-1?F[c+1]:z;for(g=0;g<w;g+=1)if(n=O[g]){var X=K[g];var R=M[g];var U=I[g];for(e=15;0<=e;--e){var Y=0===e&&g===w-1?!0:!1;if(0!==(n&1<<e)){var da=q=0;if(0!==A){var V=G;var ka=0;var ma=C[V][J];var ea=C[V+1][J];ka|=ma|ea;var aa=a[ma&65280|ea>>8];var ca=aa&65280;var ba=(aa&255)<<8;aa=a[(ma&255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;D[V][J]=ca;D[V+1][J]=ba;if(aa=ca|ba)q|=aa,V<B&&(B=V),V+1>b&&(b=V+1),aa&&(0!==(aa&49152)&&(da|=t.Jb),0!==(aa&3)&&(da|=t.Kb),da|=t.zb);for(V+=
2;V<H-2;){ma=C[V][J];ea=C[V+1][J];ka|=ma|ea;aa=a[ma&65280|ea>>8];ca=aa&65280;ba=(aa&255)<<8;aa=a[(ma&255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;D[V][J]=ca;D[V+1][J]=ba;if(aa=ca|ba)q|=aa,V<B&&(B=V),V+1>b&&(b=V+1);V+=2}ma=C[V][J];ea=C[V+1][J];ka|=ma|ea;aa=a[ma&65280|ea>>8];ca=aa&65280;ba=(aa&255)<<8;aa=a[(ma&255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;D[V][J]=ca;D[V+1][J]=ba;if(aa=ca|ba)q|=aa,V<B&&(B=V),V+1>b&&(b=V+1),aa&&(0!==(aa&49152)&&(da|=t.Lb),0!==(aa&3)&&(da|=t.kb),da|=t.lb);q&&(0!==(q&49152)&&(da|=t.Bb),
0!==(q&3)&&(da|=t.Ya),m[J]|=q);if(q||ka)da|=t.kb,da|=t.Ya}else{V=G;ka=0;Y?(ma=C[V][J]<<1&65535,ea=C[V+1][J]<<1&65535):(ma=(C[V][J]<<1|C[V][J+1]>>15)&65535,ea=(C[V+1][J]<<1|C[V+1][J+1]>>15)&65535);ka|=ma|ea;aa=a[ma&65280|ea>>8];ca=aa&65280;ba=(aa&255)<<8;aa=a[(ma&255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;Y?(D[V][J]=D[V][J]&32768|ca>>1,D[V+1][J]=D[V+1][J]&32768|ba>>1):(D[V][J]=D[V][J]&32768|ca>>1,D[V][J+1]=D[V][J+1]&32767|(ca&1)<<15,D[V+1][J]=D[V+1][J]&32768|ba>>1,D[V+1][J+1]=D[V+1][J+1]&32767|(ba&1)<<15);
if(aa=ca|ba)q|=aa,V<B&&(B=V),V+1>b&&(b=V+1);for(V+=2;V<H-2;){Y?(ma=C[V][J]<<1&65535,ea=C[V+1][J]<<1&65535):(ma=(C[V][J]<<1|C[V][J+1]>>15)&65535,ea=(C[V+1][J]<<1|C[V+1][J+1]>>15)&65535);ka|=ma|ea;aa=a[ma&65280|ea>>8];ca=aa&65280;ba=(aa&255)<<8;aa=a[(ma&255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;Y?(D[V][J]=D[V][J]&32768|ca>>1,D[V+1][J]=D[V+1][J]&32768|ba>>1):(D[V][J]=D[V][J]&32768|ca>>1,D[V][J+1]=D[V][J+1]&32767|(ca&1)<<15,D[V+1][J]=D[V+1][J]&32768|ba>>1,D[V+1][J+1]=D[V+1][J+1]&32767|(ba&1)<<15);if(aa=ca|
ba)q|=aa,V<B&&(B=V),V+1>b&&(b=V+1);V+=2}Y?(ma=C[V][J]<<1&65535,ea=C[V+1][J]<<1&65535):(ma=(C[V][J]<<1|C[V][J+1]>>15)&65535,ea=(C[V+1][J]<<1|C[V+1][J+1]>>15)&65535);ka|=ma|ea;aa=a[ma&65280|ea>>8];ca=aa&65280;ba=(aa&255)<<8;aa=a[(ma&255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;Y?(D[V][J]=D[V][J]&32768|ca>>1,D[V+1][J]=D[V+1][J]&32768|ba>>1):(D[V][J]=D[V][J]&32768|ca>>1,D[V][J+1]=D[V][J+1]&32767|(ca&1)<<15,D[V+1][J]=D[V+1][J]&32768|ba>>1,D[V+1][J+1]=D[V+1][J+1]&32767|(ba&1)<<15);if(aa=ca|ba)q|=aa,V<B&&(B=V),
V+1>b&&(b=V+1),0!==(aa&3)&&(da|=t.kb),da|=t.lb;ma|ea&&(0!==((ma|ea)&3)&&(da|=t.kb),da|=t.lb);q&&(0!==(q&3)&&(da|=t.Ya),m[J]|=q>>1,m[J+1]|=(q&1)<<15);0!==(ka&1)&&(da|=t.Ya)}if(q||ka)X|=1<<e,da&&(0!==(da&t.Bb)&&(15>e?X|=1<<e+1:0<g&&0<J&&(K[g-1]|=1)),0!==(da&t.Ya)&&(0<e?X|=1<<e-1:g<w-1&&J<y-1&&(K[g+1]|=32768)),0!==(da&t.zb)&&(R|=1<<e),0!==(da&t.lb)&&(U|=1<<e),0!==(da&t.Jb)&&(15>e?R|=1<<e+1:0<g&&0<J&&(M[g-1]|=1)),0!==(da&t.Kb)&&(0<e?R|=1<<e-1:g<w-1&&J<y-1&&(M[g+1]|=32768)),0!==(da&t.Lb)&&(15>e?U|=1<<
e+1:0<g&&0<J&&(I[g-1]|=1)),0!==(da&t.kb)&&(0<e?U|=1<<e-1:g<w-1&&J<y-1&&(I[g+1]|=32768)))}J+=1}K[g]|=X;0<c&&(M[g]|=R);c<r-1&&(I[g]|=U)}else J+=16;G+=16;H+=16;H>=u&&(H=u-1)}for(g=0;g<y;g+=1)m[g]&&(g<l&&(l=g),g>f&&(f=g));l=(l<<4)+this.A(m[l]);f=(f<<4)+this.K(m[f]);0>b&&(b=u-1);B>=u&&(B=0);l>=x&&(l=0);0>f&&(f=x-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);f>x-1&&(f=x-1);v.o=b;v.g=B;v.f=l;v.l=f;z.fill(0)};h.prototype.Cy=function(){var a=this.sh,e,c,g,n,m=this.fa,q,u=this.height,x=this.width,y=x>>4,v=this.H,
B=u,b=-1,l=x,f=-1,r=this.va,w=this.qa>>4,z=this.md;var A=0;var C=r;if(0!==(this.v&1)){var D=this.dc;var E=this.qb;var F=this.oa;var G=this.da;this.pc&&(a=this.mi)}else D=this.qb,E=this.dc,F=this.da,G=this.oa;m.fill(0);0>A&&(A=0);C>r&&(C=r);var H=A<<4;var J=H+16;G.$a.fill(0);for(c=A;c<C;c+=1){var O=0;var K=F[c];var M=G[c];var I=0<c?G[c-1]:z;var X=c<r-1?G[c+1]:z;for(g=0;g<w;g+=1)if(n=K[g]){var R=M[g];var U=I[g];var Y=X[g];for(e=15;0<=e;--e){if(0!==(n&1<<e)){var da=q=0;var V=H;var ka=0===V?this.We:D[V-
1];var ma=D[V];A=D[V+1];var ea=ma[O];ka=ka[O-1]<<18|ka[O]<<2|ka[O+1]>>14;var aa=ma[O-1]<<18|ea<<2|ma[O+1]>>14;var ca=A[O-1]<<18|A[O]<<2|A[O+1]>>14;var ba=a[ka>>7&7936|ca>>11&224|aa>>15&31]<<15;ba|=a[ca>>6&7936|ka>>10&224|aa>>14&31]<<14;ba|=a[ka>>5&7936|ca>>9&224|aa>>13&31]<<13;ba|=a[ca>>4&7936|ka>>8&224|aa>>12&31]<<12;ba|=a[ka>>3&7936|ca>>7&224|aa>>11&31]<<11;ba|=a[ca>>2&7936|ka>>6&224|aa>>10&31]<<10;ba|=a[ka>>1&7936|ca>>5&224|aa>>9&31]<<9;ba|=a[ca>>0&7936|ka>>4&224|aa>>8&31]<<8;ba|=a[ka<<1&7936|
ca>>3&224|aa>>7&31]<<7;ba|=a[ca<<2&7936|ka>>2&224|aa>>6&31]<<6;ba|=a[ka<<3&7936|ca>>1&224|aa>>5&31]<<5;ba|=a[ca<<4&7936|ka>>0&224|aa>>4&31]<<4;ba|=a[ka<<5&7936|ca<<1&224|aa>>3&31]<<3;ba|=a[ca<<6&7936|ka<<2&224|aa>>2&31]<<2;ba|=a[ka<<7&7936|ca<<3&224|aa>>1&31]<<1;ba|=a[ca<<8&7936|ka<<4&224|aa>>0&31]<<0;if(E[V][O]=ba)q|=ba,V<B&&(B=V),V>b&&(b=V),0!==(ba&49152)&&(da|=t.Jb),0!==(ba&3)&&(da|=t.Kb),da|=t.zb;for(V+=1;V<J-1;){ea|=A[O];A=D[V+1];ka=aa;aa=ca;ca=A[O-1]<<18|A[O]<<2|A[O+1]>>14;0!==(V&1)&&(ma=ka,
ka=ca,ca=ma);ba=a[ka>>7&7936|ca>>11&224|aa>>15&31]<<15;ba|=a[ca>>6&7936|ka>>10&224|aa>>14&31]<<14;ba|=a[ka>>5&7936|ca>>9&224|aa>>13&31]<<13;ba|=a[ca>>4&7936|ka>>8&224|aa>>12&31]<<12;ba|=a[ka>>3&7936|ca>>7&224|aa>>11&31]<<11;ba|=a[ca>>2&7936|ka>>6&224|aa>>10&31]<<10;ba|=a[ka>>1&7936|ca>>5&224|aa>>9&31]<<9;ba|=a[ca>>0&7936|ka>>4&224|aa>>8&31]<<8;ba|=a[ka<<1&7936|ca>>3&224|aa>>7&31]<<7;ba|=a[ca<<2&7936|ka>>2&224|aa>>6&31]<<6;ba|=a[ka<<3&7936|ca>>1&224|aa>>5&31]<<5;ba|=a[ca<<4&7936|ka>>0&224|aa>>4&31]<<
4;ba|=a[ka<<5&7936|ca<<1&224|aa>>3&31]<<3;ba|=a[ca<<6&7936|ka<<2&224|aa>>2&31]<<2;ba|=a[ka<<7&7936|ca<<3&224|aa>>1&31]<<1;ba|=a[ca<<8&7936|ka<<4&224|aa>>0&31]<<0;0!==(V&1)&&(ca=ma=ka);if(E[V][O]=ba)q|=ba,V<B&&(B=V),V>b&&(b=V);V+=1}ea|=A[O];A=V===this.height-1?this.We:D[V+1];ka=aa;aa=ca;ca=A[O-1]<<18|A[O]<<2|A[O+1]>>14;0!==(V&1)&&(ma=ka,ka=ca,ca=ma);ba=a[ka>>7&7936|ca>>11&224|aa>>15&31]<<15;ba|=a[ca>>6&7936|ka>>10&224|aa>>14&31]<<14;ba|=a[ka>>5&7936|ca>>9&224|aa>>13&31]<<13;ba|=a[ca>>4&7936|ka>>8&
224|aa>>12&31]<<12;ba|=a[ka>>3&7936|ca>>7&224|aa>>11&31]<<11;ba|=a[ca>>2&7936|ka>>6&224|aa>>10&31]<<10;ba|=a[ka>>1&7936|ca>>5&224|aa>>9&31]<<9;ba|=a[ca>>0&7936|ka>>4&224|aa>>8&31]<<8;ba|=a[ka<<1&7936|ca>>3&224|aa>>7&31]<<7;ba|=a[ca<<2&7936|ka>>2&224|aa>>6&31]<<6;ba|=a[ka<<3&7936|ca>>1&224|aa>>5&31]<<5;ba|=a[ca<<4&7936|ka>>0&224|aa>>4&31]<<4;ba|=a[ka<<5&7936|ca<<1&224|aa>>3&31]<<3;ba|=a[ca<<6&7936|ka<<2&224|aa>>2&31]<<2;ba|=a[ka<<7&7936|ca<<3&224|aa>>1&31]<<1;ba|=a[ca<<8&7936|ka<<4&224|aa>>0&31]<<
0;if(E[V][O]=ba)q|=ba,V<B&&(B=V),V>b&&(b=V),0!==(ba&49152)&&(da|=t.Lb),0!==(ba&3)&&(da|=t.kb),da|=t.lb;q&&(0!==(q&49152)&&(da|=t.Bb),0!==(q&3)&&(da|=t.Ya));m[O]|=q;if(q||ea)R|=1<<e,da&&(0!==(da&t.Bb)&&(15>e?R|=1<<e+1:0<g&&0<O&&(M[g-1]|=1)),0!==(da&t.Ya)&&(0<e?R|=1<<e-1:g<w-1&&O<y-1&&(M[g+1]|=32768)),0!==(da&t.zb)&&(U|=1<<e),0!==(da&t.lb)&&(Y|=1<<e),0!==(da&t.Jb)&&(15>e?U|=1<<e+1:0<g&&0<O&&(I[g-1]|=1)),0!==(da&t.Kb)&&(0<e?U|=1<<e-1:g<w-1&&O<y-1&&(I[g+1]|=32768)),0!==(da&t.Lb)&&(15>e?Y|=1<<e+1:0<g&&
0<O&&(X[g-1]|=1)),0!==(da&t.kb)&&(0<e?Y|=1<<e-1:g<w-1&&O<y-1&&(X[g+1]|=32768)))}O+=1}M[g]|=R;0<c&&(I[g]|=U);c<r-1&&(X[g]|=Y)}else O+=16;H+=16;J+=16}for(g=0;g<y;g+=1)m[g]&&(g<l&&(l=g),g>f&&(f=g));l=(l<<4)+this.A(m[l]);f=(f<<4)+this.K(m[f]);0>b&&(b=u-1);B>=u&&(B=0);l>=x&&(l=0);0>f&&(f=x-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);f>x-1&&(f=x-1);v.o=b;v.g=B;v.f=l;v.l=f;z.fill(0)};h.prototype.yv=function(){var a=this.qh,e,c,g,n,m,q,u=this.fa,x,y=this.Hb,v,B=this.$g,b=0,l=0,f=0,r=this.height,w=this.width,
z=w>>4,A=this.H,C=r,D=-1,E=w,F=-1,G=this.va,H=this.qa>>4,J=this.md,O=this.ua,K=this.ra,M=Math.round((this.width-O)/2),I=Math.round((this.height-K)/2),X=M+O-1,R=I+K-1;if(0!==(this.v&1)){var U=this.dc;var Y=this.qb;var da=this.oa;var V=this.da;this.pc&&(a=this.Nf)}else U=this.qb,Y=this.dc,da=this.da,V=this.oa;u.fill(0);y.fill(0);var ka=0;var ma=ka+16;V.$a.fill(0);for(g=0;g<da.length;g+=1){var ea=0;var aa=da[g];var ca=V[g];var ba=0<g?V[g-1]:J;var na=g<G-1?V[g+1]:J;for(n=0;n<H;n+=1)if(m=aa[n]){var ja=
ca[n];var T=ba[n];var S=na[n];for(e=15;0<=e;--e){if(0!==(m&1<<e)){var W=v=x=0;var la=ka;var fa=32768;var Z=0===la?this.We:U[la-1];var L=U[la];var Q=U[la+1];var ia=q=L[ea];if(ea)if(ea>=z-1){Z=(Z[ea-1]&1)<<17|Z[ea]<<1;L=(L[ea-1]&1)<<17|q<<1;var P=(Q[ea-1]&1)<<17|Q[ea]<<1;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c],0!==(c&32768)&&(W|=t.Jb),W|=t.zb;Y[la][ea]=c;c|q&&(l+=B[c&
~q],f+=B[q&~c]);la+=1;for(fa>>=1;la<ma-1;){q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1}q=Q[ea];ia|=q;Q=la===this.height-1?this.We:U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<
8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c],0!==(c&32768)&&(W|=t.Lb),W|=t.lb}else{Z=(Z[ea-1]&1)<<17|Z[ea]<<1|Z[ea+1]>>15;L=(L[ea-1]&1)<<17|q<<1|L[ea+1]>>15;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c],0!==(c&32768)&&(W|=t.Jb),0!==(c&1)&&(W|=t.Kb),W|=t.zb;Y[la][ea]=c;c|q&&(l+=B[c&~q],
f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&
4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=
Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],
f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&
4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=
Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],
f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&
4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=
Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1;q=Q[ea];ia|=q;Q=la===this.height-1?this.We:U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c],0!==
(c&32768)&&(W|=t.Lb),0!==(c&1)&&(W|=t.kb),W|=t.lb}else{Z=Z[ea]<<1|Z[ea+1]>>15;L=q<<1|L[ea+1]>>15;P=Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,0!==(c&1)&&(W|=t.Kb),W|=t.zb,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;for(fa>>=1;la<ma-1;){q=Q[ea];ia|=q;Q=U[la+1];Z=L;L=P;P=Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>
8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);la+=1;fa>>=1}q=Q[ea];ia|=q;Q=la===this.height-1?this.We:U[la+1];Z=L;L=P;P=Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c],0!==(c&1)&&(W|=t.kb),W|=t.lb}Y[la][ea]=c;c|q&&(l+=B[c&~q],f+=B[q&~c]);
x&&(0!==(x&32768)&&(W|=t.Bb),0!==(x&1)&&(W|=t.Ya));u[ea]|=x;if(x||ia)ja|=1<<e,W&&(0!==(W&t.Bb)&&(15>e?ja|=1<<e+1:0<n&&0<ea&&(ca[n-1]|=1)),0!==(W&t.Ya)&&(0<e?ja|=1<<e-1:n<H-1&&ea<z-1&&(ca[n+1]|=32768)),0!==(W&t.zb)&&(T|=1<<e),0!==(W&t.lb)&&(S|=1<<e),0!==(W&t.Jb)&&(15>e?T|=1<<e+1:0<n&&0<ea&&(ba[n-1]|=1)),0!==(W&t.Kb)&&(0<e?T|=1<<e-1:n<H-1&&ea<z-1&&(ba[n+1]|=32768)),0!==(W&t.Lb)&&(15>e?S|=1<<e+1:0<n&&0<ea&&(na[n-1]|=1)),0!==(W&t.kb)&&(0<e?S|=1<<e-1:n<H-1&&ea<z-1&&(na[n+1]|=32768)));y[g]|=v}ea+=1}ca[n]|=
ja;0<g&&(ba[n]|=T);g<G-1&&(na[n]|=S)}else ea+=16;ka+=16;ma+=16}-1!==this.sa&&(0!==O&&(u[M-1>>4]&=~(1<<(~(M-1)&15)),u[X+1>>4]&=~(1<<(~(X+1)&15)),u[M-2>>4]&=~(1<<(~(M-2)&15)),u[X+2>>4]&=~(1<<(~(X+2)&15))),0!==K&&(y[I-1>>4]&=~(1<<(~(I-1)&15)),y[R+1>>4]&=~(1<<(~(R+1)&15)),y[I-2>>4]&=~(1<<(~(I-2)&15)),y[R+2>>4]&=~(1<<(~(R+2)&15))));for(n=0;n<z;n+=1)u[n]&&(n<E&&(E=n),n>F&&(F=n));for(g=0;g<y.length;g+=1)y[g]&&(g<C&&(C=g),g>D&&(D=g));E=(E<<4)+this.A(u[E]);F=(F<<4)+this.K(u[F]);C=(C<<4)+this.A(y[C]);D=(D<<
4)+this.K(y[D]);0>D&&(D=r-1);C>=r&&(C=0);E>=w&&(E=0);0>F&&(F=w-1);D>r-1&&(D=r-1);0>C&&(C=0);0>E&&(E=0);F>w-1&&(F=w-1);A.o=D;A.g=C;A.f=E;A.l=F;J.fill(0);this.ma=b;this.Ib=l;this.Zb=f};h.prototype.ry=function(){var a=this.qh,e,c,g,n,m,q=this.fa,u,x=this.Hb,y,v=this.height,B=this.width,b=B>>4,l=this.H,f=v,r=-1,w=B,z=-1,A=this.va,C=this.qa>>4,D=this.md,E=this.ua,F=this.ra,G=Math.round((this.width-E)/2),H=Math.round((this.height-F)/2),J=G+E-1,O=H+F-1;if(0!==(this.v&1)){var K=this.dc;var M=this.qb;var I=
this.oa;var X=this.da;this.pc&&(a=this.Nf)}else K=this.qb,M=this.dc,I=this.da,X=this.oa;q.fill(0);x.fill(0);var R=0;var U=R+16;X.$a.fill(0);for(g=0;g<I.length;g+=1){var Y=0;var da=I[g];var V=X[g];var ka=0<g?X[g-1]:D;var ma=g<A-1?X[g+1]:D;for(n=0;n<C;n+=1)if(m=da[n]){var ea=V[n];var aa=ka[n];var ca=ma[n];for(e=15;0<=e;--e){if(0!==(m&1<<e)){var ba=y=u=0;var na=R;var ja=32768;var T=0===na?this.We:K[na-1];var S=K[na];var W=K[na+1];var la=S[Y];if(Y)if(Y>=b-1){T=(T[Y-1]&1)<<17|T[Y]<<1;S=(S[Y-1]&1)<<17|
la<<1;var fa=(W[Y-1]&1)<<17|W[Y]<<1;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&32768)&&(ba|=t.Jb),ba|=t.zb;M[na][Y]=c;na+=1;for(ja>>=1;na<U-1;){la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,
y|=ja;M[na][Y]=c;na+=1;ja>>=1}la|=W[Y];W=na===this.height-1?this.We:K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&32768)&&(ba|=t.Lb),ba|=t.lb}else{T=(T[Y-1]&1)<<17|T[Y]<<1|T[Y+1]>>15;S=(S[Y-1]&1)<<17|la<<1|S[Y+1]>>15;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|
fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&32768)&&(ba|=t.Jb),0!==(c&1)&&(ba|=t.Kb),ba|=t.zb;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+
1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-
1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+
1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;
ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,
y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<
6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<
4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=na===this.height-1?this.We:K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&
258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&32768)&&(ba|=t.Lb),0!==(c&1)&&(ba|=t.kb),ba|=t.lb}else{T=T[Y]<<1|T[Y+1]>>15;S=la<<1|S[Y+1]>>15;fa=W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&1)&&(ba|=t.Kb),ba|=t.zb;M[na][Y]=c;na+=1;for(ja>>=1;na<U-1;){la|=W[Y];W=K[na+1];T=S;S=fa;fa=W[Y]<<1|W[Y+
1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1}la|=W[Y];W=na===this.height-1?this.We:K[na+1];T=S;S=fa;fa=W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&1)&&(ba|=t.kb),ba|=t.lb}M[na][Y]=c;u&&(0!==
(u&32768)&&(ba|=t.Bb),0!==(u&1)&&(ba|=t.Ya));q[Y]|=u;if(u||la)ea|=1<<e,ba&&(0!==(ba&t.Bb)&&(15>e?ea|=1<<e+1:0<n&&0<Y&&(V[n-1]|=1)),0!==(ba&t.Ya)&&(0<e?ea|=1<<e-1:n<C-1&&Y<b-1&&(V[n+1]|=32768)),0!==(ba&t.zb)&&(aa|=1<<e),0!==(ba&t.lb)&&(ca|=1<<e),0!==(ba&t.Jb)&&(15>e?aa|=1<<e+1:0<n&&0<Y&&(ka[n-1]|=1)),0!==(ba&t.Kb)&&(0<e?aa|=1<<e-1:n<C-1&&Y<b-1&&(ka[n+1]|=32768)),0!==(ba&t.Lb)&&(15>e?ca|=1<<e+1:0<n&&0<Y&&(ma[n-1]|=1)),0!==(ba&t.kb)&&(0<e?ca|=1<<e-1:n<C-1&&Y<b-1&&(ma[n+1]|=32768)));x[g]|=y}Y+=1}V[n]|=
ea;0<g&&(ka[n]|=aa);g<A-1&&(ma[n]|=ca)}else Y+=16;R+=16;U+=16}-1!==this.sa&&(0!==E&&(q[G-1>>4]&=~(1<<(~(G-1)&15)),q[J+1>>4]&=~(1<<(~(J+1)&15)),q[G-2>>4]&=~(1<<(~(G-2)&15)),q[J+2>>4]&=~(1<<(~(J+2)&15))),0!==F&&(x[H-1>>4]&=~(1<<(~(H-1)&15)),x[O+1>>4]&=~(1<<(~(O+1)&15)),x[H-2>>4]&=~(1<<(~(H-2)&15)),x[O+2>>4]&=~(1<<(~(O+2)&15))));for(n=0;n<b;n+=1)q[n]&&(n<w&&(w=n),n>z&&(z=n));for(g=0;g<x.length;g+=1)x[g]&&(g<f&&(f=g),g>r&&(r=g));w=(w<<4)+this.A(q[w]);z=(z<<4)+this.K(q[z]);f=(f<<4)+this.A(x[f]);r=(r<<
4)+this.K(x[r]);0>r&&(r=v-1);f>=v&&(f=0);w>=B&&(w=0);0>z&&(z=B-1);r>v-1&&(r=v-1);0>f&&(f=0);0>w&&(w=0);z>B-1&&(z=B-1);l.o=r;l.g=f;l.f=w;l.l=z;D.fill(0)};h.prototype.Rv=function(a,e){var c,g=this.Aa,n,m,q,u,x=this.va,y=this.qa>>4;var v=0;var B=v+16;for(n=0;n<x;n+=1){var b=0;var l=g[n];for(m=0;m<y;m+=1)if(u=l[m])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(c=v;c<B;c+=2){var f=e[c];var r=a[c];var w=a[c+1];var z=b<<3;var A=r[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=r[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=r[z];A|=w[z];f[z+
z]=A|A>>8;z+=1;A=r[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=r[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=r[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=r[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=r[z];A|=w[z];f[z+z]=A|A>>8}b+=1}else b+=16;v+=16;B+=16}};h.prototype.Xt=function(a,e){var c,g=this.Aa,n,m,q,u,x=this.va,y=this.qa>>4;var v=0;var B=v+16;for(n=0;n<x;n+=1){var b=0;var l=g[n];for(m=0;m<y;m+=1)if(u=l[m])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(c=v;c<B;c+=2){var f=e[c];var r=a[c];var w=a[c+1];var z=b<<3;var A=r[z];var C=A&255;A>>=8;C-=C-
(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=r[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=r[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=r[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=r[z];
C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=r[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=r[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=r[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&
255)>>255)}b+=1}else b+=16;v+=16;B+=16}};h.prototype.Sv=function(a,e){var c,g=this.Aa,n,m,q,u,x=this.va,y=this.qa>>4;var v=0;var B=v+16;for(n=0;n<x;n+=1){var b=0;var l=g[n];for(m=0;m<y;m+=1)if(u=l[m])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(c=v;c<B;c+=4){var f=e[c];var r=a[c];var w=a[c+1];var z=a[c+2];var A=a[c+3];var C=b<<2;var D=b<<4;var E=r[C]|w[C]|z[C]|A[C];f[D]=(0<E)<<6;C+=1;D+=4;E=r[C]|w[C]|z[C]|A[C];f[D]=(0<E)<<6;C+=1;D+=4;E=r[C]|w[C]|z[C]|A[C];f[D]=(0<E)<<6;C+=1;D+=4;E=r[C]|w[C]|z[C]|A[C];f[D]=
(0<E)<<6}b+=1}else b+=16;v+=16;B+=16}};h.prototype.cu=function(a,e){var c,g,n=this.Aa,m,q,u,x,y,v=this.va,B=this.qa>>4;var b=0;var l=b+16;for(q=0;q<v;q+=1){var f=0;var r=n[q];for(u=0;u<B;u+=1)if(y=r[u])for(x=15;0<=x;--x){if(0!==(y&1<<x))for(c=b;c<l;c+=4){var w=e[c];var z=a[c];var A=a[c+1];var C=a[c+2];var D=a[c+3];var E=f<<2;var F=f<<4;for(g=0;4>g;g+=1){var G=0;if(m=z[E])G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255;
if(m=A[E])G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255;if(m=C[E])G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255;if(m=D[E])G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255;w[F]=G;E+=1;F+=4}}f+=1}else f+=16;b+=16;l+=16}};h.prototype.Uv=function(a,e){var c,
g=this.Aa,n,m,q,u,x=this.va,y=this.qa>>4;var v=0;var B=v+16;for(n=0;n<x;n+=1){var b=0;var l=g[n];for(m=0;m<y;m+=1)if(u=l[m])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(c=v;c<B;c+=8){var f=e[c];var r=a[c];var w=a[c+1];var z=a[c+2];var A=a[c+3];var C=a[c+4];var D=a[c+5];var E=a[c+6];var F=a[c+7];var G=b<<2;var H=b<<4;var J=r[G]|r[G+1];J|=w[G]|w[G+1];J|=z[G]|z[G+1];J|=A[G]|A[G+1];0===J&&(J|=C[G]|C[G+1],J|=D[G]|D[G+1],J|=E[G]|E[G+1],J|=F[G]|F[G+1]);f[H]=(0<J)<<6;G+=2;H+=8;J=r[G]|r[G+1];J|=w[G]|w[G+1];J|=z[G]|
z[G+1];J|=A[G]|A[G+1];0===J&&(J|=C[G]|C[G+1],J|=D[G]|D[G+1],J|=E[G]|E[G+1],J|=F[G]|F[G+1]);f[H]=(0<J)<<6}b+=1}else b+=16;v+=16;B+=16}};h.prototype.gu=function(a,e){var c,g,n=this.Aa,m,q,u,x,y,v=this.va,B=this.qa>>4;var b=0;var l=b+16;for(q=0;q<v;q+=1){var f=0;var r=n[q];for(u=0;u<B;u+=1)if(y=r[u])for(x=15;0<=x;--x){if(0!==(y&1<<x))for(c=b;c<l;c+=8){var w=e[c];var z=a[c];var A=a[c+1];var C=a[c+2];var D=a[c+3];var E=a[c+4];var F=a[c+5];var G=a[c+6];var H=a[c+7];var J=f<<2;var O=f<<4;for(g=0;2>g;g+=
1){var K=0;if(m=z[J])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=z[J+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=A[J])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=A[J+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>
255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=C[J])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=C[J+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=D[J])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=D[J+
1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=E[J])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=E[J+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=F[J])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&
255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=F[J+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=G[J])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=G[J+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=H[J])K-=K-(m&255)&
K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=H[J+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;w[O]=K;J+=2;O+=8}}f+=1}else f+=16;b+=16;l+=16}};h.prototype.Qv=function(a,e){var c=this.Aa,g,n,m,q,u,x=this.va,y=this.qa>>4;for(g=q=0;g<x;g+=1){var v=0;var B=c[g];for(n=0;n<y;n+=1)if(u=B[n])for(m=15;0<=m;--m){if(0!==(u&1<<m)){var b=e[q];var l=
a[q];var f=a[q+1];var r=a[q+2];var w=a[q+3];var z=a[q+4];var A=a[q+5];var C=a[q+6];var D=a[q+7];var E=a[q+8];var F=a[q+9];var G=a[q+10];var H=a[q+11];var J=a[q+12];var O=a[q+13];var K=a[q+14];var M=a[q+15];var I=v<<2;var X=v<<4;l=l[I]|l[I+1]|l[I+2]|l[I+3];l|=f[I]|f[I+1]|f[I+2]|f[I+3];l|=r[I]|r[I+1]|r[I+2]|r[I+3];l|=w[I]|w[I+1]|w[I+2]|w[I+3];0===l&&(l|=z[I]|z[I+1]|z[I+2]|z[I+3],l|=A[I]|A[I+1]|A[I+2]|A[I+3],l|=C[I]|C[I+1]|C[I+2]|C[I+3],l|=D[I]|D[I+1]|D[I+2]|D[I+3],0===l&&(l|=E[I]|E[I+1]|E[I+2]|E[I+
3],l|=F[I]|F[I+1]|F[I+2]|F[I+3],l|=G[I]|G[I+1]|G[I+2]|G[I+3],l|=H[I]|H[I+1]|H[I+2]|H[I+3],0===l&&(l|=J[I]|J[I+1]|J[I+2]|J[I+3],l|=O[I]|O[I+1]|O[I+2]|O[I+3],l|=K[I]|K[I+1]|K[I+2]|K[I+3],l|=M[I]|M[I+1]|M[I+2]|M[I+3])));b[X]=(0<l)<<6}v+=1}else v+=16;q+=16}};h.prototype.St=function(a,e){var c=this.Aa,g,n,m,q,u,x,y=this.va,v=this.qa>>4;var B=0;var b=B+16;for(n=0;n<y;n+=1){var l=0;var f=c[n];for(m=0;m<v;m+=1)if(x=f[m])for(q=15;0<=q;--q){if(0!==(x&1<<q)){var r=0;for(u=B;u<b;u+=1){var w=a[u];var z=l<<2;if(g=
w[z])r-=r-(g&255)&r-(g&255)>>255,g>>=8,r-=r-(g&255)&r-(g&255)>>255,g>>=8,r-=r-(g&255)&r-(g&255)>>255,g>>=8,r-=r-(g&255)&r-(g&255)>>255;if(g=w[z+1])r-=r-(g&255)&r-(g&255)>>255,g>>=8,r-=r-(g&255)&r-(g&255)>>255,g>>=8,r-=r-(g&255)&r-(g&255)>>255,g>>=8,r-=r-(g&255)&r-(g&255)>>255;if(g=w[z+2])r-=r-(g&255)&r-(g&255)>>255,g>>=8,r-=r-(g&255)&r-(g&255)>>255,g>>=8,r-=r-(g&255)&r-(g&255)>>255,g>>=8,r-=r-(g&255)&r-(g&255)>>255;if(g=w[z+3])r-=r-(g&255)&r-(g&255)>>255,g>>=8,r-=r-(g&255)&r-(g&255)>>255,g>>=8,r-=
r-(g&255)&r-(g&255)>>255,g>>=8,r-=r-(g&255)&r-(g&255)>>255}w=e[B];z=l<<4;w[z]=r}l+=1}else l+=16;B+=16;b+=16}};h.prototype.Xv=function(a,e){var c=this.ja;.5<=c&&1>c?this.Rk||this.za||this.G||this.Y?this.Xt(a,this.W):this.Rv(a,this.W):.25<=c&&.5>c?this.Rk||this.za||this.G||this.Y?this.cu(e,this.W):this.Sv(e,this.W):.125<=c&&.25>c?this.Rk||this.za||this.G||this.Y?this.gu(e,this.W):this.Uv(e,this.W):.125>c&&(this.Rk||this.za||this.G||this.Y?this.St(e,this.W):this.Qv(e,this.W));this.yg&&(.5<=c&&1>c?this.Xt(this.ni,
this.hb):.25<=c&&.5>c?this.cu(this.hg,this.hb):.125<=c&&.25>c?this.gu(this.hg,this.hb):.125>c&&this.St(this.hg,this.hb))};h.prototype.Sx=function(){var a=this.Z,e=this.Aa,c=this.Ha,g,n,m,q,u,x=0,y=0,v=0,B=this.width,b=B>>4,l=this.height,f=B,r=-1,w=-1,z=l,A=this.H,C=this.fa,D,E,F=this.Hb;var G=this.va;var H=this.qa>>4;var J=0;var O=G,K=this.h+this.J-1,M=this.J,I=0<this.J?1:0;this.aa=0;if(0!==(this.v&1)){var X=this.dc;var R=this.oa}else X=this.qb,R=this.da;0>J&&(J=0);O>G&&(O=G);C.fill(0);F.fill(0);
G=J<<4;var U=G+16;for(n=J;n<O;n+=1){var Y=0;var da=R[n];var V=c[n];var ka=e[n];for(m=0;m<H;m+=1){var ma=da[m]|V[m];var ea=0;if(ma)for(q=15;0<=q;--q){if(0!==(ma&1<<q)){var aa=D=0;var ca=32768;var ba=0;for(J=G;J<U;J+=1){var na=X[J];var ja=a[J];var T=Y<<4;var S=na[Y];for(u=E=32768;0<u;){var W=g=ja[T];(g<=M||g===K)&&0!==(S&u)?g=K:(S&=~u,g>I&&--g);ja[T]=g;g>I&&(ba=1,g>M&&(D|=E,aa|=ca),g===K&&(x+=1,W!==K&&(y+=1)));W===K&&g!==K&&(v+=1);E>>=1;T+=1;u>>=1;W=g=ja[T];(g<=M||g===K)&&0!==(S&u)?g=K:(S&=~u,g>I&&
--g);ja[T]=g;g>I&&(ba=1,g>M&&(D|=E,aa|=ca),g===K&&(x+=1,W!==K&&(y+=1)));W===K&&g!==K&&(v+=1);E>>=1;T+=1;u>>=1;W=g=ja[T];(g<=M||g===K)&&0!==(S&u)?g=K:(S&=~u,g>I&&--g);ja[T]=g;g>I&&(ba=1,g>M&&(D|=E,aa|=ca),g===K&&(x+=1,W!==K&&(y+=1)));W===K&&g!==K&&(v+=1);E>>=1;T+=1;u>>=1;W=g=ja[T];(g<=M||g===K)&&0!==(S&u)?g=K:(S&=~u,g>I&&--g);ja[T]=g;g>I&&(ba=1,g>M&&(D|=E,aa|=ca),g===K&&(x+=1,W!==K&&(y+=1)));W===K&&g!==K&&(v+=1);E>>=1;T+=1;u>>=1}na[Y]=S;this.aa|=S;ca>>=1}C[Y]|=D;F[n]|=aa;ba&&(ea|=1<<q)}Y+=1}else Y+=
16;V[m]=ea;ka[m]|=ea}G+=16;U+=16}for(m=0;m<b;m+=1)C[m]&&(m<f&&(f=m),m>r&&(r=m));for(n=0;n<F.length;n+=1)F[n]&&(n<z&&(z=n),n>w&&(w=n));f=(f<<4)+this.A(C[f]);r=(r<<4)+this.K(C[r]);z=(z<<4)+this.A(F[z]);w=(w<<4)+this.K(F[w]);0>w&&(w=l-1);z>=l&&(z=0);f>=B&&(f=0);0>r&&(r=B-1);w>l-1&&(w=l-1);0>z&&(z=0);0>f&&(f=0);r>B-1&&(r=B-1);A.o=w;A.g=z;A.f=f;A.l=r;this.ma=x;this.Ib=y;this.Zb=v};h.prototype.uv=function(){var a=this.Z,e=this.Aa,c,g,n,m,q;var u=this.va;var x=this.qa>>4;var y=0;var v=u,B=0<this.J?1:0;0>
y&&(y=0);v>u&&(v=u);u=y<<4;var b=u+16;for(c=y;c<v;c+=1){var l=0;var f=e[c];for(g=0;g<x;g+=1)if(q=f[g])for(n=15;0<=n;--n){if(0!==(q&1<<n))for(y=u;y<b;y+=1){var r=a[y];var w=l<<4;for(m=15;0<=m;--m){var z=r[w];z>B&&(--z,r[w]=z);w+=1}}l+=1}else l+=16;u+=16;b+=16}};h.prototype.Xe=function(){this.bb||this.G||this.Y||this.Gc||(-1===this.h?this.Rk?this.Pv():this.Ov():this.aa||this.uv(),this.xi&&this.Cv())};h.prototype.Jv=function(){var a,e=this.dk,c=this.Aa,g,n,m,q=0,u,x=this.va,y=this.qa>>4;var v=16;for(g=
0;g<x;g+=1){var B=0;var b=c[g];for(n=0;n<y;n+=1)if(u=b[n])for(m=15;0<=m;--m){if(0!==(u&1<<m))for(a=q;a<v;){var l=e[a];var f=B<<3;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;a+=1}B+=1}else B+=16;q+=16;v+=16}};h.prototype.xv=function(){this.GL()};h.prototype.qz=function(){switch(this.Ti){case PatternConstants.gp:this.WA();break;case PatternConstants.ep:this.pA();break;case PatternConstants.Ik:this.Rz();break;case PatternConstants.fp:this.Bz()}};
h.prototype.Bz=function(){var a=this.pg;var e=a[0],c=a[1],g=a[2],n=this.Jd,m=this.og,q,u,x=0,y,v,B,b=this.Aa,l=this.Ha,f,r=this.fa,w,z=this.Hb,A,C,D=0,E=0,F=0,G=this.height,H=this.width,J=H>>4,O=this.H,K=G,M=-1,I=H,X=-1,R=this.va,U=this.qa>>4,Y=this.md;if(0!==(this.v&1)){var da=this.Ta;var V=this.na;var ka=this.Z;var ma=this.oa;var ea=this.da}else da=this.Z,V=this.Ma,ka=this.Ta,ma=this.da,ea=this.oa;r.fill(0);z.fill(0);var aa=0;var ca=aa+16;ea.$a.fill(0);for(v=0;v<ma.length;v+=1){var ba=0;var na=
ba+16;var ja=ma[v];var T=ea[v];var S=l[v];var W=b[v];var la=0<v?ea[v-1]:Y;var fa=v<R-1?ea[v+1]:Y;for(B=0;B<U;B+=1)if(f=ja[B]){var Z=T[B];var L=la[B];var Q=fa[B];for(y=15;0<=y;--y){if(0!==(f&1<<y)){var ia=A=w=0;var P=aa;for(C=32768;P<ca;){a=da[P];var N=ka[P];var ha=32768;var oa=ba;0===oa?x=0:x=a[oa-1];for(u=a[oa];oa<na-1;){var qa=x;x=u;u=a[oa+1];var ra=e[x];var ua=c[qa];var pa=g[u];var sa=x;for(q=0;q<m;q+=1)if(qa=ra[q]&ua[q]&pa[q]){ra=0;for(pa=1;!(qa&pa);)ra+=1,pa<<=1;sa=n[(q<<5)+ra];break}N[oa]=sa;
0<sa?(D+=1,0===x&&(E+=1),A|=C,w|=ha):0<x&&(F+=1);ha>>=1;oa+=1}qa=x;x=u;oa===H-1?u=0:u=a[oa+1];ra=e[x];ua=c[qa];pa=g[u];sa=x;for(q=0;q<m;q+=1)if(qa=ra[q]&ua[q]&pa[q]){ra=0;for(pa=1;!(qa&pa);)ra+=1,pa<<=1;sa=n[(q<<5)+ra];break}N[oa]=sa;0<sa?(D+=1,0===x&&(E+=1),A|=C,w|=ha):0<x&&(F+=1);P+=1;C>>=1}r[ba>>4]|=w;w&&(Z|=1<<y,A&1&&(ia|=t.lb,w&32768&&(ia|=t.Lb),w&1&&(ia|=t.kb)),A&32768&&(ia|=t.zb,w&32768&&(ia|=t.Jb),w&1&&(ia|=t.Kb)),w&32768&&(ia|=t.Bb),w&1&&(ia|=t.Ya),ia&&(0!==(ia&t.Bb)&&(15>y?Z|=1<<y+1:0<B&&
0<ba&&(T[B-1]|=1)),0!==(ia&t.Ya)&&(0<y?Z|=1<<y-1:B<U-1&&ba<H-1&&(T[B+1]|=32768)),0!==(ia&t.zb)&&(L|=1<<y),0!==(ia&t.lb)&&(Q|=1<<y),0!==(ia&t.Jb)&&(15>y?L|=1<<y+1:0<B&&0<ba&&(la[B-1]|=1)),0!==(ia&t.Kb)&&(0<y?L|=1<<y-1:B<U-1&&ba<H-1&&(la[B+1]|=32768)),0!==(ia&t.Lb)&&(15>y?Q|=1<<y+1:0<B&&0<ba&&(fa[B-1]|=1)),0!==(ia&t.kb)&&(0<y?Q|=1<<y-1:B<U-1&&ba<H-1&&(fa[B+1]|=32768))));z[v]|=A}ba+=16;na+=16}T[B]|=Z;S[B]=f|Z;W[B]=W[B]|f|Z;0<v&&(la[B]|=L);v<R-1&&(fa[B]|=Q)}else ba+=256,na+=256;aa+=16;ca+=16}for(B=0;B<
J;B+=1)r[B]&&(B<I&&(I=B),B>X&&(X=B));for(v=0;v<z.length;v+=1)z[v]&&(v<K&&(K=v),v>M&&(M=v));I=(I<<4)+this.A(r[I]);X=(X<<4)+this.K(r[X]);K=(K<<4)+this.A(z[K]);M=(M<<4)+this.K(z[M]);0>M&&(M=G-1);K>=G&&(K=0);I>=H&&(I=0);0>X&&(X=H-1);M>G-1&&(M=G-1);0>K&&(K=0);0>I&&(I=0);X>H-1&&(X=H-1);O.o=M;O.g=K;O.f=I;O.l=X;Y.fill(0);aa=0;ca=aa+16;for(v=0;v<ma.length;v+=1){ba=0;ja=ma[v];T=ea[v];for(B=0;B<U;B+=1)if(f=ja[B],Z=T[B],f!==Z)for(y=15;0<=y;--y){if((f&1<<y)!==(Z&1<<y)&&0===(Z&1<<y))for(P=aa;P<ca;P+=1)a=V[P],oa=
ba>>2,a[oa]=0,a[oa+1]=0,a[oa+2]=0,a[oa+3]=0;ba+=16}else ba+=256;aa+=16;ca+=16}this.ma=D;this.Ib=E;this.Zb=F;this.aa=D};h.prototype.WA=function(){var a=this.pg;var e=a[0],c=a[1],g=a[2],n=a[3],m=a[4],q=this.Jd,u=this.og,x,y=0,v,B,b,l=this.Aa,f=this.Ha,r,w=this.fa,z,A=this.Hb,C,D,E=0,F=0,G=0,H=this.height,J=this.width,O=J>>4,K=this.H,M=H,I=-1,X=J,R=-1,U=this.va,Y=this.qa>>4,da=this.md;if(0!==(this.v&1)){var V=this.Ta;var ka=this.na;var ma=this.Z;var ea=this.oa;var aa=this.da}else V=this.Z,ka=this.Ma,
ma=this.Ta,ea=this.da,aa=this.oa;w.fill(0);A.fill(0);var ca=0;var ba=ca+16;aa.$a.fill(0);for(B=0;B<ea.length;B+=1){var na=0;var ja=na+16;var T=ea[B];var S=aa[B];var W=f[B];var la=l[B];var fa=0<B?aa[B-1]:da;var Z=B<U-1?aa[B+1]:da;for(b=0;b<Y;b+=1)if(r=T[b]){var L=S[b];var Q=fa[b];var ia=Z[b];for(v=15;0<=v;--v){if(0!==(r&1<<v)){var P=C=z=0;var N=ca;for(D=32768;N<ba;){a=0===N?this.ld:V[N-1];var ha=V[N];var oa=N===this.height-1?this.ld:V[N+1];var qa=ma[N];var ra=32768;var ua=na;0===ua?y=0:y=ha[ua-1];
for(x=ha[ua];ua<ja-1;){var pa=y;y=x;var sa=a[ua];x=ha[ua+1];var xa=oa[ua];var Ca=e[y];sa=c[sa];var za=g[x];var wa=n[xa];var Da=m[pa];var Ea=y;for(xa=0;xa<u;xa+=1)if(pa=Ca[xa]&sa[xa])if(pa&=za[xa]&wa[xa]&Da[xa]){Ca=0;for(sa=1;!(pa&sa);)Ca+=1,sa<<=1;Ea=q[(xa<<5)+Ca];break}qa[ua]=Ea;0<Ea?(E+=1,0===y&&(F+=1),C|=D,z|=ra):0<y&&(G+=1);ra>>=1;ua+=1}pa=y;y=x;sa=a[ua];ua===J-1?x=0:x=ha[ua+1];xa=oa[ua];Ca=e[y];sa=c[sa];za=g[x];wa=n[xa];Da=m[pa];Ea=y;for(xa=0;xa<u;xa+=1)if(pa=Ca[xa]&sa[xa])if(pa&=za[xa]&wa[xa]&
Da[xa]){Ca=0;for(sa=1;!(pa&sa);)Ca+=1,sa<<=1;Ea=q[(xa<<5)+Ca];break}qa[ua]=Ea;0<Ea?(E+=1,0===y&&(F+=1),C|=D,z|=ra):0<y&&(G+=1);N+=1;D>>=1}w[na>>4]|=z;z&&(L|=1<<v,C&1&&(P|=t.lb,z&32768&&(P|=t.Lb),z&1&&(P|=t.kb)),C&32768&&(P|=t.zb,z&32768&&(P|=t.Jb),z&1&&(P|=t.Kb)),z&32768&&(P|=t.Bb),z&1&&(P|=t.Ya),P&&(0!==(P&t.Bb)&&(15>v?L|=1<<v+1:0<b&&0<na&&(S[b-1]|=1)),0!==(P&t.Ya)&&(0<v?L|=1<<v-1:b<Y-1&&na<J-1&&(S[b+1]|=32768)),0!==(P&t.zb)&&(Q|=1<<v),0!==(P&t.lb)&&(ia|=1<<v),0!==(P&t.Jb)&&(15>v?Q|=1<<v+1:0<b&&
0<na&&(fa[b-1]|=1)),0!==(P&t.Kb)&&(0<v?Q|=1<<v-1:b<Y-1&&na<J-1&&(fa[b+1]|=32768)),0!==(P&t.Lb)&&(15>v?ia|=1<<v+1:0<b&&0<na&&(Z[b-1]|=1)),0!==(P&t.kb)&&(0<v?ia|=1<<v-1:b<Y-1&&na<J-1&&(Z[b+1]|=32768))));A[B]|=C}na+=16;ja+=16}S[b]|=L;W[b]=r|L;la[b]=la[b]|r|L;0<B&&(fa[b]|=Q);B<U-1&&(Z[b]|=ia)}else na+=256,ja+=256;ca+=16;ba+=16}for(b=0;b<O;b+=1)w[b]&&(b<X&&(X=b),b>R&&(R=b));for(B=0;B<A.length;B+=1)A[B]&&(B<M&&(M=B),B>I&&(I=B));X=(X<<4)+this.A(w[X]);R=(R<<4)+this.K(w[R]);M=(M<<4)+this.A(A[M]);I=(I<<4)+
this.K(A[I]);0>I&&(I=H-1);M>=H&&(M=0);X>=J&&(X=0);0>R&&(R=J-1);I>H-1&&(I=H-1);0>M&&(M=0);0>X&&(X=0);R>J-1&&(R=J-1);K.o=I;K.g=M;K.f=X;K.l=R;da.fill(0);ca=0;ba=ca+16;for(B=0;B<ea.length;B+=1){na=0;T=ea[B];S=aa[B];for(b=0;b<Y;b+=1)if(r=T[b],L=S[b],r!==L)for(v=15;0<=v;--v){if((r&1<<v)!==(L&1<<v)&&0===(L&1<<v))for(N=ca;N<ba;N+=1)ha=ka[N],ua=na>>2,ha[ua]=0,ha[ua+1]=0,ha[ua+2]=0,ha[ua+3]=0;na+=16}else na+=256;ca+=16;ba+=16}this.ma=E;this.Ib=F;this.Zb=G;this.aa=E};h.prototype.pA=function(){var a=this.pg;
var e=a[0],c=a[1],g=a[2],n=a[3],m=a[4],q=a[5],u=a[6],x=a[7],y=a[8],v=this.Jd,B=this.og,b,l,f,r,w,z,A=this.Aa,C=this.Ha,D,E=this.fa,F,G=this.Hb,H,J,O=0,K=0,M=0,I=this.height,X=this.width,R=X>>4,U=this.H,Y=I,da=-1,V=X,ka=-1,ma=this.va,ea=this.qa>>4,aa=this.md;if(0!==(this.v&1)){var ca=this.Ta;var ba=this.na;var na=this.Z;var ja=this.oa;var T=this.da}else ca=this.Z,ba=this.Ma,na=this.Ta,ja=this.da,T=this.oa;E.fill(0);G.fill(0);var S=0;var W=S+16;T.$a.fill(0);for(w=0;w<ja.length;w+=1){var la=0;var fa=
la+16;var Z=ja[w];var L=T[w];var Q=C[w];var ia=A[w];var P=0<w?T[w-1]:aa;var N=w<ma-1?T[w+1]:aa;for(z=0;z<ea;z+=1)if(D=Z[z]){var ha=L[z];var oa=P[z];var qa=N[z];for(r=15;0<=r;--r){if(0!==(D&1<<r)){var ra=H=F=0;var ua=S;for(J=32768;ua<W;){a=0===ua?this.ld:ca[ua-1];var pa=ca[ua];var sa=ua===this.height-1?this.ld:ca[ua+1];var xa=na[ua];var Ca=32768;var za=la;if(0===za)var wa=f=b=0;else b=a[za-1],f=sa[za-1],wa=pa[za-1];var Da=a[za];var Ea=sa[za];for(l=pa[za];za<fa-1;){var Ba=b;b=Da;Da=a[za+1];var ya=wa;
wa=l;l=pa[za+1];var Ia=f;f=Ea;Ea=sa[za+1];var Ja=wa;var Ma=e[wa];var Fa=c[b];var Ka=g[Da];var ta=n[l];var Aa=m[Ea];var va=q[f];Ia=u[Ia];var Ga=x[ya];var Oa=y[Ba];for(ya=0;ya<B;ya+=1)if(Ba=Ma[ya]&Fa[ya])if(Ba&=Ka[ya]&ta[ya])if(Ba&=Aa[ya]&va[ya])if(Ba&=Ia[ya]&Ga[ya]&Oa[ya]){Fa=0;for(Ka=1;!(Ba&Ka);)Fa+=1,Ka<<=1;Ja=v[(ya<<5)+Fa];break}xa[za]=Ja;0<Ja?(O+=1,0===wa&&(K+=1),H|=J,F|=Ca):0<wa&&(M+=1);Ca>>=1;za+=1}Ba=b;b=Da;ya=wa;wa=l;Ia=f;f=Ea;za===X-1?Ea=l=Da=0:(Da=a[za+1],l=pa[za+1],Ea=sa[za+1]);Ma=e[wa];
Fa=c[b];Ka=g[Da];ta=n[l];Aa=m[Ea];va=q[f];Ia=u[Ia];Ga=x[ya];Oa=y[Ba];Ja=wa;for(ya=0;ya<B;ya+=1)if(Ba=Ma[ya]&Fa[ya])if(Ba&=Ka[ya]&ta[ya])if(Ba&=Aa[ya]&va[ya])if(Ba&=Ia[ya]&Ga[ya]&Oa[ya]){Fa=0;for(Ka=1;!(Ba&Ka);)Fa+=1,Ka<<=1;Ja=v[(ya<<5)+Fa];break}xa[za]=Ja;0<Ja?(O+=1,0===wa&&(K+=1),H|=J,F|=Ca):0<wa&&(M+=1);ua+=1;J>>=1}E[la>>4]|=F;F&&(ha|=1<<r,H&1&&(ra|=t.lb,F&32768&&(ra|=t.Lb),F&1&&(ra|=t.kb)),H&32768&&(ra|=t.zb,F&32768&&(ra|=t.Jb),F&1&&(ra|=t.Kb)),F&32768&&(ra|=t.Bb),F&1&&(ra|=t.Ya),ra&&(0!==(ra&
t.Bb)&&(15>r?ha|=1<<r+1:0<z&&0<la&&(L[z-1]|=1)),0!==(ra&t.Ya)&&(0<r?ha|=1<<r-1:z<ea-1&&la<X-1&&(L[z+1]|=32768)),0!==(ra&t.zb)&&(oa|=1<<r),0!==(ra&t.lb)&&(qa|=1<<r),0!==(ra&t.Jb)&&(15>r?oa|=1<<r+1:0<z&&0<la&&(P[z-1]|=1)),0!==(ra&t.Kb)&&(0<r?oa|=1<<r-1:z<ea-1&&la<X-1&&(P[z+1]|=32768)),0!==(ra&t.Lb)&&(15>r?qa|=1<<r+1:0<z&&0<la&&(N[z-1]|=1)),0!==(ra&t.kb)&&(0<r?qa|=1<<r-1:z<ea-1&&la<X-1&&(N[z+1]|=32768))));G[w]|=H}la+=16;fa+=16}L[z]|=ha;Q[z]=D|ha;ia[z]=ia[z]|D|ha;0<w&&(P[z]|=oa);w<ma-1&&(N[z]|=qa)}else la+=
256,fa+=256;S+=16;W+=16}for(z=0;z<R;z+=1)E[z]&&(z<V&&(V=z),z>ka&&(ka=z));for(w=0;w<G.length;w+=1)G[w]&&(w<Y&&(Y=w),w>da&&(da=w));V=(V<<4)+this.A(E[V]);ka=(ka<<4)+this.K(E[ka]);Y=(Y<<4)+this.A(G[Y]);da=(da<<4)+this.K(G[da]);0>da&&(da=I-1);Y>=I&&(Y=0);V>=X&&(V=0);0>ka&&(ka=X-1);da>I-1&&(da=I-1);0>Y&&(Y=0);0>V&&(V=0);ka>X-1&&(ka=X-1);U.o=da;U.g=Y;U.f=V;U.l=ka;aa.fill(0);S=0;W=S+16;for(w=0;w<ja.length;w+=1){la=0;Z=ja[w];L=T[w];for(z=0;z<ea;z+=1)if(D=Z[z],ha=L[z],D!==ha)for(r=15;0<=r;--r){if((D&1<<r)!==
(ha&1<<r)&&0===(ha&1<<r))for(ua=S;ua<W;ua+=1)pa=ba[ua],za=la>>2,pa[za]=0,pa[za+1]=0,pa[za+2]=0,pa[za+3]=0;la+=16}else la+=256;S+=16;W+=16}this.ma=O;this.Ib=K;this.Zb=M;this.aa=O};h.prototype.Rz=function(){var a=this.pg;var e=a[0],c=a[1],g=a[2],n=a[3],m=a[4],q=a[5],u=a[6],x=this.Jd,y=this.og,v,B,b,l,f,r=this.Aa,w=this.Ha,z,A=this.fa,C,D=this.Hb,E,F,G=0,H=0,J=0,O=this.height,K=this.width,M=K>>4,I=this.H,X=O,R=-1,U=K,Y=-1,da=this.va,V=this.qa>>4,ka=this.md;if(0!==(this.v&1)){var ma=this.Ta;var ea=this.na;
var aa=this.Z;var ca=this.oa;var ba=this.da}else ma=this.Z,ea=this.Ma,aa=this.Ta,ca=this.da,ba=this.oa;A.fill(0);D.fill(0);var na=0;var ja=na+16;ba.$a.fill(0);for(l=0;l<ca.length;l+=1){var T=0;var S=T+16;var W=ca[l];var la=ba[l];var fa=w[l];var Z=r[l];var L=0<l?ba[l-1]:ka;var Q=l<da-1?ba[l+1]:ka;for(f=0;f<V;f+=1)if(z=W[f]){var ia=la[f];var P=L[f];var N=Q[f];for(b=15;0<=b;--b){if(0!==(z&1<<b)){var ha=E=C=0;var oa=na;for(F=32768;oa<ja;){a=0===oa?this.ld:ma[oa-1];var qa=ma[oa];var ra=oa===this.height-
1?this.ld:ma[oa+1];var ua=aa[oa];var pa=32768;var sa=T;if(0===sa)var xa=v=0;else v=a[sa-1],xa=qa[sa-1];var Ca=ra[sa];for(B=qa[sa];sa<S-1;){var za=v;v=a[sa];var wa=xa;xa=B;B=qa[sa+1];var Da=Ca;Ca=ra[sa+1];var Ea=e[xa];var Ba=c[v];var ya=g[B];var Ia=n[Ca];Da=m[Da];var Ja=q[wa];var Ma=u[za];var Fa=xa;for(wa=0;wa<y;wa+=1)if(za=Ea[wa]&Ba[wa])if(za&=ya[wa]&Ia[wa])if(za&=Da[wa]&Ja[wa]&Ma[wa]){Ba=0;for(ya=1;!(za&ya);)Ba+=1,ya<<=1;Fa=x[(wa<<5)+Ba];break}ua[sa]=Fa;0<Fa?(G+=1,0===xa&&(H+=1),E|=F,C|=pa):0<xa&&
(J+=1);pa>>=1;sa+=1}za=v;v=a[sa];wa=xa;xa=B;Da=Ca;sa===K-1?Ca=B=0:(B=qa[sa+1],Ca=ra[sa+1]);Ea=e[xa];Ba=c[v];ya=g[B];Ia=n[Ca];Da=m[Da];Ja=q[wa];Ma=u[za];Fa=xa;for(wa=0;wa<y;wa+=1)if(za=Ea[wa]&Ba[wa])if(za&=ya[wa]&Ia[wa])if(za&=Da[wa]&Ja[wa]&Ma[wa]){Ba=0;for(ya=1;!(za&ya);)Ba+=1,ya<<=1;Fa=x[(wa<<5)+Ba];break}ua[sa]=Fa;0<Fa?(G+=1,0===xa&&(H+=1),E|=F,C|=pa):0<xa&&(J+=1);oa+=1;F>>=1}A[T>>4]|=C;C&&(ia|=1<<b,E&1&&(ha|=t.lb,C&32768&&(ha|=t.Lb),C&1&&(ha|=t.kb)),E&32768&&(ha|=t.zb,C&32768&&(ha|=t.Jb),C&1&&
(ha|=t.Kb)),C&32768&&(ha|=t.Bb),C&1&&(ha|=t.Ya),ha&&(0!==(ha&t.Bb)&&(15>b?ia|=1<<b+1:0<f&&0<T&&(la[f-1]|=1)),0!==(ha&t.Ya)&&(0<b?ia|=1<<b-1:f<V-1&&T<K-1&&(la[f+1]|=32768)),0!==(ha&t.zb)&&(P|=1<<b),0!==(ha&t.lb)&&(N|=1<<b),0!==(ha&t.Jb)&&(15>b?P|=1<<b+1:0<f&&0<T&&(L[f-1]|=1)),0!==(ha&t.Kb)&&(0<b?P|=1<<b-1:f<V-1&&T<K-1&&(L[f+1]|=32768)),0!==(ha&t.Lb)&&(15>b?N|=1<<b+1:0<f&&0<T&&(Q[f-1]|=1)),0!==(ha&t.kb)&&(0<b?N|=1<<b-1:f<V-1&&T<K-1&&(Q[f+1]|=32768))));D[l]|=E}T+=16;S+=16}la[f]|=ia;fa[f]=z|ia;Z[f]=Z[f]|
z|ia;0<l&&(L[f]|=P);l<da-1&&(Q[f]|=N)}else T+=256,S+=256;na+=16;ja+=16}for(f=0;f<M;f+=1)A[f]&&(f<U&&(U=f),f>Y&&(Y=f));for(l=0;l<D.length;l+=1)D[l]&&(l<X&&(X=l),l>R&&(R=l));U=(U<<4)+this.A(A[U]);Y=(Y<<4)+this.K(A[Y]);X=(X<<4)+this.A(D[X]);R=(R<<4)+this.K(D[R]);0>R&&(R=O-1);X>=O&&(X=0);U>=K&&(U=0);0>Y&&(Y=K-1);R>O-1&&(R=O-1);0>X&&(X=0);0>U&&(U=0);Y>K-1&&(Y=K-1);I.o=R;I.g=X;I.f=U;I.l=Y;ka.fill(0);na=0;ja=na+16;for(l=0;l<ca.length;l+=1){T=0;W=ca[l];la=ba[l];for(f=0;f<V;f+=1)if(z=W[f],ia=la[f],z!==ia)for(b=
15;0<=b;--b){if((z&1<<b)!==(ia&1<<b)&&0===(ia&1<<b))for(oa=na;oa<ja;oa+=1)qa=ea[oa],sa=T>>2,qa[sa]=0,qa[sa+1]=0,qa[sa+2]=0,qa[sa+3]=0;T+=16}else T+=256;na+=16;ja+=16}this.ma=G;this.Ib=H;this.Zb=J;this.aa=G};h.prototype.cB=function(){if(4===this.Sf)if(null!==this.ve)switch(this.pv){case 1:this.rB();break;case 2:this.tB();break;case 3:this.uB();break;case 4:this.vv();break;default:this.fv()}else this.fv();else this.oB()};h.prototype.oB=function(){var a=this.Lj,e=this.Mj,c=this.Jk,g,n,m,q,u,x=this.Aa,
y=this.Ha,v,B=this.fa,b,l=this.Hb,f,r,w=0,z=0,A=0,C=this.height,D=this.width,E=D>>4,F=this.H,G=C,H=-1,J=D,O=-1,K=this.va,M=this.qa>>4,I=this.md;if(0!==(this.v&1)){var X=this.Ta;var R=this.na;var U=this.Z;var Y=this.oa;var da=this.da}else X=this.Z,R=this.Ma,U=this.Ta,Y=this.da,da=this.oa;B.fill(0);l.fill(0);var V=0;var ka=V+16;da.$a.fill(0);for(q=0;q<Y.length;q+=1){var ma=0;var ea=Y[q];var aa=da[q];var ca=y[q];var ba=x[q];var na=0<q?da[q-1]:I;var ja=q<K-1?da[q+1]:I;for(u=0;u<M;u+=1)if(v=ea[u]){var T=
aa[u];var S=na[u];var W=ja[u];for(m=15;0<=m;--m){if(0!==(v&1<<m)){var la=f=b=0;var fa=V;for(r=32768;fa<ka;){var Z=0===fa?this.ld:X[fa-1];var L=X[fa];var Q=fa===this.height-1?this.ld:X[fa+1];var ia=U[fa];var P=32768;var N=ma;if(0===N)var ha=n=g=0;else g=Z[N-1],n=Q[N-1],ha=L[N-1];var oa=Z[N];var qa=Q[N];var ra=L[N];var ua=g;g=oa;oa=Z[N+1];var pa=ha;ha=ra;ra=L[N+1];var sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=
1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+
n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;
n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&
(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+
ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];
sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ua=g;g=oa;pa=ha;ha=ra;sa=n;n=qa;N===D-1?qa=ra=oa=0:(oa=Z[N+1],ra=L[N+1],qa=Q[N+1]);pa=e[a[a[a[a[a[a[a[a[c+ua]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=r,b|=P):0<ha&&(A+=1);fa+=1;r>>=1}B[ma>>4]|=b;b&&(T|=1<<m,f&1&&(la|=t.lb,b&32768&&(la|=t.Lb),b&1&&(la|=t.kb)),f&32768&&(la|=t.zb,b&32768&&(la|=t.Jb),b&1&&(la|=t.Kb)),b&32768&&(la|=
t.Bb),b&1&&(la|=t.Ya),la&&(0!==(la&t.Bb)&&(15>m?T|=1<<m+1:0<u&&0<ma&&(aa[u-1]|=1)),0!==(la&t.Ya)&&(0<m?T|=1<<m-1:u<M-1&&ma<D-1&&(aa[u+1]|=32768)),0!==(la&t.zb)&&(S|=1<<m),0!==(la&t.lb)&&(W|=1<<m),0!==(la&t.Jb)&&(15>m?S|=1<<m+1:0<u&&0<ma&&(na[u-1]|=1)),0!==(la&t.Kb)&&(0<m?S|=1<<m-1:u<M-1&&ma<D-1&&(na[u+1]|=32768)),0!==(la&t.Lb)&&(15>m?W|=1<<m+1:0<u&&0<ma&&(ja[u-1]|=1)),0!==(la&t.kb)&&(0<m?W|=1<<m-1:u<M-1&&ma<D-1&&(ja[u+1]|=32768))));l[q]|=f}ma+=16}aa[u]|=T;ca[u]=v|T;ba[u]=ba[u]|v|T;0<q&&(na[u]|=S);
q<K-1&&(ja[u]|=W)}else ma+=256;V+=16;ka+=16}for(u=0;u<E;u+=1)B[u]&&(u<J&&(J=u),u>O&&(O=u));for(q=0;q<l.length;q+=1)l[q]&&(q<G&&(G=q),q>H&&(H=q));J=(J<<4)+this.A(B[J]);O=(O<<4)+this.K(B[O]);G=(G<<4)+this.A(l[G]);H=(H<<4)+this.K(l[H]);0>H&&(H=C-1);G>=C&&(G=0);J>=D&&(J=0);0>O&&(O=D-1);H>C-1&&(H=C-1);0>G&&(G=0);0>J&&(J=0);O>D-1&&(O=D-1);F.o=H;F.g=G;F.f=J;F.l=O;I.fill(0);V=0;ka=V+16;for(q=0;q<Y.length;q+=1){ma=0;ea=Y[q];aa=da[q];for(u=0;u<M;u+=1)if(v=ea[u],T=aa[u],v!==T)for(m=15;0<=m;--m){if((v&1<<m)!==
(T&1<<m)&&0===(T&1<<m))for(fa=V;fa<ka;fa+=1)L=R[fa],N=ma>>2,L[N]=0,L[N+1]=0,L[N+2]=0,L[N+3]=0;ma+=16}else ma+=256;V+=16;ka+=16}this.ma=w;this.Ib=z;this.Zb=A;this.aa=w};h.prototype.rB=function(){var a=this.ve,e,c,g,n=this.Aa,m=this.Ha,q=null,u=null,x,y=this.fa,v,B=this.Hb,b,l,f=0,r=0,w=0,z=this.height,A=this.width,C=A>>4,D=this.H,E=z,F=-1,G=A,H=-1,J=this.va,O=this.qa>>4,K=this.md;if(0!==(this.v&1)){var M=this.Ta;var I=this.na;var X=this.Ma;var R=this.oa;var U=this.da}else M=this.Z,I=this.Ma,X=this.na,
R=this.da,U=this.oa;y.fill(0);B.fill(0);var Y=0;var da=Y+16;U.$a.fill(0);for(c=0;c<R.length;c+=1){var V=0;var ka=R[c];var ma=U[c];var ea=m[c];var aa=n[c];0<c?q=U[c-1]:q=K;c<J-1?u=U[c+1]:u=K;for(g=0;g<O;g+=1)if(x=ka[g]){var ca=ma[g];var ba=q[g];var na=u[g];for(e=15;0<=e;--e){if(0!==(x&1<<e)){var ja=b=v=0;var T=Y;for(l=32768;T<da;){var S=0===T?this.ld:M[T-1];var W=M[T];var la=T===this.height-1?this.ld:M[T+1];var fa=X[T];var Z=32768;var L=V;var Q=S[L];var ia=W[L+1];var P=la[L];var N=0===L?W[L]<<3|ia<<
2|Q<<1|P:W[L-1]<<4|W[L]<<3|ia<<2|Q<<1|P;var ha=a[N];0<ha?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):
0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;ha=a[N];0<ha?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=
1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;ha=a[N];0<ha?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];
ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;ha=a[N];0<ha?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&8)&&(r+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];L===A-1?ia=0:ia=
W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);T+=1;l>>=1}y[V>>4]|=v;v&&(ca|=1<<e,b&1&&(ja|=t.lb,v&32768&&(ja|=t.Lb),v&1&&(ja|=t.kb)),b&32768&&(ja|=t.zb,v&32768&&(ja|=t.Jb),v&1&&(ja|=t.Kb)),v&32768&&(ja|=t.Bb),v&1&&(ja|=t.Ya),ja&&(0!==(ja&t.Bb)&&(15>e?ca|=1<<e+1:0<g&&0<V&&(ma[g-1]|=1)),0!==(ja&t.Ya)&&(0<e?ca|=1<<e-1:g<O-1&&V<A-1&&(ma[g+1]|=32768)),0!==(ja&t.zb)&&(ba|=1<<e),0!==(ja&t.lb)&&(na|=1<<e),0!==(ja&t.Jb)&&(15>
e?ba|=1<<e+1:0<g&&0<V&&(q[g-1]|=1)),0!==(ja&t.Kb)&&(0<e?ba|=1<<e-1:g<O-1&&V<A-1&&(q[g+1]|=32768)),0!==(ja&t.Lb)&&(15>e?na|=1<<e+1:0<g&&0<V&&(u[g-1]|=1)),0!==(ja&t.kb)&&(0<e?na|=1<<e-1:g<O-1&&V<A-1&&(u[g+1]|=32768))));B[c]|=b}V+=16}ma[g]|=ca;ea[g]=x|ca;aa[g]=aa[g]|x|ca;0<c&&(q[g]|=ba);c<J-1&&(u[g]|=na)}else V+=256;Y+=16;da+=16}for(g=0;g<C;g+=1)y[g]&&(g<G&&(G=g),g>H&&(H=g));for(c=0;c<B.length;c+=1)B[c]&&(c<E&&(E=c),c>F&&(F=c));G=(G<<4)+this.A(y[G]);H=(H<<4)+this.K(y[H]);E=(E<<4)+this.A(B[E]);F=(F<<
4)+this.K(B[F]);0>F&&(F=z-1);E>=z&&(E=0);G>=A&&(G=0);0>H&&(H=A-1);F>z-1&&(F=z-1);0>E&&(E=0);0>G&&(G=0);H>A-1&&(H=A-1);D.o=F;D.g=E;D.f=G;D.l=H;K.fill(0);Y=0;da=Y+16;for(c=0;c<R.length;c+=1){V=0;ka=R[c];ma=U[c];for(g=0;g<O;g+=1)if(x=ka[g],ca=ma[g],x!==ca)for(e=15;0<=e;--e){if((x&1<<e)!==(ca&1<<e)&&0===(ca&1<<e))for(T=Y;T<da;T+=1)W=I[T],L=V>>2,W[L]=0,W[L+1]=0,W[L+2]=0,W[L+3]=0;V+=16}else V+=256;Y+=16;da+=16}this.ma=f;this.Ib=r;this.Zb=w;this.aa=f};h.prototype.tB=function(){var a=this.ve,e,c,g,n=this.Aa,
m=this.Ha,q=null,u=null,x,y=this.fa,v,B=this.Hb,b,l,f=0,r=0,w=0,z=this.height,A=this.width,C=A>>4,D=this.H,E=z,F=-1,G=A,H=-1,J=this.va,O=this.qa>>4,K=this.md;if(0!==(this.v&1)){var M=this.Ta;var I=this.na;var X=this.Ma;var R=this.oa;var U=this.da}else M=this.Z,I=this.Ma,X=this.na,R=this.da,U=this.oa;y.fill(0);B.fill(0);var Y=0;var da=Y+16;U.$a.fill(0);for(c=0;c<R.length;c+=1){var V=0;var ka=R[c];var ma=U[c];var ea=m[c];var aa=n[c];0<c?q=U[c-1]:q=K;c<J-1?u=U[c+1]:u=K;for(g=0;g<O;g+=1)if(x=ka[g]){var ca=
ma[g];var ba=q[g];var na=u[g];for(e=15;0<=e;--e){if(0!==(x&1<<e)){var ja=b=v=0;var T=Y;for(l=32768;T<da;){var S=0===T?this.ld:M[T-1];var W=M[T];var la=T===this.height-1?this.ld:M[T+1];var fa=X[T];var Z=32768;var L=V;var Q=S[L];var ia=W[L+1];var P=la[L];var N=0===L?W[L]<<6|ia<<4|Q<<2|P:W[L-1]<<8|W[L]<<6|ia<<4|Q<<2|P;var ha=a[N];0<ha?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,
v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;ha=a[N];0<ha?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|
P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;ha=a[N];0<ha?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=
1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;ha=a[N];0<ha?(f+=1,0===
(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];L===A-1?ia=0:ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&192)&&(r+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);T+=1;l>>=1}y[V>>
4]|=v;v&&(ca|=1<<e,b&1&&(ja|=t.lb,v&32768&&(ja|=t.Lb),v&1&&(ja|=t.kb)),b&32768&&(ja|=t.zb,v&32768&&(ja|=t.Jb),v&1&&(ja|=t.Kb)),v&32768&&(ja|=t.Bb),v&1&&(ja|=t.Ya),ja&&(0!==(ja&t.Bb)&&(15>e?ca|=1<<e+1:0<g&&0<V&&(ma[g-1]|=1)),0!==(ja&t.Ya)&&(0<e?ca|=1<<e-1:g<O-1&&V<A-1&&(ma[g+1]|=32768)),0!==(ja&t.zb)&&(ba|=1<<e),0!==(ja&t.lb)&&(na|=1<<e),0!==(ja&t.Jb)&&(15>e?ba|=1<<e+1:0<g&&0<V&&(q[g-1]|=1)),0!==(ja&t.Kb)&&(0<e?ba|=1<<e-1:g<O-1&&V<A-1&&(q[g+1]|=32768)),0!==(ja&t.Lb)&&(15>e?na|=1<<e+1:0<g&&0<V&&(u[g-
1]|=1)),0!==(ja&t.kb)&&(0<e?na|=1<<e-1:g<O-1&&V<A-1&&(u[g+1]|=32768))));B[c]|=b}V+=16}ma[g]|=ca;ea[g]=x|ca;aa[g]=aa[g]|x|ca;0<c&&(q[g]|=ba);c<J-1&&(u[g]|=na)}else V+=256;Y+=16;da+=16}for(g=0;g<C;g+=1)y[g]&&(g<G&&(G=g),g>H&&(H=g));for(c=0;c<B.length;c+=1)B[c]&&(c<E&&(E=c),c>F&&(F=c));G=(G<<4)+this.A(y[G]);H=(H<<4)+this.K(y[H]);E=(E<<4)+this.A(B[E]);F=(F<<4)+this.K(B[F]);0>F&&(F=z-1);E>=z&&(E=0);G>=A&&(G=0);0>H&&(H=A-1);F>z-1&&(F=z-1);0>E&&(E=0);0>G&&(G=0);H>A-1&&(H=A-1);D.o=F;D.g=E;D.f=G;D.l=H;K.fill(0);
Y=0;da=Y+16;for(c=0;c<R.length;c+=1){V=0;ka=R[c];ma=U[c];for(g=0;g<O;g+=1)if(x=ka[g],ca=ma[g],x!==ca)for(e=15;0<=e;--e){if((x&1<<e)!==(ca&1<<e)&&0===(ca&1<<e))for(T=Y;T<da;T+=1)W=I[T],L=V>>2,W[L]=0,W[L+1]=0,W[L+2]=0,W[L+3]=0;V+=16}else V+=256;Y+=16;da+=16}this.ma=f;this.Ib=r;this.Zb=w;this.aa=f};h.prototype.uB=function(){var a=this.ve,e,c,g,n=this.Aa,m=this.Ha,q=null,u=null,x,y=this.fa,v,B=this.Hb,b,l,f=0,r=0,w=0,z=this.height,A=this.width,C=A>>4,D=this.H,E=z,F=-1,G=A,H=-1,J=this.va,O=this.qa>>4,
K=this.md;if(0!==(this.v&1)){var M=this.Ta;var I=this.na;var X=this.Ma;var R=this.oa;var U=this.da}else M=this.Z,I=this.Ma,X=this.na,R=this.da,U=this.oa;y.fill(0);B.fill(0);var Y=0;var da=Y+16;U.$a.fill(0);for(c=0;c<R.length;c+=1){var V=0;var ka=R[c];var ma=U[c];var ea=m[c];var aa=n[c];0<c?q=U[c-1]:q=K;c<J-1?u=U[c+1]:u=K;for(g=0;g<O;g+=1)if(x=ka[g]){var ca=ma[g];var ba=q[g];var na=u[g];for(e=15;0<=e;--e){if(0!==(x&1<<e)){var ja=b=v=0;var T=Y;for(l=32768;T<da;){var S=0===T?this.ld:M[T-1];var W=M[T];
var la=T===this.height-1?this.ld:M[T+1];var fa=X[T];var Z=32768;var L=V;var Q=S[L];var ia=W[L+1];var P=la[L];var N=0===L?W[L]<<9|ia<<6|Q<<3|P:W[L-1]<<12|W[L]<<9|ia<<6|Q<<3|P;var ha=a[N];0<ha?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&3584)&&(r+=1),
b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;ha=a[N];0<ha?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<
3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;ha=a[N];0<ha?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=
l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;ha=a[N];0<ha?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&
32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];L===A-1?ia=0:ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&3584)&&(r+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);T+=1;l>>=1}y[V>>4]|=v;v&&(ca|=1<<e,b&1&&(ja|=t.lb,v&32768&&(ja|=t.Lb),v&1&&(ja|=t.kb)),b&32768&&
(ja|=t.zb,v&32768&&(ja|=t.Jb),v&1&&(ja|=t.Kb)),v&32768&&(ja|=t.Bb),v&1&&(ja|=t.Ya),ja&&(0!==(ja&t.Bb)&&(15>e?ca|=1<<e+1:0<g&&0<V&&(ma[g-1]|=1)),0!==(ja&t.Ya)&&(0<e?ca|=1<<e-1:g<O-1&&V<A-1&&(ma[g+1]|=32768)),0!==(ja&t.zb)&&(ba|=1<<e),0!==(ja&t.lb)&&(na|=1<<e),0!==(ja&t.Jb)&&(15>e?ba|=1<<e+1:0<g&&0<V&&(q[g-1]|=1)),0!==(ja&t.Kb)&&(0<e?ba|=1<<e-1:g<O-1&&V<A-1&&(q[g+1]|=32768)),0!==(ja&t.Lb)&&(15>e?na|=1<<e+1:0<g&&0<V&&(u[g-1]|=1)),0!==(ja&t.kb)&&(0<e?na|=1<<e-1:g<O-1&&V<A-1&&(u[g+1]|=32768))));B[c]|=
b}V+=16}ma[g]|=ca;ea[g]=x|ca;aa[g]=aa[g]|x|ca;0<c&&(q[g]|=ba);c<J-1&&(u[g]|=na)}else V+=256;Y+=16;da+=16}for(g=0;g<C;g+=1)y[g]&&(g<G&&(G=g),g>H&&(H=g));for(c=0;c<B.length;c+=1)B[c]&&(c<E&&(E=c),c>F&&(F=c));G=(G<<4)+this.A(y[G]);H=(H<<4)+this.K(y[H]);E=(E<<4)+this.A(B[E]);F=(F<<4)+this.K(B[F]);0>F&&(F=z-1);E>=z&&(E=0);G>=A&&(G=0);0>H&&(H=A-1);F>z-1&&(F=z-1);0>E&&(E=0);0>G&&(G=0);H>A-1&&(H=A-1);D.o=F;D.g=E;D.f=G;D.l=H;K.fill(0);Y=0;da=Y+16;for(c=0;c<R.length;c+=1){V=0;ka=R[c];ma=U[c];for(g=0;g<O;g+=
1)if(x=ka[g],ca=ma[g],x!==ca)for(e=15;0<=e;--e){if((x&1<<e)!==(ca&1<<e)&&0===(ca&1<<e))for(T=Y;T<da;T+=1)W=I[T],L=V>>2,W[L]=0,W[L+1]=0,W[L+2]=0,W[L+3]=0;V+=16}else V+=256;Y+=16;da+=16}this.ma=f;this.Ib=r;this.Zb=w;this.aa=f};h.prototype.vv=function(){var a=this.ve,e,c,g,n=this.Aa,m=this.Ha,q=null,u=null,x,y=this.fa,v,B=this.Hb,b,l,f=0,r=0,w=0,z=this.height,A=this.width,C=A>>4,D=this.H,E=z,F=-1,G=A,H=-1,J=this.va,O=this.qa>>4,K=this.md;if(0!==(this.v&1)){var M=this.Ta;var I=this.na;var X=this.Ma;var R=
this.oa;var U=this.da}else M=this.Z,I=this.Ma,X=this.na,R=this.da,U=this.oa;y.fill(0);B.fill(0);var Y=0;var da=Y+16;U.$a.fill(0);for(c=0;c<R.length;c+=1){var V=0;var ka=R[c];var ma=U[c];var ea=m[c];var aa=n[c];0<c?q=U[c-1]:q=K;c<J-1?u=U[c+1]:u=K;for(g=0;g<O;g+=1)if(x=ka[g]){var ca=ma[g];var ba=q[g];var na=u[g];for(e=15;0<=e;--e){if(0!==(x&1<<e)){var ja=b=v=0;var T=Y;for(l=32768;T<da;){var S=0===T?this.ld:M[T-1];var W=M[T];var la=T===this.height-1?this.ld:M[T+1];var fa=X[T];var Z=32768;var L=V;var Q=
S[L];var ia=W[L+1];var P=la[L];var N=0===L?W[L]<<12|ia<<8|Q<<4|P:W[L-1]<<16|W[L]<<12|ia<<8|Q<<4|P;var ha=a[N];0<ha?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];
N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;ha=a[N];0<ha?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&
61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;ha=a[N];0<ha?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=
S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;ha=a[N];0<ha?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=
Q<<8;0<Q?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];L===A-1?ia=0:ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&61440)&&(r+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);T+=1;l>>=1}y[V>>4]|=v;v&&(ca|=1<<e,b&1&&(ja|=t.lb,v&32768&&(ja|=t.Lb),v&1&&(ja|=t.kb)),b&32768&&(ja|=t.zb,v&32768&&
(ja|=t.Jb),v&1&&(ja|=t.Kb)),v&32768&&(ja|=t.Bb),v&1&&(ja|=t.Ya),ja&&(0!==(ja&t.Bb)&&(15>e?ca|=1<<e+1:0<g&&0<V&&(ma[g-1]|=1)),0!==(ja&t.Ya)&&(0<e?ca|=1<<e-1:g<O-1&&V<A-1&&(ma[g+1]|=32768)),0!==(ja&t.zb)&&(ba|=1<<e),0!==(ja&t.lb)&&(na|=1<<e),0!==(ja&t.Jb)&&(15>e?ba|=1<<e+1:0<g&&0<V&&(q[g-1]|=1)),0!==(ja&t.Kb)&&(0<e?ba|=1<<e-1:g<O-1&&V<A-1&&(q[g+1]|=32768)),0!==(ja&t.Lb)&&(15>e?na|=1<<e+1:0<g&&0<V&&(u[g-1]|=1)),0!==(ja&t.kb)&&(0<e?na|=1<<e-1:g<O-1&&V<A-1&&(u[g+1]|=32768))));B[c]|=b}V+=16}ma[g]|=ca;ea[g]=
x|ca;aa[g]=aa[g]|x|ca;0<c&&(q[g]|=ba);c<J-1&&(u[g]|=na)}else V+=256;Y+=16;da+=16}for(g=0;g<C;g+=1)y[g]&&(g<G&&(G=g),g>H&&(H=g));for(c=0;c<B.length;c+=1)B[c]&&(c<E&&(E=c),c>F&&(F=c));G=(G<<4)+this.A(y[G]);H=(H<<4)+this.K(y[H]);E=(E<<4)+this.A(B[E]);F=(F<<4)+this.K(B[F]);0>F&&(F=z-1);E>=z&&(E=0);G>=A&&(G=0);0>H&&(H=A-1);F>z-1&&(F=z-1);0>E&&(E=0);0>G&&(G=0);H>A-1&&(H=A-1);D.o=F;D.g=E;D.f=G;D.l=H;K.fill(0);Y=0;da=Y+16;for(c=0;c<R.length;c+=1){V=0;ka=R[c];ma=U[c];for(g=0;g<O;g+=1)if(x=ka[g],ca=ma[g],x!==
ca)for(e=15;0<=e;--e){if((x&1<<e)!==(ca&1<<e)&&0===(ca&1<<e))for(T=Y;T<da;T+=1)W=I[T],L=V>>2,W[L]=0,W[L+1]=0,W[L+2]=0,W[L+3]=0;V+=16}else V+=256;Y+=16;da+=16}this.ma=f;this.Ib=r;this.Zb=w;this.aa=f};h.prototype.fv=function(){var a=this.Lj,e=this.Mj,c=this.Jk,g=0,n,m,q,u=this.Aa,x=this.Ha,y,v=this.fa,B,b=this.Hb,l,f,r=0,w=0,z=0,A=this.height,C=this.width,D=C>>4,E=this.H,F=A,G=-1,H=C,J=-1,O=this.va,K=this.qa>>4,M=this.md;if(0!==(this.v&1)){var I=this.Ta;var X=this.na;var R=this.Ma;var U=this.oa;var Y=
this.da}else I=this.Z,X=this.Ma,R=this.na,U=this.da,Y=this.oa;v.fill(0);b.fill(0);var da=0;var V=da+16;Y.$a.fill(0);for(m=0;m<U.length;m+=1){var ka=0;var ma=U[m];var ea=Y[m];var aa=x[m];var ca=u[m];var ba=0<m?Y[m-1]:M;var na=m<O-1?Y[m+1]:M;for(q=0;q<K;q+=1)if(y=ma[q]){var ja=ea[q];var T=ba[q];var S=na[q];for(n=15;0<=n;--n){if(0!==(y&1<<n)){var W=l=B=0;var la=da;for(f=32768;la<V;){var fa=0===la?this.ld:I[la-1];var Z=I[la];var L=la===this.height-1?this.ld:I[la+1];var Q=R[la];var ia=32768;var P=ka;0===
P?g=0:g=Z[P-1];var N=Z[P];var ha=g;g=N;var oa=fa[P];N=Z[P+1];var qa=L[P];var ra=oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<8;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<16;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+
oa]+ha]+N]+qa]+g];ra|=oa<<24;Q[P>>2]=ra;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];ra=oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<8;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<16;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=
1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<24;Q[P>>2]=ra;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];ra=oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<8;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=
oa<<16;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<24;Q[P>>2]=ra;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];ra=oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<8;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=
fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<16;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];P===C-1?N=0:N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<24;Q[P>>2]=ra;0<oa?(r+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);la+=1;f>>=1}v[ka>>4]|=B;B&&(ja|=1<<n,l&1&&(W|=t.lb,B&32768&&(W|=t.Lb),B&1&&(W|=t.kb)),l&32768&&(W|=t.zb,B&32768&&(W|=t.Jb),B&1&&(W|=t.Kb)),B&32768&&(W|=t.Bb),B&1&&(W|=t.Ya),W&&(0!==(W&t.Bb)&&(15>n?ja|=1<<n+1:0<q&&0<ka&&(ea[q-
1]|=1)),0!==(W&t.Ya)&&(0<n?ja|=1<<n-1:q<K-1&&ka<C-1&&(ea[q+1]|=32768)),0!==(W&t.zb)&&(T|=1<<n),0!==(W&t.lb)&&(S|=1<<n),0!==(W&t.Jb)&&(15>n?T|=1<<n+1:0<q&&0<ka&&(ba[q-1]|=1)),0!==(W&t.Kb)&&(0<n?T|=1<<n-1:q<K-1&&ka<C-1&&(ba[q+1]|=32768)),0!==(W&t.Lb)&&(15>n?S|=1<<n+1:0<q&&0<ka&&(na[q-1]|=1)),0!==(W&t.kb)&&(0<n?S|=1<<n-1:q<K-1&&ka<C-1&&(na[q+1]|=32768))));b[m]|=l}ka+=16}ea[q]|=ja;aa[q]=y|ja;ca[q]=ca[q]|y|ja;0<m&&(ba[q]|=T);m<O-1&&(na[q]|=S)}else ka+=256;da+=16;V+=16}for(q=0;q<D;q+=1)v[q]&&(q<H&&(H=q),
q>J&&(J=q));for(m=0;m<b.length;m+=1)b[m]&&(m<F&&(F=m),m>G&&(G=m));H=(H<<4)+this.A(v[H]);J=(J<<4)+this.K(v[J]);F=(F<<4)+this.A(b[F]);G=(G<<4)+this.K(b[G]);0>G&&(G=A-1);F>=A&&(F=0);H>=C&&(H=0);0>J&&(J=C-1);G>A-1&&(G=A-1);0>F&&(F=0);0>H&&(H=0);J>C-1&&(J=C-1);E.o=G;E.g=F;E.f=H;E.l=J;M.fill(0);da=0;V=da+16;for(m=0;m<U.length;m+=1){ka=0;ma=U[m];ea=Y[m];for(q=0;q<K;q+=1)if(y=ma[q],ja=ea[q],y!==ja)for(n=15;0<=n;--n){if((y&1<<n)!==(ja&1<<n)&&0===(ja&1<<n))for(la=da;la<V;la+=1)Z=X[la],P=ka>>2,Z[P]=0,Z[P+1]=
0,Z[P+2]=0,Z[P+3]=0;ka+=16}else ka+=256;da+=16;V+=16}this.ma=r;this.Ib=w;this.Zb=z;this.aa=r};h.prototype.ez=function(){var a=this.ce,e=this.H,c=this.Vd,g=c.f;var n=c.g;var m=c.l,q=c.o,u=0,x=0,y=0,v=this.width,B=this.height,b=0,l=0,f=this.width,r=this.height,w=0,z=0,A=this.Aa,C,D=this.$g,E=this.J,F=0<this.J?1:0;var G=this.ua;var H=this.ra;var J=Math.round((this.width-G)/2);var O=Math.round((this.height-H)/2);-1!==this.sa&&(g=J+1,n=O+1,m=J+G-1-1,q=O+H-1-1);this.Uc&&(this.Tc=!this.Tc,this.Uc=!1);this.aa=
0;0!==(this.v&1)?(G=this.Ta,H=this.Z,this.Tc&&(a=this.zc)):(G=this.Z,H=this.Ta,this.pc&&(a=this.sf),this.Tc&&(a=this.pc?this.de:this.zc));1>n&&(n=1);q>this.height-2&&(q=this.height-2);1>g&&(g=1);m>this.width-2&&(m=this.width-2);for(--n;n<=q+1;n+=1){O=G[n-1];var K=G[n];var M=G[n+1];var I=A[n>>4];var X=H[n];var R=C=!1;var U=K[g-2];for(J=g-1;J<=m+1;J+=1){var Y=M[J];var da=K[J+1];var V=O[J];0<E&&(Y=Y<=E?0:Y-E,da=da<=E?0:da-E,V=V<=E?0:V-E,U=U<=E?0:U-E);U=U|Y<<4|da<<8|V<<12;Y=a[U];U=K[J];0<Y?(u+=D[Y],X[J]=
Y+E,C=!0,I[J>>8]=65535,J<v&&(v=J),J>b&&(b=J)):(Y=U,Y>E?Y=E:Y>F&&--Y,X[J]=Y,0<Y&&(C=!0,J<v&&(v=J),J>b&&(b=J)),Y=0);U>E?(U-=E,x+=D[Y&~U],y+=D[U&~Y],U+=E):x+=D[Y];0<Y&&(J<f&&(f=J),J>w&&(w=J),R=!0)}C&&(n<B&&(B=n),n>l&&(l=n));R&&(n<r&&(r=n),n>z&&(z=n))}this.ma=u;this.Ib=x;this.Zb=y;this.aa=u;c.f=v;c.g=B;c.l=b;c.o=l;e.f=f;e.g=r;e.l=w;e.o=z};h.prototype.Ov=function(){var a=this.dk,e=this.Aa,c=this.Ha,g,n,m;var q=this.va;var u=this.qa>>4;var x=0;var y=q;this.aa=0;if(0!==(this.v&1)){var v=this.dc;var B=this.oa}else v=
this.qb,B=this.da;0>x&&(x=0);y>q&&(y=q);q=x<<4;var b=q+16;for(g=x;g<y;g+=1){var l=0;var f=B[g];var r=c[g];var w=e[g];for(n=0;n<u;n+=1){var z=f[n]|w[n];var A=0;if(z)for(m=15;0<=m;--m){if(0!==(z&1<<m)){var C=0;for(x=q;x<b;){var D=v[x];var E=a[x];var F=l<<3;D=D[l];this.aa|=D;C|=D;E[F]=(D&32768)>>9|D&16384;F+=1;E[F]=(D&8192)>>7|(D&4096)<<2;F+=1;E[F]=(D&2048)>>5|(D&1024)<<4;F+=1;E[F]=(D&512)>>3|(D&256)<<6;F+=1;E[F]=(D&128)>>1|(D&64)<<8;F+=1;E[F]=(D&32)<<1|(D&16)<<10;F+=1;E[F]=(D&8)<<3|(D&4)<<12;F+=1;E[F]=
(D&2)<<5|(D&1)<<14;x+=1}C&&(A|=1<<m)}l+=1}else l+=16;r[n]=A;w[n]|=A}q+=16;b+=16}};h.prototype.Pv=function(){var a=this.dk,e=this.Aa,c=this.Ha,g=this.As,n,m,q;var u=this.va;var x=this.qa>>4;var y=0;var v=u;this.aa=0;if(0!==(this.v&1)){var B=this.dc;var b=this.oa}else B=this.qb,b=this.da;0>y&&(y=0);v>u&&(v=u);u=y<<4;var l=u+16;for(n=y;n<v;n+=1){var f=0;var r=b[n];var w=c[n];var z=e[n];for(m=0;m<x;m+=1){var A=r[m]|w[m];var C=0;if(A)for(q=15;0<=q;--q){if(0!==(A&1<<q)){var D=0;for(y=u;y<l;){var E=B[y];
var F=a[y];var G=f<<3;E=E[f];this.aa|=E;var H=g[F[G]|(E&32768)>>8|(E&16384)<<1];D|=H;F[G]=H;G+=1;H=g[F[G]|(E&8192)>>6|(E&4096)<<3];D|=H;F[G]=H;G+=1;H=g[F[G]|(E&2048)>>4|(E&1024)<<5];D|=H;F[G]=H;G+=1;H=g[F[G]|(E&512)>>2|(E&256)<<7];D|=H;F[G]=H;G+=1;H=g[F[G]|E&128|(E&64)<<9];D|=H;F[G]=H;G+=1;H=g[F[G]|(E&32)<<2|(E&16)<<11];D|=H;F[G]=H;G+=1;H=g[F[G]|(E&8)<<4|(E&4)<<13];D|=H;F[G]=H;G+=1;H=g[F[G]|(E&2)<<6|(E&1)<<15];D|=H;F[G]=H;y+=1}if(1<(D&255)||1<D>>8)C|=1<<q}f+=1}else f+=16;w[m]=C;z[m]|=C}u+=16;l+=16}};
h.prototype.OF=function(a,e,c,g,n,m,q,u,x,y){var v=this.xf;g=g*a+v.o;c=c*a+v.l;e=e*a+v.g;n=n*a+v.f;v=c-n+1;a=g-e+1;this.R&&(v=c-e/2-(n-g/2)+1);0===v&&(v=1);0===a&&(a=1);m/=v;q/=a;y=Math.round(1E3*(m>q?q:m)/y)/1E3;y<u?y=u:y>x&&(y=x);return y};h.prototype.Px=function(a){var e=a;1>a&&(e=1/a);var c=Math.round(e);(c<e?c/e:e/c)>=ViewConstants.yI&&(a=1>a?1/c:c);return a};h.prototype.zg=function(a,e,c,g,n,m,q,u,x,y,v,B,b,l,f,r,w,z,A){var C=this.H,D=this.xf,E=this.Vd,F=this.js,G=this.Z;(this.G||this.Y)&&0!==
(this.v&1)&&(G=this.Ta);b?(F.o=r*c+D.o,F.l=f*c+D.l,F.g=l*c+D.g,F.f=w*c+D.f,B&&(E.f<F.f&&(F.f=E.f),E.g<F.g&&(F.g=E.g),E.l>F.l&&(F.l=E.l),E.o>F.o&&(F.o=E.o)),C=F):B?C=E:this.za&&(C=this.Fa);a===ViewConstants.it?(c=e.f,B=e.l,b=e.o,e=e.g):(c=C.f,B=C.l,b=C.o,e=C.g,this.rb&&!z&&(D.f<c&&(c=D.f),D.l>B&&(B=D.l),D.o>b&&(b=D.o),D.g<e&&(e=D.g)),-1!==this.sa&&(D=this.ua,z=this.ra,0<D&&(this.width/2-D/2<c&&(c=this.width/2-D/2),this.width/2+D/2>B&&(B=this.width/2+D/2)),0<z&&(this.height/2-z/2<e&&(e=this.height/
2-z/2),this.height/2+z/2>b&&(b=this.height/2+z/2))));v?(D=x,z=y,c=this.width/2-D/2,B=this.width/2+D/2,b=this.height/2+z/2,e=this.height/2-z/2):(D=B-c+1,z=b-e+1);if(this.R){if(a===ViewConstants.it)c-=b/2,B-=e/2;else{D=2*(this.width+this.height);C=-D;for(v=e;v<=b;v+=1)for(x=G[v],y=c;y<=B;y+=1)l=x[y],0<l&&(l=y-v/2,l<D&&(D=l),l>C&&(C=l));c=D;B=C;c>B&&(G=c,c=B,B=G)}D=B-c+1}0===D&&(D=1);0===z&&(z=1);g/=D;n/=z;this.$&&4<=this.zoom&&(n/=ViewConstants.Xi);u=Math.round(1E3*(g>n?n:g)/u)/1E3;u/=this.Jc;u<m?u=
m:u>q&&(u=q);m=e-this.Pb+z/2;q=c-this.Rb+D/2;A||(u=this.Px(u));a===ViewConstants.uC&&(u=this.zoom);return[u,q,m]};h.prototype.dw=function(a,e,c,g){var n=this.Sd,m=this.C,q=this.B;if(a>e){var u=e;e=a;a=u}0>a?a=0:a>=m&&(a=m-1);0>e?e=0:e>=m&&(e=m-1);0<=c&&c<q&&n.fill(g,c*m+a,c*m+e)};h.prototype.gw=function(a,e,c,g){var n=this.Sd,m=this.C,q=this.B;if(e>c){var u=c;c=e;e=u}0>e?e=0:e>=q&&(e=q-1);0>c?c=0:c>=q&&(c=q-1);e=e*m+a;c=c*m+a;q=c-15*m;if(0<=a&&a<m){for(;e<=q;)n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=
g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m;for(;e<=c;)n[e]=g,e+=m}};h.prototype.cw=function(a,e,c,g,n){var m=Math.abs(c-a),q=Math.abs(g-e),u=a<c?1:-1,x=e<g?1:-1,y=m-q,v=this.C,B=this.B,b=this.Sd;if(!(0>a&&0>c||a>=v&&c>=v||0>e&&0>g||e>=B&&g>=B))if(0<=a&&a<v&&0<=e&&e<B&&0<=c&&c<v&&0<=g&&g<B)for(b[e*v+a]=n;a!==c||e!==g;){var l=y+y;l>-q&&(y-=q,a+=u);l<m&&(y+=m,e+=x);b[e*v+a]=n}else for(0<=a&&a<
v&&0<=e&&e<B&&(b[e*v+a]=n);a!==c||e!==g;)l=y+y,l>-q&&(y-=q,a+=u),l<m&&(y+=m,e+=x),0<=a&&a<v&&0<=e&&e<B&&(b[e*v+a]=n)};h.prototype.mj=function(a,e,c,g,n){var m=this.C/2,q=this.B/2;if(0!==this.gb){a-=m;e-=q;var u=Math.sqrt(a*a+e*e);var x=180/Math.PI*Math.atan2(e,a);x+=this.gb;a=Math.round(u*Math.cos(Math.PI/180*x)+m);e=Math.round(u*Math.sin(Math.PI/180*x)+q);c-=m;g-=q;u=Math.sqrt(c*c+g*g);x=180/Math.PI*Math.atan2(g,c);x+=this.gb;c=Math.round(u*Math.cos(Math.PI/180*x)+m);g=Math.round(u*Math.sin(Math.PI/
180*x)+q)}a===c?this.gw(a,e,g,n):e===g?this.dw(a,c,e,n):this.cw(a,e,c,g,n)};h.prototype.dl=function(a,e,c,g,n){var m=a.cf,q=a.bf,u=0,x=0,y=this.context;var v=this.zoom;var B=this.zoom*(this.$&&4<=v?ViewConstants.Xi:1);var b=(this.width>>1)-(a.pb>>1);var l=(this.height>>1)-(a.sb>>1);var f=a.Lc-this.pa,r=a.Kc-this.xa-(this.R?this.pa/2:0),w=[0,0];switch(g){case ViewConstants.eE:e-=m>>1;break;case ViewConstants.fE:e-=m-1;break;case ViewConstants.jE:c-=q>>1;break;case ViewConstants.dE:e-=m>>1;c-=q>>1;
break;case ViewConstants.cE:e-=m-1;c-=q>>1;break;case ViewConstants.iE:c-=q-1;break;case ViewConstants.gE:e-=m>>1;c-=q-1;break;case ViewConstants.hE:e-=m-1,c-=q-1}var z=B*(c-l+f-this.Pb+a.Lc)+a.B/2;g=v*(e-b+r-this.Rb+a.Kc)+a.C/2+(this.R?(a.B/2-z)/2:0);var A=B*(c+q-l+f-this.Pb+a.Lc)+a.B/2;var C=v*(e+m-b+r-this.Rb+a.Kc)+a.C/2+(this.R?(a.B/2-A)/2:0);y.fillStyle=n;y.globalAlpha=.5;if(this.R)if(this.te&&4<=this.zoom)this.Bu(e,c,e+m-1,c+q-1,b,l);else{y.beginPath();for(n=0;n<q;n+=1)y.moveTo(g,z),y.lineTo(g+
m*v+1,z),y.lineTo(g+m*v+1,z+B+1),y.lineTo(g,z+B+1),g-=B/2,z+=B;y.fill()}else this.$&&4<=this.zoom?this.Ku(e,c,e+m-1,c+q-1,b,l):(y.beginPath(),this.Se(g,z,w),y.moveTo(w[0],w[1]),this.Se(C+1,z,w),y.lineTo(w[0],w[1]),this.Se(C+1,A+1,w),y.lineTo(w[0],w[1]),this.Se(g,A+1,w),y.lineTo(w[0],w[1]),y.fill());if(1<=this.zoom){if(0<this.gb){var D=Math.cos(this.gb/180*Math.PI)*this.ja;var E=Math.sin(this.gb/180*Math.PI)*this.ja;var F=Math.cos((this.gb+90)/180*Math.PI)*this.ja;var G=Math.sin((this.gb+90)/180*Math.PI)*
this.ja}else D=this.ja,F=E=0,G=D;z=B*(c+x-l+f-this.Pb+a.Lc)+a.B/2;g=v*(e+u-b+r-this.Rb+a.Kc)+a.C/2+(this.R?(a.B/2-z)/2:0);0!==this.gb&&(this.Se(g,z,w),g=w[0],z=w[1]);C=g;A=z;y.fillStyle="rgb(255, 128, 0)";if(this.R&&this.te&&4<=this.zoom)this.ew(e,c,e+m-1,c+q-1,b,l,a.ob);else if(this.$&&4<=this.zoom)this.fw(e,c,e+m-1,c+q-1,b,l,a.ob);else{y.beginPath();for(x=n=0;x<q;x+=1){g=C;for(u=0;u<m;u+=1)e=a.ob[n],n+=1,e&&(e=g+D,c=z+E,v=e+F,B=c+G,b=v-D,l=B-E,0>g&&0>e&&0>v&&0>b||g>=a.C&&e>=a.C&&v>=a.C&&b>=a.C||
0>z&&0>c&&0>B&&0>l||z>=a.B&&c>=a.B&&B>=a.B&&l>=a.B||(y.moveTo(g,z),y.lineTo(e,c),y.lineTo(v,B),y.lineTo(b,l))),g+=D,z+=E;C+=F;z=A+=G;this.R&&(C-=G/2)}y.fill()}}};h.prototype.Se=function(a,e,c){var g=this.C/2,n=this.B/2;if(0!==this.gb){a-=g;e-=n;var m=Math.sqrt(a*a+e*e);e=180/Math.PI*Math.atan2(e,a);e+=this.gb;a=Math.round(m*Math.cos(Math.PI/180*e)+g);e=Math.round(m*Math.sin(Math.PI/180*e)+n)}c[0]=a;c[1]=e};h.prototype.LH=function(a){var e=a.ng+.5|0,c=(this.width>>1)-(a.pb>>1)+(a.Mb<<1),g=(this.height>>
1)-(a.sb>>1)+(a.Nb<<1);(a.vb||a.xj)&&this.Yv(a,a.Gb,this.Vz);a.ie&&(-1!==this.sa&&a.Mg?this.dl(a,a.no.f-a.pb,a.no.g-a.sb,ViewConstants.Qo,this.ms):this.dl(a,a.no.f,a.no.g,ViewConstants.Qo,this.ms));if(a.bd){var n=a.s.zk;var m=a.s.Ak;-1!==n&&(a.gv(n,m),-1!==this.sa&&a.Mg&&(c+=a.pb,g+=a.sb),this.dl(a,a.tj-c,a.uj-g,e,this.Dy))}};h.prototype.Yv=function(a,e,c){var g=this.context,n=this.zoom,m=this.zoom*(this.$&&4<=n?ViewConstants.Xi:1),q=e.f,u=e.g,x=e.l;e=e.o;var y=(this.width>>1)-(a.pb>>1),v=(this.height>>
1)-(a.sb>>1),B=a.Lc-this.pa,b=a.Kc-this.xa-(this.R?this.pa/2:0),l=[0,0],f=a.Gb;if(q>x){var r=q;q=x;x=r}u>e&&(r=u,u=e,e=r);r=x-q+1;var w=e-u+1;-1!==this.sa&&a.Mg&&(v+=a.sb,y+=a.pb);u=m*(u-v+B-this.Pb+a.Lc)+a.B/2;q=n*(q-y+b-this.Rb+a.Kc)+a.C/2+(this.R?(a.B/2-u)/2:0);e=m*(e+1-v+B-this.Pb+a.Lc)+a.B/2;x=n*(x+1-y+b-this.Rb+a.Kc)+a.C/2+(this.R?(a.B/2-e)/2:0);g.fillStyle=c;g.globalAlpha=.5;if(this.R)if(this.te&&4<=this.zoom)this.Bu(f.f,f.g,f.l,f.o,y,v);else{g.beginPath();r*=n;for(a=0;a<w;a+=1)g.moveTo(q,
u),g.lineTo(q+r+1,u),g.lineTo(q+r+1,u+m+1),g.lineTo(q,u+m+1),q-=m/2,u+=m;g.fill()}else this.$&&4<=this.zoom?this.Ku(f.f,f.g,f.l,f.o,y,v):(g.beginPath(),this.Se(q,u,l),g.moveTo(l[0],l[1]),this.Se(x+1,u,l),g.lineTo(l[0],l[1]),this.Se(x+1,e+1,l),g.lineTo(l[0],l[1]),this.Se(q,e+1,l),g.lineTo(l[0],l[1]),g.fill());g.globalAlpha=1};h.prototype.Pd=function(){var a,e=this.C,c=this.B,g=this.ki,n=this.ej,m=this.ja,q=g,u,x=0<this.vf&&this.pk,y=this.v&1,v=((this.height/2-(this.pa+this.Pb))*m+c/2)%m,B=((this.width/
2-(this.xa+this.Rb))*m+e/2)%m;if(this.Wb)var b=x?2:1;else b=1,x=!1,q=g=this.Fe[0];var l=g;for(this.ia&&2===this.vf&&this.il||(y=0);b;){var f=-(e/2/m)-(this.width/2-this.xa-this.Rb)|0;var r=22*-m;var w=e+m+22*m;var z=v-22*m;var A=c+22*m;var C=-e/1.5;var D=e+e/1.5;var E=-c/1.5;for(u=c+c/1.5;r<=w;r+=m)if(x&&(0===(f+y)%this.vf?q=n:q=g),f+=1,q===l)if(this.R){var F=-(c/2/m)-(this.height/2-this.pa-this.Pb)|0;for(a=z;a<A;a+=m)0===(F&1)?this.mj(Math.round(r+B),Math.round(a),Math.round(r+B),Math.round(a+m-
1),q):this.mj(Math.round(r+B+m/2),Math.round(a),Math.round(r+B+m/2),Math.round(a+m-1),q),F+=1}else this.mj(Math.round(r+B),E,Math.round(r+B),u-1,q);f=-(c/2/m)-(this.height/2-this.pa-this.Pb)|0;for(a=z;a<A;a+=m)x&&(0===(f+y)%this.vf?q=n:q=g),f+=1,q===l&&this.mj(C,Math.round(a),D-1,Math.round(a),q);--b;l=n}};h.prototype.ah=function(){return 4<=this.ja};h.prototype.gx=function(a,e){var c=this.ua,g=this.ra,n=this.ia?-1:0,m=Math.round((this.width-c)/2-1)+n,q=m+c+1,u=Math.round((this.height-g)/2-1)+n;n=
u+g+1;var x=a[u],y=a[n];if(0===c)x.fill(e,0,this.width),y.fill(e,0,this.width);else if(0===g)for(c=0;c<this.height;c+=1)a[c][m]=e,a[c][q]=e;else for(x.fill(e,m,q+1),y.fill(e,m,q+1),c=u+1;c<=n-1;c+=1)a[c][m]=e,a[c][q]=e};h.prototype.RJ=function(a,e){var c=this.Fe[0],g=this.Sd,n=this.Z,m=this.dk,q=this.Ma;this.lj=!0;(this.G||this.Y)&&0!==(this.v&1)&&(n=this.Ta,m=this.vh,q=this.na);this.Om&&(this.dC(),--this.Om,this.Om||(this.Ne.set(this.zd),this.gd.set(this.Dc),this.Te.set(this.xe),this.kh.set(this.Mf),
this.Re.set(this.be),this.yh.set(this.Cg)));this.ja=this.zoom*this.Jc;this.ja<ViewConstants.wa?this.ja=ViewConstants.wa:this.ja>ViewConstants.Na&&(this.ja=ViewConstants.Na);this.fe=this.xa+this.Rb;this.ge=this.pa+this.Pb;this.j=this.le/2+1;this.gb=this.R||this.$?0:this.angle;-1!==this.sa&&this.gx(n,this.ec);4<=this.ja&&(this.te&&this.R||this.$)?(g.fill(c),this.Ed(1)):(1>this.ja&&this.Xv(m,q),.125>this.ja?this.yg?this.pi(this.hb,this.W,15,a,e):this.ri(this.W,this.W,15,a,e):.25>this.ja?this.yg?this.pi(this.hb,
this.W,7,a,e):this.ri(this.W,this.W,7,a,e):.5>this.ja?this.yg?this.pi(this.hb,this.W,3,a,e):this.ri(this.W,this.W,3,a,e):1>this.ja?this.yg?this.pi(this.hb,this.W,1,a,e):this.ri(this.W,this.W,1,a,e):this.yg?this.pi(this.ic,n,0,a,e):this.ri(n,n,0,a,e))};h.prototype.fG=function(a,e,c,g){var n=this.C>>3,m=this.Fe,q=this.Sd,u,x,y=1,v=1,B=0,b=this.xb&~c,l=this.Ab&~c,f=~c,r=~c,w=a,z=this.ja;1<this.j&&(y=this.M);a=Math.sin(this.gb/180*Math.PI)/this.ja;var A=Math.cos(this.gb/180*Math.PI)/this.ja;var C=-(this.C/
2*-a+this.B/2*A)+this.ge;var D=-(this.C/2*A+this.B/2*a)+this.fe;1<this.M&&1<this.j&&(B=.4/(this.M-1),v=.6);this.Ed(v);var E=this.width<this.ga?m[0]|0:this.nl|0;var F=0;var G=C;for(u=0;u<this.B;u+=1){var H=D;for(x=0;x<n;x+=1){if((H&f)===(H&b)&&(G&r)===(G&l)){var J=w[G&l][H&b]|0;q[F]=m[J]}else q[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&r)===(G&l)?(J=w[G&l][H&b]|0,q[F]=m[J]):q[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&r)===(G&l)?(J=w[G&l][H&b]|0,q[F]=m[J]):q[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&r)===(G&l)?
(J=w[G&l][H&b]|0,q[F]=m[J]):q[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&r)===(G&l)?(J=w[G&l][H&b]|0,q[F]=m[J]):q[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&r)===(G&l)?(J=w[G&l][H&b]|0,q[F]=m[J]):q[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&r)===(G&l)?(J=w[G&l][H&b]|0,q[F]=m[J]):q[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&r)===(G&l)?(J=w[G&l][H&b]|0,q[F]=m[J]):q[F]=E;F+=1;H+=A;G-=a}D+=a;G=C+=A}g&&this.$d();(this.Wb||this.nd)&&this.ah()&&this.Pd();w=e;for(e=1;e<y;e+=1)for(g=2<this.h?0===this.J?this.h/this.M*e|0:e<y/
2?this.J/this.M*e*2|0:this.J+this.h/this.M*e|0:(this.ee+1)/this.M*e|0,v+=B,this.Ed(v),a/=this.j,A/=this.j,z*=this.j,b=c,c=.125>z?15:.25>z?7:.5>z?3:1>z?1:0,c!==b&&(w=this.Z),b=this.xb&~c,l=this.Ab&~c,f=~c,r=~c,C=-(this.C/2*-a+this.B/2*A)+this.ge,D=-(this.C/2*A+this.B/2*a)+this.fe,F=0,G=C,u=0;u<this.B;u+=1){H=D;for(x=0;x<n;x+=1)(H&f)===(H&b)&&(G&r)===(G&l)&&(J=w[G&l][H&b]|0,J>=g&&(q[F]=m[J])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&r)===(G&l)&&(J=w[G&l][H&b]|0,J>=g&&(q[F]=m[J])),F+=1,H+=A,G-=a,(H&f)===(H&
b)&&(G&r)===(G&l)&&(J=w[G&l][H&b]|0,J>=g&&(q[F]=m[J])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&r)===(G&l)&&(J=w[G&l][H&b]|0,J>=g&&(q[F]=m[J])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&r)===(G&l)&&(J=w[G&l][H&b]|0,J>=g&&(q[F]=m[J])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&r)===(G&l)&&(J=w[G&l][H&b]|0,J>=g&&(q[F]=m[J])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&r)===(G&l)&&(J=w[G&l][H&b]|0,J>=g&&(q[F]=m[J])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&r)===(G&l)&&(J=w[G&l][H&b]|0,J>=g&&(q[F]=m[J])),F+=1,H+=A,G-=a;D+=a;G=C+=A}};h.prototype.gG=
function(a,e,c,g){var n=this.C>>3,m=this.Fe,q=this.Sd,u,x,y=1,v=1,B=0,b=this.xb&~c,l=this.Ab&~c,f=~c,r=~c,w=a,z=this.ja;1<this.j&&(y=this.M);a=1/this.ja;var A=-(this.B/2*a)+this.ge;var C=-(this.C/2*a)+this.fe;1<this.M&&1<this.j&&(B=.4/(this.M-1),v=.6);this.Ed(v);var D=this.width<this.ga?m[0]|0:this.nl|0;var E=0;var F=A;for(u=0;u<this.B;u+=1){if((F&r)===(F&l)){var G=w[F&l];var H=C;this.R&&(H+=.5*(F|0));for(x=0;x<n;x+=1){if((H&f)===(H&b)){var J=G[H&b]|0;q[E]=m[J]}else q[E]=D;E+=1;H+=a;(H&f)===(H&b)?
(J=G[H&b]|0,q[E]=m[J]):q[E]=D;E+=1;H+=a;(H&f)===(H&b)?(J=G[H&b]|0,q[E]=m[J]):q[E]=D;E+=1;H+=a;(H&f)===(H&b)?(J=G[H&b]|0,q[E]=m[J]):q[E]=D;E+=1;H+=a;(H&f)===(H&b)?(J=G[H&b]|0,q[E]=m[J]):q[E]=D;E+=1;H+=a;(H&f)===(H&b)?(J=G[H&b]|0,q[E]=m[J]):q[E]=D;E+=1;H+=a;(H&f)===(H&b)?(J=G[H&b]|0,q[E]=m[J]):q[E]=D;E+=1;H+=a;(H&f)===(H&b)?(J=G[H&b]|0,q[E]=m[J]):q[E]=D;E+=1;H+=a}}else q.fill(D,E,E+this.C+1),E+=this.C;F=A+=a}g&&this.$d();(this.Wb||this.nd)&&this.ah()&&this.Pd();w=e;for(e=1;e<y;e+=1)for(g=2<this.h?0===
this.J?this.h/this.M*e|0:e<y/2?this.J/this.M*e*2|0:this.J+this.h/this.M*e|0:(this.ee+1)/this.M*e|0,v+=B,this.Ed(v),a/=this.j,z*=this.j,b=c,c=.125>z?15:.25>z?7:.5>z?3:1>z?1:0,c!==b&&(w=this.Z),b=this.xb&~c,l=this.Ab&~c,f=~c,r=~c,A=-(this.B/2*a)+this.ge,C=-(this.C/2*a)+this.fe,E=0,F=A,u=0;u<this.B;u+=1){if((F&r)===(F&l))for(G=w[F&l],H=C,this.R&&(H+=.5*(F|0)),x=0;x<n;x+=1)(H&f)===(H&b)&&(J=G[H&b]|0,J>=g&&(q[E]=m[J])),E+=1,H+=a,(H&f)===(H&b)&&(J=w[F&l][H&b]|0,J>=g&&(q[E]=m[J])),E+=1,H+=a,(H&f)===(H&b)&&
(J=w[F&l][H&b]|0,J>=g&&(q[E]=m[J])),E+=1,H+=a,(H&f)===(H&b)&&(J=w[F&l][H&b]|0,J>=g&&(q[E]=m[J])),E+=1,H+=a,(H&f)===(H&b)&&(J=w[F&l][H&b]|0,J>=g&&(q[E]=m[J])),E+=1,H+=a,(H&f)===(H&b)&&(J=w[F&l][H&b]|0,J>=g&&(q[E]=m[J])),E+=1,H+=a,(H&f)===(H&b)&&(J=w[F&l][H&b]|0,J>=g&&(q[E]=m[J])),E+=1,H+=a,(H&f)===(H&b)&&(J=w[F&l][H&b]|0,J>=g&&(q[E]=m[J])),E+=1,H+=a;else E+=n<<3;F=A+=a}};h.prototype.hG=function(a,e,c,g){var n=this.C>>3,m=this.Fe,q=this.Sd,u,x,y=1,v=1,B=0,b=this.xb&~c,l=this.Ab&~c,f=a,r=this.ja;1<this.j&&
(y=this.M);a=Math.sin(this.gb/180*Math.PI)/this.ja;var w=Math.cos(this.gb/180*Math.PI)/this.ja;var z=-(this.C/2*-a+this.B/2*w)+this.ge;var A=-(this.C/2*w+this.B/2*a)+this.fe;1<this.M&&1<this.j&&(B=.4/(this.M-1),v=.6);this.Ed(v);var C=0;var D=z;for(u=0;u<this.B;u+=1){var E=A;for(x=0;x<n;x+=1){var F=f[D&l][E&b]|0;q[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;q[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;q[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;q[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;q[C]=m[F];C+=1;E+=w;D-=a;
F=f[D&l][E&b]|0;q[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;q[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;q[C]=m[F];C+=1;E+=w;D-=a}A+=a;D=z+=w}g&&this.$d();(this.Wb||this.nd)&&this.ah()&&this.Pd();f=e;for(e=1;e<y;e+=1)for(g=2<this.h?0===this.J?this.h/this.M*e|0:e<y/2?this.J/this.M*e*2|0:this.J+this.h/this.M*e|0:(this.ee+1)/this.M*e|0,v+=B,this.Ed(v),a/=this.j,w/=this.j,r*=this.j,b=c,.125>r?c=15:.25>r?c=7:.5>r?c=3:1>r?c=1:(f=this.Z,c=0),c!==b&&(f=this.Z),b=this.xb&~c,l=this.Ab&~c,z=-(this.C/2*-a+this.B/2*
w)+this.ge,A=-(this.C/2*w+this.B/2*a)+this.fe,C=0,D=z,u=0;u<this.B;u+=1){E=A;for(x=0;x<n;x+=1)F=f[D&l][E&b]|0,F>=g&&(q[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(q[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(q[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(q[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(q[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(q[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(q[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(q[C]=m[F]),C+=1,E+=w,D-=a;A+=a;D=z+=w}};h.prototype.iG=
function(a,e,c,g){var n=this.C>>3,m=this.Fe,q=this.Sd,u,x=1,y=1,v=0,B=this.xb&~c,b=this.Ab&~c,l=a,f=this.ja;1<this.j&&(x=this.M);a=1/this.ja;var r=-(this.B/2*a)+this.ge;var w=-(this.C/2*a)+this.fe;1<this.M&&1<this.j&&(v=.4/(this.M-1),y=.6);this.Ed(y);var z=0;var A=r;for(u=0;u<this.B;u+=1){var C=l[A&b];var D=w;this.R&&(D+=.5*(A|0));for(A=0;A<n;A+=1){var E=C[D&B];q[z]=m[E];z+=1;D+=a;E=C[D&B];q[z]=m[E];z+=1;D+=a;E=C[D&B];q[z]=m[E];z+=1;D+=a;E=C[D&B];q[z]=m[E];z+=1;D+=a;E=C[D&B];q[z]=m[E];z+=1;D+=a;E=
C[D&B];q[z]=m[E];z+=1;D+=a;E=C[D&B];q[z]=m[E];z+=1;D+=a;E=C[D&B];q[z]=m[E];z+=1;D+=a}A=r+=a}g&&this.$d();(this.Wb||this.nd)&&this.ah()&&this.Pd();l=e;for(e=1;e<x;e+=1)for(g=2<this.h?0===this.J?this.h/this.M*e|0:e<x/2?this.J/this.M*e*2|0:this.J+this.h/this.M*e|0:(this.ee+1)/this.M*e|0,y+=v,this.Ed(y),a/=this.j,f*=this.j,B=c,c=.125>f?15:.25>f?7:.5>f?3:1>f?1:0,c!==B&&(l=this.Z),B=this.xb&~c,b=this.Ab&~c,r=-(this.B/2*a)+this.ge,w=-(this.C/2*a)+this.fe,z=0,A=r,u=0;u<this.B;u+=1){C=l[A&b];D=w;this.R&&(D+=
.5*(A|0));for(A=0;A<n;A+=1)E=C[D&B]|0,E>=g&&(q[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(q[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(q[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(q[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(q[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(q[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(q[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(q[z]=m[E]),z+=1,D+=a;A=r+=a}};h.prototype.ri=function(a,e,c,g,n){var m=Math.sin(this.gb/180*Math.PI)/this.ja,q=Math.cos(this.gb/180*Math.PI)/this.ja,u=this.C,x=this.B,y=-(this.C/2*-m+
this.B/2*q)+this.ge,v=-(this.C/2*q+this.B/2*m)+this.fe,B=y+u*-m,b=v+u*q,l=y+x*q;x=v+x*m;m=l+u*-m;q=x+u*q;u=l;var f=x;q<f&&(f=q);v<f&&(f=v);b<f&&(f=v);q>x&&(x=q);v>x&&(x=v);b>x&&(x=b);m>u&&(u=m);y>u&&(u=y);B>u&&(u=B);m<l&&(l=m);y<l&&(l=y);B<l&&(l=B);0>(f|0)||(x|0)>=this.width||0>(l|0)||(u|0)>=this.height?0===this.gb?this.Ng&&1<=this.ja&&1===this.M&&(this.ja|0)!==this.ja?(this.Ed(1),this.width!==this.ga?this.bn(a,f,l,x,u,this.Fe[0],g,n):this.bn(a,f,l,x,u,this.nl,g,n)):this.gG(a,e,c,g):this.fG(a,e,c,
g):0===this.gb?this.Ng&&1<=this.ja&&1===this.M&&(this.ja|0)!==this.ja?(this.Ed(1),this.bn(a,f,l,x,u,this.Fe[0],g,n)):this.iG(a,e,c,g):this.hG(a,e,c,g)};h.prototype.bn=function(a,e,c,g,n,m,q,u){var x=this.Fe,y=this.bk,v=this.si,B=this.ti,b=(this.ja|0)<<1,l=this.kd.width,f=l*b,r=g-e,w=n-c,z=-(e-Math.floor(e))*this.ja,A=-(c-Math.floor(c))*this.ja,C=this.width-1,D=this.height-1,E,F=0,G,H=b>>1,J;c|=0;e|=0;r=(r|0)+2;w=(w|0)+2;g=e+r;n=c+w;switch(H){case 1:var O=f;for(J=r<<1;c<n;c+=1){if((c&D)!==c)y.fill(m,
F,F+J),F+=l,y.fill(m,F,F+J);else{var K=a[c];var M=F;for(E=e;E<g;E+=1){var I=(E&C)!==E?m:x[K[E]];y[F]=I;y[F+1]=I;F+=2}F=M+l;y.copyWithin(F,M,M+J)}F=O;O+=f}break;case 2:O=f;for(J=r<<2;c<n;c+=1){if((c&D)!==c)y.fill(m,F,F+J),F+=l,y.fill(m,F,F+J),F+=l,y.fill(m,F,F+J),F+=l,y.fill(m,F,F+J);else{K=a[c];M=F;for(E=e;E<g;E+=1)I=(E&C)!==E?m:x[K[E]],y[F]=I,y[F+1]=I,y[F+2]=I,y[F+3]=I,F+=4;F=M+l;y.copyWithin(F,M,M+J);F+=l;M+=l;y.copyWithin(F,M,M+J);F+=l;M+=l;y.copyWithin(F,M,M+J)}F=O;O+=f}break;default:for(O=f,
J=r*b;c<n;c+=1){if((c&D)!==c)for(K=0;K<H;K+=1)y.fill(m,F,F+J),F+=l,y.fill(m,F,F+J),F+=l;else{K=a[c];M=F;for(E=e;E<g;E+=1)for(I=(E&C)!==E?m:x[K[E]],G=0;G<H;G+=1)y[F]=I,y[F+1]=I,F+=2;F=M+l;for(K=1;K<b;K+=1)y.copyWithin(F,M,M+J),M+=l,F+=l}F=O;O+=f}}v.putImageData(B,0,0,0,0,r*b,w*b);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.kd,0,0,r*b,w*b,z,A,r*this.ja,w*this.ja);this.context.imageSmoothingEnabled=!1;q||u||(this.Wb||this.nd)&&this.ah()?(this.hd=this.context.getImageData(0,0,this.context.canvas.width,
this.context.canvas.height),this.Sd=new Uint32Array(this.hd.data.buffer),q&&this.$d(),(this.Wb||this.nd)&&this.ah()&&this.Pd()):this.lj=!1};h.prototype.Dl=function(a,e,c,g,n,m,q,u,x){var y=this.Fe,v=this.bk,B=this.si,b=this.ti,l=(this.ja|0)<<1,f=this.kd.width,r=f*l,w=n-c,z=m-g,A=-(c-Math.floor(c))*this.ja,C=-(g-Math.floor(g))*this.ja,D=this.width-1,E=this.height-1,F,G=0,H=this.ub,J=l>>1,O=ViewConstants.Ka[3]+128,K=ViewConstants.Ka[4]+128,M=ViewConstants.Ka[5]+128,I=ViewConstants.Ka[6]+128,X;g|=0;
c|=0;w=(w|0)+2;z=(z|0)+2;n=c+w;m=g+z;switch(J){case 1:var R=r;for(X=w<<1;g<m;g+=1){if((g&E)!==g)v.fill(q,G,G+X),G+=f,v.fill(q,G,G+X);else{var U=e[g];var Y=a[g];var da=G;for(F=c;F<n;F+=1){if((F&D)!==F)var V=q;else{V=U[F];var ka=Y[F];ka===K||ka===I?(V>=H&&(ka=O),V=y[ka]):ka===O||ka===M?(V<H&&(ka=K),V=y[ka]):V=y[V]}v[G]=V;v[G+1]=V;G+=2}G=da+f;v.copyWithin(G,da,da+X)}G=R;R+=r}break;case 2:R=r;for(X=w<<2;g<m;g+=1){if((g&E)!==g)v.fill(q,G,G+X),G+=f,v.fill(q,G,G+X),G+=f,v.fill(q,G,G+X),G+=f,v.fill(q,G,G+
X);else{U=e[g];Y=a[g];da=G;for(F=c;F<n;F+=1)(F&D)!==F?V=q:(V=U[F],ka=Y[F],ka===K||ka===I?(V>=H&&(ka=O),V=y[ka]):ka===O||ka===M?(V<H&&(ka=K),V=y[ka]):V=y[V]),v[G]=V,v[G+1]=V,v[G+2]=V,v[G+3]=V,G+=4;G=da+f;v.copyWithin(G,da,da+X);G+=f;da+=f;v.copyWithin(G,da,da+X);G+=f;da+=f;v.copyWithin(G,da,da+X)}G=R;R+=r}break;default:for(R=r,X=w*l;g<m;g+=1){if((g&E)!==g)for(U=0;U<J;U+=1)v.fill(q,G,G+X),G+=f,v.fill(q,G,G+X),G+=f;else{U=e[g];Y=a[g];da=G;for(F=c;F<n;F+=1)for((F&D)!==F?V=q:(V=U[F],ka=Y[F],ka===K||ka===
I?(V>=H&&(ka=O),V=y[ka]):ka===O||ka===M?(V<H&&(ka=K),V=y[ka]):V=y[V]),ka=0;ka<J;ka+=1)v[G]=V,v[G+1]=V,G+=2;G=da+f;for(U=1;U<l;U+=1)v.copyWithin(G,da,da+X),da+=f,G+=f}G=R;R+=r}}B.putImageData(b,0,0,0,0,w*l,z*l);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.kd,0,0,w*l,z*l,A,C,w*this.ja,z*this.ja);this.context.imageSmoothingEnabled=!1;u||x||(this.Wb||this.nd)&&this.ah()?(this.hd=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),this.Sd=new Uint32Array(this.hd.data.buffer),
u&&this.$d(),(this.Wb||this.nd)&&this.ah()&&this.Pd()):this.lj=!1};h.prototype.bG=function(a,e,c,g){var n=this.C>>3,m=this.Fe,q=this.Sd,u,x,y=ViewConstants.Ka[3]+128,v=ViewConstants.Ka[4]+128,B=ViewConstants.Ka[5]+128,b=ViewConstants.Ka[6]+128,l=1,f=1,r=0,w=this.ub,z=this.xb&~c,A=this.Ab&~c,C=~c,D=~c,E=e,F=this.ja;1<this.j&&(l=this.M);var G=Math.sin(this.gb/180*Math.PI)/this.ja;var H=Math.cos(this.gb/180*Math.PI)/this.ja;var J=-(this.C/2*-G+this.B/2*H)+this.ge;var O=-(this.C/2*H+this.B/2*G)+this.fe;
1<this.M&&1<this.j&&(r=.4/(this.M-1),f=.6);this.Ed(f);var K=this.width<this.ga?m[0]|0:this.nl|0;var M=0;var I=J;for(u=0;u<this.B;u+=1){var X=O;for(x=0;x<n;x+=1){if((X&C)===(X&z)&&(I&D)===(I&A)){var R=E[I&A][X&z];var U=a[I&A][X&z];U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0;q[M]=R}else q[M]=K;M+=1;X+=H;I-=G;(X&C)===(X&z)&&(I&D)===(I&A)?(R=E[I&A][X&z],U=a[I&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,q[M]=R):q[M]=K;M+=1;
X+=H;I-=G;(X&C)===(X&z)&&(I&D)===(I&A)?(R=E[I&A][X&z],U=a[I&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,q[M]=R):q[M]=K;M+=1;X+=H;I-=G;(X&C)===(X&z)&&(I&D)===(I&A)?(R=E[I&A][X&z],U=a[I&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,q[M]=R):q[M]=K;M+=1;X+=H;I-=G;(X&C)===(X&z)&&(I&D)===(I&A)?(R=E[I&A][X&z],U=a[I&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,q[M]=R):q[M]=K;M+=
1;X+=H;I-=G;(X&C)===(X&z)&&(I&D)===(I&A)?(R=E[I&A][X&z],U=a[I&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,q[M]=R):q[M]=K;M+=1;X+=H;I-=G;(X&C)===(X&z)&&(I&D)===(I&A)?(R=E[I&A][X&z],U=a[I&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,q[M]=R):q[M]=K;M+=1;X+=H;I-=G;(X&C)===(X&z)&&(I&D)===(I&A)?(R=E[I&A][X&z],U=a[I&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,q[M]=R):q[M]=K;
M+=1;X+=H;I-=G}O+=G;I=J+=H}g&&this.$d();(this.Wb||this.nd)&&this.ah()&&this.Pd();E=e;for(a=1;a<l;a+=1)for(e=2<this.h?0===this.J?this.h/this.M*a|0:a<l/2?this.J/this.M*a*2|0:this.J+this.h/this.M*a|0:(this.ee+1)/this.M*a|0,f+=r,this.Ed(f),G/=this.j,H/=this.j,F*=this.j,u=c,.125>F?c=15:.25>F?c=7:.5>F?c=3:1>F?c=1:(E=this.Z,c=0),c!==u&&(E=this.Z),z=this.xb&~c,A=this.Ab&~c,C=~c,D=~c,J=-(this.C/2*-G+this.B/2*H)+this.ge,O=-(this.C/2*H+this.B/2*G)+this.fe,M=0,I=J,u=0;u<this.B;u+=1){X=O;for(x=0;x<n;x+=1)(X&C)===
(X&z)&&(I&D)===(I&A)&&(R=E[I&A][X&z]|0,R>=e&&(q[M]=m[R])),M+=1,X+=H,I-=G,(X&C)===(X&z)&&(I&D)===(I&A)&&(R=E[I&A][X&z]|0,R>=e&&(q[M]=m[R])),M+=1,X+=H,I-=G,(X&C)===(X&z)&&(I&D)===(I&A)&&(R=E[I&A][X&z]|0,R>=e&&(q[M]=m[R])),M+=1,X+=H,I-=G,(X&C)===(X&z)&&(I&D)===(I&A)&&(R=E[I&A][X&z]|0,R>=e&&(q[M]=m[R])),M+=1,X+=H,I-=G,(X&C)===(X&z)&&(I&D)===(I&A)&&(R=E[I&A][X&z]|0,R>=e&&(q[M]=m[R])),M+=1,X+=H,I-=G,(X&C)===(X&z)&&(I&D)===(I&A)&&(R=E[I&A][X&z]|0,R>=e&&(q[M]=m[R])),M+=1,X+=H,I-=G,(X&C)===(X&z)&&(I&D)===
(I&A)&&(R=E[I&A][X&z]|0,R>=e&&(q[M]=m[R])),M+=1,X+=H,I-=G,(X&C)===(X&z)&&(I&D)===(I&A)&&(R=E[I&A][X&z]|0,R>=e&&(q[M]=m[R])),M+=1,X+=H,I-=G;O+=G;I=J+=H}};h.prototype.dG=function(a,e,c,g){var n=this.C>>3,m=this.Fe,q=this.Sd,u,x,y=ViewConstants.Ka[3]+128,v=ViewConstants.Ka[4]+128,B=ViewConstants.Ka[5]+128,b=ViewConstants.Ka[6]+128,l=1,f=1,r=0,w=this.ub,z=this.xb&~c,A=this.Ab&~c,C=e,D=this.ja;1<this.j&&(l=this.M);var E=Math.sin(this.gb/180*Math.PI)/this.ja;var F=Math.cos(this.gb/180*Math.PI)/this.ja;
var G=-(this.C/2*-E+this.B/2*F)+this.ge;var H=-(this.C/2*F+this.B/2*E)+this.fe;1<this.M&&1<this.j&&(r=.4/(this.M-1),f=.6);this.Ed(f);var J=0;var O=G;for(u=0;u<this.B;u+=1){var K=H;for(x=0;x<n;x+=1){var M=C[O&A][K&z];var I=a[O&A][K&z];I===v||I===b?(M>=w&&(I=y),M=m[I]|0):I===y||I===B?(M<w&&(I=v),M=m[I]|0):M=m[M]|0;q[J]=M;J+=1;K+=F;O-=E;M=C[O&A][K&z];I=a[O&A][K&z];I===v||I===b?(M>=w&&(I=y),M=m[I]|0):I===y||I===B?(M<w&&(I=v),M=m[I]|0):M=m[M]|0;q[J]=M;J+=1;K+=F;O-=E;M=C[O&A][K&z];I=a[O&A][K&z];I===v||
I===b?(M>=w&&(I=y),M=m[I]|0):I===y||I===B?(M<w&&(I=v),M=m[I]|0):M=m[M]|0;q[J]=M;J+=1;K+=F;O-=E;M=C[O&A][K&z];I=a[O&A][K&z];I===v||I===b?(M>=w&&(I=y),M=m[I]|0):I===y||I===B?(M<w&&(I=v),M=m[I]|0):M=m[M]|0;q[J]=M;J+=1;K+=F;O-=E;M=C[O&A][K&z];I=a[O&A][K&z];I===v||I===b?(M>=w&&(I=y),M=m[I]|0):I===y||I===B?(M<w&&(I=v),M=m[I]|0):M=m[M]|0;q[J]=M;J+=1;K+=F;O-=E;M=C[O&A][K&z];I=a[O&A][K&z];I===v||I===b?(M>=w&&(I=y),M=m[I]|0):I===y||I===B?(M<w&&(I=v),M=m[I]|0):M=m[M]|0;q[J]=M;J+=1;K+=F;O-=E;M=C[O&A][K&z];I=
a[O&A][K&z];I===v||I===b?(M>=w&&(I=y),M=m[I]|0):I===y||I===B?(M<w&&(I=v),M=m[I]|0):M=m[M]|0;q[J]=M;J+=1;K+=F;O-=E;M=C[O&A][K&z];I=a[O&A][K&z];I===v||I===b?(M>=w&&(I=y),M=m[I]|0):I===y||I===B?(M<w&&(I=v),M=m[I]|0):M=m[M]|0;q[J]=M;J+=1;K+=F;O-=E}H+=E;O=G+=F}g&&this.$d();(this.Wb||this.nd)&&this.ah()&&this.Pd();C=e;for(a=1;a<l;a+=1)for(e=2<this.h?0===this.J?this.h/this.M*a|0:a<l/2?this.J/this.M*a*2|0:this.J+this.h/this.M*a|0:(this.ee+1)/this.M*a|0,f+=r,this.Ed(f),E/=this.j,F/=this.j,D*=this.j,u=c,.125>
D?c=15:.25>D?c=7:.5>D?c=3:1>D?c=1:(C=this.Z,c=0),c!==u&&(C=this.Z),z=this.xb&~c,A=this.Ab&~c,G=-(this.C/2*-E+this.B/2*F)+this.ge,H=-(this.C/2*F+this.B/2*E)+this.fe,J=0,O=G,u=0;u<this.B;u+=1){K=H;for(x=0;x<n;x+=1)M=C[O&A][K&z]|0,M>=e&&(q[J]=m[M]),J+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(q[J]=m[M]),J+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(q[J]=m[M]),J+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(q[J]=m[M]),J+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(q[J]=m[M]),J+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(q[J]=m[M]),J+=1,K+=F,
O-=E,M=C[O&A][K&z]|0,M>=e&&(q[J]=m[M]),J+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(q[J]=m[M]),J+=1,K+=F,O-=E;H+=E;O=G+=F}};h.prototype.eG=function(a,e,c,g){var n=this.C>>3,m=this.Fe,q=this.Sd,u,x=ViewConstants.Ka[3]+128,y=ViewConstants.Ka[4]+128,v=ViewConstants.Ka[5]+128,B=ViewConstants.Ka[6]+128,b=1,l=1,f=0,r=this.ub,w=this.xb&~c,z=this.Ab&~c,A=e,C=this.ja;1<this.j&&(b=this.M);var D=1/this.ja;var E=-(this.B/2*D)+this.ge;var F=-(this.C/2*D)+this.fe;1<this.M&&1<this.j&&(f=.4/(this.M-1),l=.6);this.Ed(l);
var G=0;var H=E;for(u=0;u<this.B;u+=1){var J=A[H&z];var O=a[H&z];var K=F;this.R&&(K+=.5*(H|0));for(H=0;H<n;H+=1){var M=J[K&w];var I=O[K&w];I===y||I===B?(M>=r&&(I=x),M=m[I]|0):I===x||I===v?(M<r&&(I=y),M=m[I]|0):M=m[M]|0;q[G]=M;G+=1;K+=D;M=J[K&w];I=O[K&w];I===y||I===B?(M>=r&&(I=x),M=m[I]|0):I===x||I===v?(M<r&&(I=y),M=m[I]|0):M=m[M]|0;q[G]=M;G+=1;K+=D;M=J[K&w];I=O[K&w];I===y||I===B?(M>=r&&(I=x),M=m[I]|0):I===x||I===v?(M<r&&(I=y),M=m[I]|0):M=m[M]|0;q[G]=M;G+=1;K+=D;M=J[K&w];I=O[K&w];I===y||I===B?(M>=
r&&(I=x),M=m[I]|0):I===x||I===v?(M<r&&(I=y),M=m[I]|0):M=m[M]|0;q[G]=M;G+=1;K+=D;M=J[K&w];I=O[K&w];I===y||I===B?(M>=r&&(I=x),M=m[I]|0):I===x||I===v?(M<r&&(I=y),M=m[I]|0):M=m[M]|0;q[G]=M;G+=1;K+=D;M=J[K&w];I=O[K&w];I===y||I===B?(M>=r&&(I=x),M=m[I]|0):I===x||I===v?(M<r&&(I=y),M=m[I]|0):M=m[M]|0;q[G]=M;G+=1;K+=D;M=J[K&w];I=O[K&w];I===y||I===B?(M>=r&&(I=x),M=m[I]|0):I===x||I===v?(M<r&&(I=y),M=m[I]|0):M=m[M]|0;q[G]=M;G+=1;K+=D;M=J[K&w];I=O[K&w];I===y||I===B?(M>=r&&(I=x),M=m[I]|0):I===x||I===v?(M<r&&(I=
y),M=m[I]|0):M=m[M]|0;q[G]=M;G+=1;K+=D}H=E+=D}g&&this.$d();(this.Wb||this.nd)&&this.ah()&&this.Pd();A=e;for(a=1;a<b;a+=1)for(e=2<this.h?0===this.J?this.h/this.M*a|0:a<b/2?this.J/this.M*a*2|0:this.J+this.h/this.M*a|0:(this.ee+1)/this.M*a|0,l+=f,this.Ed(l),D/=this.j,C*=this.j,u=c,.125>C?c=15:.25>C?c=7:.5>C?c=3:1>C?c=1:(A=this.Z,c=0),c!==u&&(A=this.Z),w=this.xb&~c,z=this.Ab&~c,E=-(this.B/2*D)+this.ge,F=-(this.C/2*D)+this.fe,G=0,H=E,u=0;u<this.B;u+=1){J=A[H&z];K=F;this.R&&(K+=.5*(H|0));for(H=0;H<n;H+=
1)M=J[K&w]|0,M>=e&&(q[G]=m[M]),G+=1,K+=D,M=J[K&w]|0,M>=e&&(q[G]=m[M]),G+=1,K+=D,M=J[K&w]|0,M>=e&&(q[G]=m[M]),G+=1,K+=D,M=J[K&w]|0,M>=e&&(q[G]=m[M]),G+=1,K+=D,M=J[K&w]|0,M>=e&&(q[G]=m[M]),G+=1,K+=D,M=J[K&w]|0,M>=e&&(q[G]=m[M]),G+=1,K+=D,M=J[K&w]|0,M>=e&&(q[G]=m[M]),G+=1,K+=D,M=J[K&w]|0,M>=e&&(q[G]=m[M]),G+=1,K+=D;H=E+=D}};h.prototype.cG=function(a,e,c,g){var n=this.C>>3,m=this.Fe,q=this.Sd,u,x=ViewConstants.Ka[3]+128,y=ViewConstants.Ka[4]+128,v=ViewConstants.Ka[5]+128,B=ViewConstants.Ka[6]+128,b=1,
l=1,f=0,r=this.ub,w=this.xb&~c,z=this.Ab&~c,A=~c,C=~c,D=e,E=this.ja;1<this.j&&(b=this.M);var F=1/this.ja;var G=-(this.B/2*F)+this.ge;var H=-(this.C/2*F)+this.fe;1<this.M&&1<this.j&&(f=.4/(this.M-1),l=.6);this.Ed(l);var J=this.width<this.ga?m[0]|0:this.nl|0;var O=0;var K=G;for(u=0;u<this.B;u+=1){if((K&C)===(K&z)){var M=D[K&z];var I=a[K&z];var X=H;this.R&&(X+=.5*(K|0));for(K=0;K<n;K+=1){if((X&A)===(X&w)){var R=M[X&w];var U=I[X&w];U===y||U===B?(R>=r&&(U=x),R=m[U]|0):U===x||U===v?(R<r&&(U=y),R=m[U]|0):
R=m[R]|0}else R=J;q[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=I[X&w],U===y||U===B?(R>=r&&(U=x),R=m[U]|0):U===x||U===v?(R<r&&(U=y),R=m[U]|0):R=m[R]|0):R=J;q[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=I[X&w],U===y||U===B?(R>=r&&(U=x),R=m[U]|0):U===x||U===v?(R<r&&(U=y),R=m[U]|0):R=m[R]|0):R=J;q[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=I[X&w],U===y||U===B?(R>=r&&(U=x),R=m[U]|0):U===x||U===v?(R<r&&(U=y),R=m[U]|0):R=m[R]|0):R=J;q[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=I[X&w],U===y||U===B?(R>=r&&(U=x),R=
m[U]|0):U===x||U===v?(R<r&&(U=y),R=m[U]|0):R=m[R]|0):R=J;q[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=I[X&w],U===y||U===B?(R>=r&&(U=x),R=m[U]|0):U===x||U===v?(R<r&&(U=y),R=m[U]|0):R=m[R]|0):R=J;q[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=I[X&w],U===y||U===B?(R>=r&&(U=x),R=m[U]|0):U===x||U===v?(R<r&&(U=y),R=m[U]|0):R=m[R]|0):R=J;q[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=I[X&w],U===y||U===B?(R>=r&&(U=x),R=m[U]|0):U===x||U===v?(R<r&&(U=y),R=m[U]|0):R=m[R]|0):R=J;q[O]=R;O+=1;X+=F}}else q.fill(J,O,O+this.C+
1),O+=this.C;K=G+=F}g&&this.$d();(this.Wb||this.nd)&&this.ah()&&this.Pd();D=e;for(a=1;a<b;a+=1)for(e=2<this.h?0===this.J?this.h/this.M*a|0:a<b/2?this.J/this.M*a*2|0:this.J+this.h/this.M*a|0:(this.ee+1)/this.M*a|0,l+=f,this.Ed(l),F/=this.j,E*=this.j,u=c,.125>E?c=15:.25>E?c=7:.5>E?c=3:1>E?c=1:(D=this.Z,c=0),c!==u&&(D=this.Z),w=this.xb&~c,z=this.Ab&~c,A=~c,C=~c,G=-(this.B/2*F)+this.ge,H=-(this.C/2*F)+this.fe,O=0,K=G,u=0;u<this.B;u+=1){if((K&C)===(K&z))for(M=D[K&z],X=H,this.R&&(X+=.5*(K|0)),K=0;K<n;K+=
1)(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(q[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(q[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(q[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(q[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(q[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(q[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(q[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(q[O]=m[R])),O+=1,X+=F;else O+=n<<3;K=G+=F}};h.prototype.pi=function(a,e,c,
g,n){var m=Math.sin(this.gb/180*Math.PI)/this.ja,q=Math.cos(this.gb/180*Math.PI)/this.ja,u=this.C,x=this.B,y=-(this.C/2*-m+this.B/2*q)+this.ge,v=-(this.C/2*q+this.B/2*m)+this.fe,B=y+u*-m,b=v+u*q,l=y+x*q;x=v+x*m;m=l+u*-m;q=x+u*q;u=l;var f=x;q<f&&(f=q);v<f&&(f=v);b<f&&(f=v);q>x&&(x=q);v>x&&(x=v);b>x&&(x=b);m>u&&(u=m);y>u&&(u=y);B>u&&(u=B);m<l&&(l=m);y<l&&(l=y);B<l&&(l=B);0>(f|0)||(x|0)>=this.width||0>(l|0)||(u|0)>=this.height?0===this.gb?this.Ng&&1<=this.ja&&1===this.M&&(this.ja|0)!==this.ja?(this.Ed(1),
this.width!==this.ga?this.Dl(a,e,f,l,x,u,this.Fe[0],g,n):this.Dl(a,e,f,l,x,u,this.nl,g,n)):this.cG(a,e,c,g):this.bG(a,e,c,g):0===this.gb?this.Ng&&1<=this.ja&&1===this.M&&(this.ja|0)!==this.ja?(this.Ed(1),this.Dl(a,e,f,l,x,u,this.Fe[0],g,n)):this.eG(a,e,c,g):this.dG(a,e,c,g)};h.prototype.dt=function(){var a;if(this.lj){if(!this.hd.data.buffer){var e=this.hd.data;var c=this.cl;var g=c.length;for(a=0;a<g;)e[a]=c[a],a+=1,e[a]=c[a],a+=1,e[a]=c[a],a+=1,e[a]=c[a],a+=1}this.context.putImageData(this.hd,0,
0)}};h.prototype.Nv=function(a){this.Sd.fill(a)};window.LifeConstants=t;window.Life=h}(),function(){function d(k,p){var h=0,t=0,a=k.length,e=!1,c=!1,g=!1,n=0,m=new Uint32Array(a),q=new Uint16Array(a),u=new Uint32Array(a),x=0,y=0;-1!==k.indexOf("&")&&(k=k.replace(/&amp;/g,"&"),k=k.replace(/&lt;/g,"<"),k=k.replace(/&gt;/g,">"),a=k.length);for(;h<a;){var v=k.charCodeAt(h);switch(v){case 32:case 13:case 9:case 123:case 125:!c&&e&&(m[n]=t,q[n]=h-t,u[n]=(x<<1)+1&y,n+=1,e=!1);break;case 44:p?!c&&e&&(m[n]=
t,q[n]=h-t,u[n]=(x<<1)+1&y,n+=1,e=!1):e||(e=!0,y=0,c=!1,t=h);break;case 10:e&&(m[n]=t,q[n]=h-t,u[n]=(x<<1)+1&y,n+=1,e=!1);c=!1;p&&(0<n&&"\n"!==k[m[n-1]]&&(m[n]=h,q[n]=1,u[n]=0,n+=1),g=!1);break;case 58:case 61:p?c||(e&&(m[n]=t,q[n]=h-t,u[n]=(x<<1)+1&y,n+=1,e=!1),m[n]=h,q[n]=1,u[n]=0,n+=1):e||(e=!0,y=0,c=!1,t=h);break;case 34:p?c||(g=!g,e||(e=!0,t=h)):e||(e=!0,y=0,t=h);break;case 35:p?g||c||(e&&(m[n]=t,q[n]=h-t,u[n]=(x<<1)+1&y,n+=1,e=!1),c=!0):e||(e=!0,y=0,c=!1,t=h);break;default:c||(e?48<=v&&57>=
v?x=10*x+v-48:y=0:(e=!0,t=h,48<=v&&57>=v?(y=-1,x=v-48):y=0))}h+=1}e&&(m[n]=t,q[n]=h-t,u[n]=(x<<1)+1&y,n+=1);this.j=m.slice(0,n);this.A=q.slice(0,n);this.K=u.slice(0,n);this.current=0;this.source=k}d.prototype.cF=function(){0<this.current&&--this.current};d.prototype.kp=function(){for(;this.current<this.j.length&&10!==this.source.charCodeAt(this.j[this.current]);)this.current+=1;this.current<this.j.length&&(this.current+=1)};d.prototype.Su=function(){for(;this.current<this.j.length&&10===this.source.charCodeAt(this.j[this.current]);)this.current+=
1};d.prototype.XI=function(){var k=!1;this.current<this.j.length&&10!==this.source.charCodeAt(this.j[this.current])&&(k=!0);return k};d.prototype.Oq=function(){var k=!1;this.current<this.j.length&&10===this.source.charCodeAt(this.j[this.current])&&(k=!0);return k};d.prototype.N=function(){var k="";this.current<this.j.length&&(k=this.source.substr(this.j[this.current],this.A[this.current]),this.current+=1);return k};d.prototype.AC=function(){var k;for(k=this.N();"\n"===k;)k=this.N();return k};d.prototype.Ca=
function(){var k="";this.current<this.j.length&&(k=this.source.substr(this.j[this.current],this.A[this.current]));return k};d.prototype.tC=function(){return this.fa(Keywords.Gn,-1,!1)};d.prototype.eq=function(k,p){return this.fa(k,p,!0)};d.prototype.fa=function(k,p,h){var t=-1,a=this.current;for(-1!==p&&0<=p&&p<this.j.length&&(a=p);a<this.j.length&&-1===t;){if(k.length===this.A[a]){var e=0;for(p=!0;p&&e<k.length;)k[e]!==this.source[this.j[a]+e]?p=!1:e+=1}else p=!1;p&&(h&&0!==a&&10!==this.source.charCodeAt(this.j[a-
1])&&(p=!1),p&&(t=a));a+=1}-1!==t&&(this.current=a);return t};d.prototype.Ol=function(k){return!isNaN(parseFloat(k))&&isFinite(Number(k))};d.prototype.W=function(k){var p=!1,h=k.indexOf("/");-1!==h&&(p=k.substr(0,h),k=k.substr(h+1),p=this.Ol(p)&&this.Ol(k));return p};d.prototype.rw=function(k){var p=0;if(this.W(k)){var h=k.indexOf("/");var t=k.substr(0,h);k=k.substr(h+1);0!==Number(k)&&(p=Number(t)/Number(k))}else this.Ol(k)&&(p=parseFloat(k));return p};d.prototype.F=function(){var k=0;this.current<
this.j.length&&(0!==this.K[this.current]?(k=this.K[this.current]>>1,this.current+=1):(k=this.N(),k=this.rw(k)));return k};d.prototype.D=function(){var k=!1;if(this.current<this.j.length)if(this.K[this.current])k=!0;else{var p=this.source.substr(this.j[this.current],this.A[this.current]);this.W(p)?k=!0:k=this.Ol(p)}return k};d.prototype.cI=function(){var k=!1;var p=this.current+1;p<this.j.length&&(this.K[p]?k=!0:(p=this.source.substr(this.j[p],this.A[p]),this.W(p)?k=!0:k=this.Ol(p)));return k};d.prototype.QH=
function(){this.current=this.j.length};window.Script=d}(),function(){function d(e){this.P=e;this.Dn=this.Th=this.yo=!1;this.Hg=a.Ay;this.Hj=a.Vo;this.Xa=this.Tb=-1;this.angle=this.y=this.x=0;this.depth=this.M=this.zoom=1;this.wc=0;this.uc=60;this.step=1;this.xd=this.lc=0;this.Ef="";this.rr=this.nk=this.Vu=this.es=this.Zk=this.Yk=this.rA=this.eF=this.Jr=this.Ql=this.wm=this.ei=this.Ph=this.Uf=this.Lh=this.Vh=this.ue=this.Eh=this.Wf=this.ug=this.$c=this.sm=this.Ch=this.Ah=this.zh=this.tf=!1}function k(e,
c,g,n,m,q,u,x,y,v,B,b,l,f,r,w,z,A){this.coords=e;this.Nx=c;this.wa=this.zoom=g;this.Na=n;this.vg=m;this.alpha=q;this.size=u;this.kc=x;this.Xg=y;this.wd=v;this.angle=B;this.jl=b;this.im=l;this.Cm=f;this.Dm=r;this.Df=w;this.Al=z;this.Bl=A;-2E3===this.Na?(this.wa=this.zoom/4,this.Na=4*this.zoom):(this.wa=this.zoom,this.zoom=this.wa*Math.pow(this.Na/this.wa,.5))}function p(e,c,g,n,m,q,u,x,y,v,B,b,l,f,r,w,z,A,C,D,E){this.qB=e;this.sB=c;this.MF=g;this.NF=n;this.wa=this.zoom=m;this.Na=q;this.vg=u;this.alpha=
x;this.size=y;this.NC=v;this.kc=B;this.Xg=b;this.wd=l;this.angle=f;this.jl=r;this.im=w;this.Cm=z;this.Dm=A;this.Df=C;this.Al=D;this.Bl=E;-2E3===this.Na?(this.wa=this.zoom/4,this.Na=4*this.zoom):(this.wa=this.zoom,this.zoom=this.wa*Math.pow(this.Na/this.wa,.5))}function h(e,c,g,n,m,q,u,x,y,v,B,b,l,f,r,w,z,A){this.message="";this.x=e;this.y=c;this.wa=this.zoom=g;this.Na=n;this.vg=m;this.alpha=q;this.size=u;this.kc=x;this.Xg=y;this.wd=v;this.angle=B;this.jl=b;this.im=l;this.Cm=f;this.Dm=r;this.Df=w;
this.Al=z;this.Bl=A;-2E3===this.Na?(this.wa=this.zoom/4,this.Na=4*this.zoom):(this.wa=this.zoom,this.zoom=this.wa*Math.pow(this.Na/this.wa,.5))}function t(){this.La=[];this.oc=[];this.yf=[];this.jf=[];this.Af=[];this.current=new d(this);this.Ba=new d(this);this.A=new d(this);this.K=!1;this.Qk=0;this.W=!1}var a={Ay:0,play:1,stop:2,Vo:12,qE:0,pE:200};d.prototype.set=function(e){this.yo=e.yo;this.Th=e.Th;this.Dn=e.Dn;this.Hg=e.Hg;this.Hj=e.Hj;this.Tb=e.Tb;this.Xa=e.Xa;this.x=e.x;this.y=e.y;this.zh=e.zh;
this.Ah=e.Ah;this.Ch=e.Ch;this.tf=e.tf;this.angle=e.angle;this.zoom=e.zoom;this.M=e.M;this.depth=e.depth;this.wc=e.wc;this.uc=e.uc;this.step=e.step;this.lc=e.lc;this.xd=e.xd;this.Ef=e.Ef;this.sm=e.sm;this.$c=e.$c};d.prototype.j=function(){var e="";switch(this.Hg){case a.play:e=Keywords.Wo;break;case a.stop:e=Keywords.Xo}return e};d.prototype.FK=function(e){this.Th?(this.Hg!==a.Ay&&(e[e.length]=[Keywords.Wo,"overwrites "+this.j()]),this.Hg=a.play):e[e.length]=[Keywords.Wo,"only valid at POI"]};d.prototype.JK=
function(e){this.Th?(this.Hg!==a.Ay&&(e[e.length]=[Keywords.Xo,"overwrites "+this.j()]),this.Hg=a.stop):e[e.length]=[Keywords.Xo,"only valid at POI"]};d.prototype.GK=function(e){this.Th?(this.Dn&&(e[e.length]=[Keywords.kr,"already defined"]),this.Dn=!0):e[e.length]=[Keywords.kr,"only valid at POI"]};d.prototype.LK=function(e,c){this.Th?(this.Hj!==a.Vo&&(c[c.length]=[Keywords.lr+" "+e,"overwrites "+this.Hj]),this.Hj=e):c[c.length]=[Keywords.lr,"only valid at POI"]};d.prototype.A=function(e,c,g){var n=
e.xd+0,m=c.xd+0,q=e.angle+0,u=c.angle+0,x=1,y=1,v=1,B=1,b=1;g>m&&(g=m);m-n===ViewConstants.SK&&(n=m);m!==n&&(x=Math.round((g-n)/(m-n)*1E6)/1E6,y=this.P.KB(x)+0);c.zh||c.tf?v=x:v=y;c.Ah||c.tf?B=x:B=y;c.Ch||c.tf?b=x:b=y;this.x=e.x+v*(c.x-e.x);this.y=e.y+B*(c.y-e.y);this.zoom=e.zoom*Math.pow(c.zoom/e.zoom,b);180<u-q?q+=360:-180>u-q&&(u+=360);this.angle=(q+y*(u-q))%360;this.M=e.M+x*(c.M-e.M)|0;this.depth=e.depth+x*(c.depth-e.depth);this.wc=c.wc;this.uc=c.uc;this.step=c.step;this.lc=e.lc+x*(c.lc-e.lc)|
0;this.xd=g;this.Ef=c.Ef;this.tf=c.tf;this.yo=c.yo};t.prototype.oH=function(e,c,g,n,m,q,u,x,y,v,B,b,l,f,r,w,z,A){return new k(e,c,g,n,m,q,u,x,y,v,B,b,l,f,r,w,z,A)};t.prototype.cb=function(){this.Af=[]};t.prototype.pG=function(e){this.Af[this.Af.length]=e};t.prototype.iH=function(e,c,g,n,m,q,u,x,y,v,B,b,l,f,r,w,z,A,C,D,E){return new p(e,c,g,n,m,q,u,x,y,v,B,b,l,f,r,w,z,A,C,D,E)};t.prototype.Ma=function(){this.jf=[]};t.prototype.mG=function(e){this.jf[this.jf.length]=e};t.prototype.lH=function(e,c,g,
n,m,q,u,x,y,v,B,b,l,f,r,w,z,A){return new h(e,c,g,n,m,q,u,x,y,v,B,b,l,f,r,w,z,A)};t.prototype.Pa=function(){this.yf=[]};t.prototype.yB=function(e){this.yf[this.yf.length]=e};t.prototype.Jo=function(){return this.yf.length+this.jf.length+this.Af.length};t.prototype.QG=function(){this.Pa();this.Ma();this.cb()};t.prototype.uJ=function(e){var c="",g="";0<=e&&e<this.Af.length&&(e=this.Af[e],e.im&&(g="*"),c=e.Nx?"FILL\t":"LINE\t",c+="X1"+g+" "+e.coords[0]+"\tY1"+g+" "+e.coords[1]);return c};t.prototype.vJ=
function(e){var c="",g="";0<=e&&e<this.Af.length&&(c=this.Af[e],e=c.zoom,0<=e&&1>e&&(e=-1/e),c.jl&&(g="*"),c="Z "+e.toFixed(1)+"\tA"+g+" "+c.angle.toFixed(1));return c};t.prototype.wJ=function(e){var c="";0<=e&&e<this.Af.length&&(e=this.Af[e],c="Alpha "+e.alpha.toFixed(1),-1!==e.kc&&(c+="\tT1 "+e.kc+"\tT2 "+e.Xg,0<e.wd&&(c+="\tFade "+e.wd)));return c};t.prototype.xJ=function(e){var c="";0<=e&&e<this.Af.length&&(c=this.Af[e].vg);return c};t.prototype.CG=function(e){var c="",g="";0<=e&&e<this.jf.length&&
(e=this.jf[e],e.im&&(g="*"),c="X1"+g+" "+e.qB+"\tY1"+g+" "+e.sB,c+="\tX2"+g+" "+e.MF+"\tY2"+g+" "+e.NF);return c};t.prototype.DG=function(e){var c="",g="";0<=e&&e<this.jf.length&&(c=this.jf[e],e=c.zoom,0<=e&&1>e&&(e=-1/e),c.jl&&(g="*"),c="Z "+e.toFixed(1)+"\tA"+g+" "+c.angle.toFixed(1));return c};t.prototype.EG=function(e){var c="";0<=e&&e<this.jf.length&&(e=this.jf[e],c="Alpha "+e.alpha.toFixed(1),-1!==e.kc&&(c+="\tT1 "+e.kc+"\tT2 "+e.Xg,0<e.wd&&(c+="\tFade "+e.wd)));return c};t.prototype.rs=function(e){var c=
"";0<=e&&e<this.jf.length&&(c=this.jf[e].vg);return c};t.prototype.DI=function(e){var c="",g="",n="";if(0<=e&&e<this.yf.length){var m=this.yf[e];e=m.zoom;0<=e&&1>e&&(e=-1/e);m.im&&(g="*");m.jl&&(n="*");c="X"+g+" "+m.x+"\tY"+g+" "+m.y;c+="\tZ "+e.toFixed(1)+"\tA"+n+" "+m.angle.toFixed(1)}return c};t.prototype.EI=function(e){var c="";0<=e&&e<this.yf.length&&(e=this.yf[e],c="Alpha "+e.alpha.toFixed(1),-1!==e.kc&&(c+="\tT1 "+e.kc+"\tT2 "+e.Xg,0<e.wd&&(c+="\tFade "+e.wd)));return c};t.prototype.FI=function(e){var c=
"";0<=e&&e<this.yf.length&&(e=this.yf[e],c="Size "+e.size+'\t"'+e.message+'"');return c};t.prototype.GI=function(e){var c="";0<=e&&e<this.yf.length&&(c=this.yf[e].vg);return c};t.prototype.Dc=function(){this.yf.sort(function(e,c){return e.zoom-c.zoom})};t.prototype.mc=function(){this.jf.sort(function(e,c){return e.zoom-c.zoom})};t.prototype.Ec=function(){this.Af.sort(function(e,c){return e.zoom-c.zoom})};t.prototype.UK=function(){this.Dc();this.mc();this.Ec()};t.prototype.fa=function(e,c){var g,n=
e.a,m=n.context,q=n.width/2-n.xa-n.Rb,u=n.height/2-n.pa-n.Pb,x=n.zoom*n.Jc,y=n.C/2,v=n.B/2,B=e.a.v,b=n.R?-(n.height>>2):0,l=0,f=0,r=0,w=0,z=0;n.R&&(q+=u/2);c&&(m.strokeStyle=ViewConstants.GG);for(g=0;g<this.jf.length;g+=1){var A=this.jf[g];var C=!0;-1!==A.kc&&(B<A.kc||B>A.Xg)&&(C=!1);if(C){var D=A.size*x/A.zoom;c&&(l=1,24<=D&&(l=2,48<=D&&(l=3)));if(x>=A.wa&&x<=A.Na){var E=Math.log(x/A.wa)/Math.log(A.Na/A.wa);E=.25>=E?4*E:.75<=E?4*(1-E):1;var F=1;-1!==A.kc&&0<A.wd&&(B-A.kc<A.wd?F=(B-A.kc+1)/A.wd:A.Xg-
B<A.wd&&(F=(A.Xg-B+1)/A.wd));C=!0;var G=1;if(-1!==A.Df){var H=Math.sqrt((-(q+b)-A.Cm)*(-(q+b)-A.Cm)+(-u-A.Dm)*(-u-A.Dm));H>A.Df?C=!1:0<A.Df&&.75<H/A.Df&&(G=4*(1-H/A.Df))}C&&(m.globalAlpha=E*A.alpha*F*G,G=A.sB+u-(e.sb>>1)+.5,E=A.qB+q+b-(e.pb>>1)+.5,A.im||(E+=n.Rb,G+=n.Pb),-1!==A.kc?(E+=A.Al*(e.nb-A.kc),G+=A.Bl*(e.nb-A.kc)):(E+=A.Al*e.nb,G+=A.Bl*e.nb),0!==n.gb&&(F=Math.sqrt(E*E+G*G),C=180/Math.PI*Math.atan2(G,E),C+=n.gb,E=F*Math.cos(Math.PI/180*C),G=F*Math.sin(Math.PI/180*C)),n.R&&(E-=G/2),C=G*x+v,
H=E*x+y,E=(A.MF-A.qB)*x,F=(A.NF-A.sB)*x,n.R&&(E-=F/2),G=0===A.NC?0:Math.sqrt(E*E+F*F)*A.NC,m.save(),m.translate(H,C),C=A.angle,A.jl||(C+=n.gb),m.rotate(C/180*Math.PI),m.lineWidth=D,c||(m.strokeStyle=A.vg),m.lineCap="round",m.lineJoin="round",0<G&&(A=Math.atan2(F,E),f=Math.cos(.85*Math.PI+A),r=Math.sin(.85*Math.PI+A),w=Math.cos(.85*-Math.PI+A),z=Math.sin(.85*-Math.PI+A)),0<l&&m.translate(l,l),m.beginPath(),m.moveTo(0,0),m.lineTo(E,F),0<G&&(m.moveTo(E,F),m.lineTo(E+G*f,F+G*r),m.moveTo(E,F),m.lineTo(E+
G*w,F+G*z)),m.stroke(),m.restore())}}}m.globalAlpha=1};t.prototype.hb=function(e){this.fa(e,!0);this.fa(e,!1)};t.prototype.na=function(e,c){var g,n=e.a,m=n.context,q=n.width/2-n.xa-n.Rb,u=n.height/2-n.pa-n.Pb,x=n.zoom*n.Jc,y=n.C/2,v=n.B/2,B=e.a.v,b=n.R?-(n.height>>2):0,l=0;c&&(m.strokeStyle=ViewConstants.sE,m.fillStyle=ViewConstants.sE);n.R&&(q+=u/2);for(g=0;g<this.Af.length;g+=1){var f=this.Af[g];var r=f.coords;var w=r.length;var z=!0;-1!==f.kc&&(B<f.kc||B>f.Xg)&&(z=!1);if(z){var A=f.size*x/f.zoom;
c&&(l=1,24<=A&&(l=2,48<=A&&(l=3)));if(x>=f.wa&&x<=f.Na){var C=Math.log(x/f.wa)/Math.log(f.Na/f.wa);C=.25>=C?4*C:.75<=C?4*(1-C):1;var D=1;-1!==f.kc&&0<f.wd&&(B-f.kc<f.wd?D=(B-f.kc+1)/f.wd:f.Xg-B<f.wd&&(D=(f.Xg-B+1)/f.wd));z=!0;var E=1;if(-1!==f.Df){var F=Math.sqrt((-(q+b)-f.Cm)*(-(q+b)-f.Cm)+(-u-f.Dm)*(-u-f.Dm));F>f.Df?z=!1:0<f.Df&&.75<F/f.Df&&(E=4*(1-F/f.Df))}if(z){m.globalAlpha=C*f.alpha*D*E;C=0;E=r[C]+q+b-(e.pb>>1)+.5;D=r[C+1]+u-(e.sb>>1)+.5;C+=2;f.im||(E+=n.Rb,D+=n.Pb);-1!==f.kc?(E+=f.Al*(e.nb-
f.kc),D+=f.Bl*(e.nb-f.kc)):(E+=f.Al*e.nb,D+=f.Bl*e.nb);0!==n.gb&&(z=Math.sqrt(E*E+D*D),D=180/Math.PI*Math.atan2(D,E),D+=n.gb,E=z*Math.cos(Math.PI/180*D),D=z*Math.sin(Math.PI/180*D));n.R&&(E-=D/2);D=D*x+v;F=E*x+y;E=(r[C]-r[0])*x;z=(r[C+1]-r[1])*x;n.R&&(E-=z/2);C+=2;m.save();m.translate(F,D);D=f.angle;f.jl||(D+=n.gb);m.rotate(D/180*Math.PI);m.lineWidth=A;c||(f.Nx?m.fillStyle=f.vg:m.strokeStyle=f.vg);m.lineCap="round";m.lineJoin="round";0<l&&m.translate(l,l);m.beginPath();m.moveTo(0,0);for(m.lineTo(E,
z);C<w;)E=(r[C]-r[0])*x,z=(r[C+1]-r[1])*x,n.R&&(E-=z/2),C+=2,m.lineTo(E,z);f.Nx?m.fill():m.stroke();m.restore()}}}}m.globalAlpha=1};t.prototype.Hb=function(e){this.na(e,!0);this.na(e,!1)};t.prototype.tb=function(e){var c,g=e.a,n=g.context,m=g.width/2-g.xa-g.Rb,q=g.height/2-g.pa-g.Pb,u=g.zoom*g.Jc,x=g.C/2,y=g.B/2,v=ViewConstants.JI,B="px "+ViewConstants.HI,b=e.a.v,l=g.R?-(g.height>>2):0;g.R&&(m+=q/2);for(c=0;c<this.yf.length;c+=1){var f=this.yf[c];var r=!0;-1!==f.kc&&(b<f.kc||b>f.Xg)&&(r=!1);if(r){var w=
f.size*u/f.zoom;var z=1;24<=w&&(z=2,48<=w&&(z=3));if(u>=f.wa&&u<=f.Na){var A=Math.log(u/f.wa)/Math.log(f.Na/f.wa);n.font=w+B;A=.25>=A?4*A:.75<=A?4*(1-A):1;var C=1;-1!==f.kc&&0<f.wd&&(b-f.kc<f.wd?C=(b-f.kc+1)/f.wd:f.Xg-b<f.wd&&(C=(f.Xg-b+1)/f.wd));r=!0;var D=1;if(-1!==f.Df){var E=Math.sqrt((-(m+l)-f.Cm)*(-(m+l)-f.Cm)+(-q-f.Dm)*(-q-f.Dm));E>f.Df?r=!1:0<f.Df&&.75<E/f.Df&&(D=4*(1-E/f.Df))}if(r){n.globalAlpha=A*f.alpha*C*D;r=f.x+m+l-(e.pb>>1)+.5;D=f.y+q-(e.sb>>1)+.5;f.im||(r+=g.Rb,D+=g.Pb);-1!==f.kc?(r+=
f.Al*(e.nb-f.kc),D+=f.Bl*(e.nb-f.kc)):(r+=f.Al*e.nb,D+=f.Bl*e.nb);0!==g.gb&&(A=Math.sqrt(r*r+D*D),D=180/Math.PI*Math.atan2(D,r),D+=g.gb,r=A*Math.cos(Math.PI/180*D),D=A*Math.sin(Math.PI/180*D));g.R&&(r-=D/2);A=f.message;C=A.indexOf("\\n");D=D*u+y;r=r*u+x;n.save();n.translate(r,D);D=f.angle;f.jl||(D+=g.gb);n.rotate(D/180*Math.PI);for(D=0;-1!==C;)r=A.substr(0,C),A=A.substr(C+2),C=n.measureText(r).width>>1,n.fillStyle=v,n.fillText(r,-C+z,D+z),n.fillStyle=f.vg,n.fillText(r,-C,D),D+=w,C=A.indexOf("\\n");
C=n.measureText(A).width>>1;n.fillStyle=v;n.fillText(A,-C+z,D+z);n.fillStyle=f.vg;n.fillText(A,-C,D);n.restore()}}}}n.globalAlpha=1};t.prototype.fx=function(e){this.Hb(e);this.hb(e);this.tb(e)};t.prototype.WK=function(e){var c;for(c=this.La.length-1;0<=c;--c){var g=this.La[c];g.xd>e&&g.rr&&(this.Qk=c,g.rr=!1)}};t.prototype.cK=function(){var e;for(e=0;e<this.La.length;e+=1)this.La[e].rr=!1;this.Qk=0;this.W=!1};t.prototype.Gs=function(){return new d(this)};t.prototype.KB=function(e){return-2*Math.pow(e,
3)+3*Math.pow(e,2)+0*e};t.prototype.reset=function(){this.La=[];this.oc=[];this.K=!1;this.Qk=0};t.prototype.KI=function(){return this.La[this.La.length-1]};t.prototype.SH=function(e){var c=this.ec(e),g=this.La[c];e>g.lc?e=g.xd+1E3*(e-g.lc)/(g.uc*g.step):0<c?(c=this.La[c-1],e=c.xd+1E3*(e-c.lc)/(g.uc*g.step)):e=1E3*e/(g.uc*g.step);return e};t.prototype.qH=function(e,c,g,n,m,q,u,x,y,v,B){var b=this.Ba;b.x=e;b.y=c;b.zoom=g;b.angle=n;b.uc=x;b.step=y;b.M=m;b.depth=q;b.wc=u;b.lc=v;this.K&&(B=this.A.xd);
b.xd=B-1E3;this.update(null,B,v);this.A.set(this.current);this.A.tf=!1;this.A.xd=B;this.K=!0;return b.xd};t.prototype.fq=function(){return this.La[0]};t.prototype.eJ=function(){return this.La.length};t.prototype.add=function(e){e.Th?this.oc[this.oc.length]=e:this.La[this.La.length]=e};t.prototype.JB=function(e){var c=!1;this.Qk>=this.La.length-1&&e>=this.La[this.Qk].xd&&(c=!0);return c};t.prototype.j=function(e){return e===(e|0)?String(e|0):String(e.toFixed(1))};t.prototype.pJ=function(e){var c="";
0<=e&&e<this.oc.length&&(e=this.oc[e],e.ug&&(c+=" X "+-e.x),e.Wf&&(c+=" Y "+-e.y),e.ue&&(c+=" ZOOM "+this.j(e.zoom)),e.Eh&&(c+=" ANGLE "+e.angle));return c.substr(1)};t.prototype.oE=function(e){var c="";0<=e&&e<this.oc.length&&(e=this.oc[e],e.Dn&&(c+=" POIRESET"),e.Hg===a.play?c+=" POIPLAY":e.Hg===a.stop&&(c+=" POISTOP"),e.Hj!==a.Vo&&(c+=" POITRANS "+e.Hj));return c.substr(1)};t.prototype.qJ=function(e){var c="";0<=e&&e<this.oc.length&&(e=this.oc[e],e.Ql&&(c+=" LOOP "+(-1===e.Xa?"OFF":e.Xa)),e.wm&&
(c+=" STOP "+(-1===e.Tb?"OFF":e.Tb)),e.Ph&&(c+=" GPS "+e.uc),e.ei&&(c+=" STEP "+e.step));return c.substr(1)};t.prototype.oE=function(e){var c="";0<=e&&e<this.oc.length&&(e=this.oc[e],e.Dn&&(c+=" POIRESET"),e.Hg===a.play?c+=" POIPLAY":e.Hg===a.stop&&(c+=" POISTOP"),e.Hj!==a.Vo&&(c+=" POITRANS "+e.Hj));return c.substr(1)};t.prototype.tJ=function(e){var c="";0<=e&&e<this.oc.length&&(e=this.oc[e],e.Uf&&(c+=" THEME "+e.wc),e.Lh&&(c+=" DEPTH "+this.j(e.depth)),e.Vh&&(c+=" LAYERS "+e.M));return c.substr(1)};
t.prototype.sJ=function(e){var c="";0<=e&&e<this.oc.length&&(e=this.oc[e],e.Jr&&(c+=" POIT "+e.lc));return c.substr(1)};t.prototype.rJ=function(e){var c=Keywords.rd,g="";0<=e&&e<this.oc.length&&(e=this.oc[e],""!==e.Ef&&(g+=" "+c+e.Ef+c));return g.substr(1)};t.prototype.BL=function(e){var c=Keywords.rd,g="";if(0<=e&&e<this.La.length){var n=this.La[e];0<e?(e=this.La[e-1],g=n.lc===e.lc?"P "+this.j((n.xd-e.xd|0)/1E3):"T "+n.lc,n.tf?g+=" F":(n.x!==e.x&&(g+=" X "+-n.x),n.y!==e.y&&(g+=" Y "+-n.y),n.zoom!==
e.zoom&&(g+=" Z "+this.j(n.zoom))),n.angle!==e.angle&&(g+=" A "+n.angle),n.M!==e.M&&(g+=" L "+n.M),n.depth!==e.depth&&(g+=" D "+this.j(n.depth)),n.wc!==e.wc&&(g+=" C "+n.wc),n.uc!==e.uc&&(g+=" G "+n.uc),n.step!==e.step&&(g+=" S "+n.step),""!==n.Ef&&(g+=" "+c+n.Ef+c)):g="T "+n.lc+" X "+-n.x+" Y "+-n.y+" Z "+this.j(n.zoom)+" A "+n.angle+" L "+n.M+" D "+this.j(n.depth)+" C "+n.wc+" G "+n.uc+" S "+n.step}return g};t.prototype.update=function(e,c,g){var n=this.La.length,m=!1,q=this.Qk,u=q,x=!1;if(this.K)this.current.A(this.Ba,
this.A,c),c>=this.A.xd&&(this.K=!1);else{for(;q<n&&!m;){var y=this.La[q];y.xd>=c||!y.rr?m=!0:q+=1}m?(this.La[q].rr=!0,0<q?(this.La[q].tf&&(this.La[q].x=this.current.x,this.La[q].y=this.current.y,this.La[q].zoom=this.current.zoom),this.current.A(this.La[q-1],this.La[q],c)):(q=0,this.current.set(this.La[q]))):(q=n-1,this.current.set(this.La[q]),g>=this.current.lc&&this.W&&(x=!0),this.W=!0);this.Qk=q}this.Qk!==u&&this.current.yo&&e&&e.s.uG();return x};t.prototype.ec=function(e){for(var c=0,g=!1,n=this.La,
m=this.La.length;c<m&&!g;)n[c].lc>=e?g=!0:c+=1;g||(c=m-1);return c};t.prototype.Dd=function(e,c,g,n){if(0===this.La.length)g[g.length]=[e+" "+Keywords.cc,"no initial waypoint defined"];else switch(e){case Keywords.gf:c.ug&&(g[g.length]=[e+" "+Keywords.cc,n?"already defined":"overwrites "+-c.x]);c.x=this.La[0].x;c.ug=!0;break;case Keywords.hf:c.Wf&&(g[g.length]=[e+" "+Keywords.cc,n?"already defined":"overwrites "+-c.y]);c.y=this.La[0].y;c.Wf=!0;break;case Keywords.Od:c.ue&&(g[g.length]=[e+" "+Keywords.cc,
n?"already defined":"overwrites "+this.j(1>c.zoom?-(1/c.zoom):c.zoom)]);c.zoom=this.La[0].zoom;c.ue=!0;break;case Keywords.kl:c.Eh&&(g[g.length]=[e+" "+Keywords.cc,n?"already defined":"overwrites "+c.angle]);c.angle=this.La[0].angle;c.Eh=!0;break;case Keywords.Vm:c.Lh&&(g[g.length]=[e+" "+Keywords.cc,n?"already defined":"overwrites "+this.j(c.depth)]);c.depth=this.La[0].depth;c.Lh=!0;break;case Keywords.on:c.Vh&&(g[g.length]=[e+" "+Keywords.cc,n?"already defined":"overwrites "+c.M]);c.M=this.La[0].M;
c.Vh=!0;break;case Keywords.Sk:c.Uf&&(g[g.length]=[e+" "+Keywords.cc,n?"already defined":"overwrites "+c.wc]);c.wc=this.La[0].wc;c.Uf=!0;break;case Keywords.en:c.Ph&&(g[g.length]=[e+" "+Keywords.cc,n?"already defined":"overwrites "+c.uc]);c.uc=this.La[0].uc;c.Ph=!0;break;case Keywords.Nn:c.ei&&(g[g.length]=[e+" "+Keywords.cc,n?"already defined":"overwrites "+c.step]);c.step=this.La[0].step;c.ei=!0;break;case Keywords.Yi:c.wm&&(g[g.length]=[e+" "+Keywords.cc,n?"already defined":"overwrites "+(-1===
c.Tb?"OFF":c.Tb)]);c.Tb=this.La[0].Tb;c.wm=!0;break;case Keywords.Ii:c.Ql&&(g[g.length]=[e+" "+Keywords.cc,n?"already defined":"overwrites "+(-1===c.Xa?"OFF":c.Xa)]);c.Xa=this.La[0].Xa;c.Ql=!0;break;default:g[g.length]=[e+" "+Keywords.cc,"illegal command before "+Keywords.cc]}};t.prototype.$G=function(e,c){this.Dd(Keywords.gf,e,c,!1);this.Dd(Keywords.hf,e,c,!1);this.Dd(Keywords.Od,e,c,!1);this.Dd(Keywords.kl,e,c,!1);this.Dd(Keywords.on,e,c,!1);this.Dd(Keywords.Vm,e,c,!1);this.Dd(Keywords.Sk,e,c,!1);
this.Dd(Keywords.en,e,c,!1);this.Dd(Keywords.Nn,e,c,!1);this.Dd(Keywords.Ii,e,c,!1);this.Dd(Keywords.Yi,e,c,!1)};t.prototype.zJ=function(e){var c,g=this.La,n=this.La.length;for(c=1;c<n;c+=1){var m=g[c-1];var q=g[c];q.ug||(q.x=m.x);q.Wf||(q.y=m.y);q.Yk||(q.zh=m.zh);q.Zk||(q.Ah=m.Ah);q.es||(q.Ch=m.Ch);q.Eh||(q.angle=m.angle);q.ue||(q.zoom=m.zoom);q.Vh||(q.M=m.M);q.Lh||(q.depth=m.depth);q.Uf||(q.wc=m.wc);q.Ph||(q.uc=m.uc);q.ei||(q.step=m.step);q.Jr?q.lc<=m.lc&&(e[e.length]=[Keywords.Ir+" "+q.lc,"target generation must be later than previous ("+
m.lc+")"]):q.lc=m.lc;q.xd=q.eF?1E3*q.xd+m.xd:m.xd+1E3*(q.lc-m.lc)/(q.uc*q.step);q.Vu||(q.sm=m.sm);q.nk||(q.$c=m.$c)}};window.Waypoint=d;window.WaypointManager=t;window.WaypointConstants=a}(),function(){function d(k,p){var h=this,t=k.getElementsByTagName("div")[0];this.hv=!1;this.bh=-1;this.ef=1;this.LF=k;this.view=p;this.s=p.s;this.top=this.left=0;""!==k.style.left&&(this.left=parseInt(k.style.left,10));""!==k.style.top&&(this.top=parseInt(k.style.top,10));this.Pc=this.Wm=!1;this.Ak=this.zk=-1;this.Hz=
0;registerEvent(t,"mousedown",function(a){h.A(h,a)},!1);registerEvent(document,"mousemove",function(a){h.K(h,a)},!1);registerEvent(document,"mouseup",function(a){h.W(h,a)},!1);registerEvent(t,"touchstart",function(a){h.j(h,a)},!1);registerEvent(t,"touchmove",function(a){h.j(h,a)},!1);registerEvent(t,"touchend",function(a){h.j(h,a)},!1);registerEvent(window,"resize",function(){h.KE(h)},!1)}d.prototype.oo=function(k,p){for(var h=null,t=0;null===h&&t<k.length;)k[t].identifier===p?h=k[t]:t+=1;return h};
d.prototype.reset=function(){this.Pc=!1;this.bh=-1};d.prototype.j=function(k,p){var h=p.changedTouches;this.hv=!0;switch(p.type){case "touchstart":-1===k.bh&&(h=h[0],k.bh=h.identifier,k.gr(k,h.pageX,h.pageY));break;case "touchend":h=k.oo(h,k.bh);null!==h&&(k.ir(k,h.pageX,h.pageY),k.bh=-1);break;case "touchmove":h=k.oo(h,k.bh),null!==h&&k.hr(k,h.pageX,h.pageY)}p.stopPropagation&&p.stopPropagation();p.cancelable&&p.preventDefault()};d.prototype.KE=function(k){var p=this.view;p.C=p.Wq;p.B=p.Vq;p.SE();
p.$p.style.transform="scale("+p.ef+","+p.ef+")";p.$p.style.transformOrigin="top left";p.lu&&(this.s.Qg(!0),p.resize());k.XE(k.left+k.Hz,k.top,k.LF);k.Hz=0};d.prototype.kL=function(k,p){this.XE(this.left+k,this.top+p,this.LF)};d.prototype.XE=function(k,p,h){var t=window.innerWidth-h.clientWidth*this.ef,a=window.innerHeight-h.clientHeight*this.ef;t-=(window.innerWidth-document.body.clientWidth)*this.ef;k>t&&(k=t);p>a&&(p=a);0>k&&(k=0);0>p&&(p=0);h.style.left=k+"px";h.style.top=p+"px";h.style.position=
"fixed";this.left=k;this.top=p};d.prototype.gr=function(k,p,h){k.vp(k,p,h);k.Pc=!0;k.s.wn=!0};d.prototype.ir=function(k,p,h){k.vp(k,p,h);k.Pc=!1;k.s.wn=!1};d.prototype.hr=function(k,p,h){k.Pc&&k.kL(p-k.zk,h-k.Ak);k.zk=p;k.Ak=h};d.prototype.A=function(k,p){if(!k.hv){if(p.pageX||p.pageY){var h=p.pageX;var t=p.pageY}else h=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t=p.clientY+document.body.scrollTop+document.documentElement.scrollTop;k.gr(k,h,t)}p.stopPropagation&&p.stopPropagation();
p.preventDefault()};d.prototype.W=function(k,p){if(!k.hv&&k.Wm&&k.Pc){if(p.pageX||p.pageY){var h=p.pageX;var t=p.pageY}else h=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t=p.clientY+document.body.scrollTop+document.documentElement.scrollTop;k.ir(k,h,t)}p.stopPropagation&&p.stopPropagation();p.preventDefault()};d.prototype.K=function(k,p){if(!k.hv&&k.Wm&&k.Pc){if(p.pageX||p.pageY){var h=p.pageX;var t=p.pageY}else h=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
t=p.clientY+document.body.scrollTop+document.documentElement.scrollTop;k.hr(k,h,t)}p.stopPropagation&&p.stopPropagation();p.preventDefault()};d.prototype.vp=function(k,p,h){k.zk=p|0;k.Ak=h|0};window.PopupWindow=d}(),function(){function d(){this.key=new Uint8Array(256);this.A=this.j=0}d.prototype.Ze=function(k){var p,h,t=this.key;for(p=0;256>p;p+=1)t[p]=p;for(p=h=0;256>p;p+=1){h=h+t[p]+k.charCodeAt(p%k.length)&255;var a=t[p];t[p]=t[h];t[h]=a}this.A=this.j=0};d.prototype.random=function(){var k,p=0,
h=1,t=this.key,a=this.j,e=this.A;for(k=0;8>k;k+=1){a=a+1&255;e=e+t[a]&255;var c=t[a];t[a]=t[e];t[e]=c;p+=t[t[a]+t[e]&255]*h;h*=256}this.j=a;this.A=e;return p/1.8446744073709552E19};window.Random=d}(),function(){function d(k,p){this.au=k;this.x=p.I(Float32,0,"Stars.x");this.y=p.I(Float32,0,"Stars.y");this.j=p.I(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.Sb=new Random;this.Sb.Ze(Date.now().toString());this.sin=p.I(Float32,0,"Stars.sin");this.cos=p.I(Float32,0,"Stars.cos");this.A=Math.PI/
180;this.W=180/Math.PI;this.m=p;this.K=!1}d.prototype.Ze=function(k,p,h){var t,a=this.au,e=k*k+p*p;this.x=this.m.I(Float32,a,"Stars.x");this.y=this.m.I(Float32,a,"Stars.y");this.j=this.m.I(Float32,a,"Stars.z");for(t=0;t<a;t+=1){var c=t/a*(t/a)*(t/a)*(t/a)*h+1;do{var g=3*(this.Sb.random()*k-k/2);var n=3*(this.Sb.random()*p-p/2)}while(g*g+n*n>e);this.x[t]=g;this.y[t]=n;this.j[t]=c}this.sin=this.m.I(Float32,2880,"Stars.sin");this.cos=this.m.I(Float32,2880,"Stars.cos");for(t=0;2880>t;)this.sin[t]=Math.sin(t/
8*this.A),this.cos[t]=Math.cos(t/8*this.A),t+=1};d.prototype.hH=function(k,p,h,t,a,e,c,g){var n;this.K||(this.Ze(8192,8192,1024),this.K=!0);if(littleEndian){var m=g>>16&255;var q=g>>8&255;var u=g&255}else u=g>>24&255,q=g>>16&255,m=g>>8&255;for(n=0;n<this.au;n+=1){var x=this.x[n]+k;var y=this.y[n]+p;if(0!==t){var v=Math.sqrt(x*x+y*y);y=Math.atan2(y,x)*this.W;y+=t;0>y?y+=360:360<=y&&(y-=360);y*=8;y|=0;x=v*this.cos[y];y=v*this.sin[y]}v=this.j[n]/h*2;x=a/2+x/v|0;y=e/2+y/v|0;if(0<x&&x<a-1&&0<y&&y<e-1){x+=
y*a;v=1536/v|0;255<v&&(v=255);v/=255;if(c[x]===g){y=u+(this.red-u)*v;var B=q+(this.green-q)*v;var b=m+(this.blue-m)*v;y=littleEndian?-16777216|b<<16|B<<8|y:y<<24|b<<16|B<<8|255;c[x]=y}v/=2;y=u+(this.red-u)*v;B=q+(this.green-q)*v;b=m+(this.blue-m)*v;y=littleEndian?-16777216|b<<16|B<<8|y:y<<24|b<<16|B<<8|255;--x;c[x]===g&&(c[x]=y);x+=2;c[x]===g&&(c[x]=y);--x;x-=a;c[x]===g&&(c[x]=y);x+=a+a;c[x]===g&&(c[x]=y)}}};window.Stars=d}(),function(){window.ScriptParser={xB:"",wv:0,mn:function(d){switch(d){case Keywords.zy:case Keywords.Iz:case Keywords.qA:case Keywords.ox:case Keywords.aA:case Keywords.cA:case Keywords.px:case Keywords.bA:case Keywords.yy:case Keywords.ih:case Keywords.wi:case Keywords.Ax:case Keywords.eA:case Keywords.MB:case Keywords.yz:case Keywords.Az:case Keywords.uz:case Keywords.sz:case Keywords.wz:case Keywords.zz:case Keywords.su:case Keywords.ru:case Keywords.xu:case Keywords.bx:case Keywords.ju:case Keywords.sp:case Keywords.kz:case Keywords.ku:case Keywords.iz:case Keywords.lz:case Keywords.mz:case Keywords.jz:case Keywords.nz:case Keywords.tE:case Keywords.Bp:case Keywords.kw:case Keywords.mw:case Keywords.nw:case Keywords.lw:case Keywords.ow:case Keywords.pw:case Keywords.Gq:case Keywords.Ux:case Keywords.Wx:case Keywords.Xx:case Keywords.Vx:case Keywords.Yx:case Keywords.Zx:case Keywords.uy:case Keywords.wy:case Keywords.vy:case Keywords.Ex:case Keywords.Vr:case Keywords.yx:case Keywords.kr:case Keywords.Xo:case Keywords.Wo:case Keywords.iu:case Keywords.lr:case Keywords.cc:case Keywords.Zf:case Keywords.Ob:case Keywords.iA:case Keywords.Vn:case Keywords.Ur:case Keywords.jt:case Keywords.$t:case Keywords.vx:case Keywords.wx:case Keywords.Gr:case Keywords.hy:case Keywords.ts:case Keywords.Fx:case Keywords.vt:case Keywords.Ir:case Keywords.Nn:case Keywords.dz:case Keywords.jq:case Keywords.iq:case Keywords.zE:case Keywords.mA:case Keywords.Ea:case Keywords.Gw:case Keywords.gf:case Keywords.hf:case Keywords.ov:case Keywords.qv:case Keywords.Od:case Keywords.iw:case Keywords.SC:case Keywords.Ii:case Keywords.ds:case Keywords.ty:case Keywords.sy:case Keywords.BA:case Keywords.yA:case Keywords.wA:case Keywords.AA:case Keywords.vs:case Keywords.Gn:case Keywords.ip:case Keywords.kl:case Keywords.Sk:case Keywords.en:case Keywords.Yi:case Keywords.on:case Keywords.Vm:case Keywords.wp:case Keywords.so:case Keywords.nr:case Keywords.mr:case Keywords.Tx:case Keywords.bp:case Keywords.En:case Keywords.Ro:case Keywords.bq:case Keywords.ar:case Keywords.Ey:case Keywords.Vy:case Keywords.az:case Keywords.My:case Keywords.Hy:case Keywords.Xy:case Keywords.Iy:case Keywords.$y:case Keywords.Zy:case Keywords.Uy:case Keywords.Qy:case Keywords.Wy:case Keywords.Sy:case Keywords.Jy:case Keywords.Ry:case Keywords.Ky:case Keywords.Py:case Keywords.Ty:case Keywords.Oy:d=
!0;break;default:d=!1}return d},sn:function(d,k,p,h,t){var a=d.Ca();""===a||this.mn(a)?k[k.length]=[p,h+" missing"]:(k[k.length]=[p+" "+a,h+" must be "+t],d.N())},Xb:function(d,k,p,h,t){var a=!0,e=0,c=0,g=0,n=k.N();if(k.D()){e=k.F()|0;if(0>e||255<e)p[p.length]=[t+" "+n+" "+e,"RED out of range"];if(k.D()){c=k.F();if(0>c||255<c)p[p.length]=[t+" "+n+" "+e+" "+c,"GREEN out of range"];k.D()?(g=k.F(),0>g||255<g?p[p.length]=[t+" "+n+" "+e+" "+c+" "+g,"BLUE out of range"]:a=!1):this.sn(k,p,t+" "+n+" "+e+
" "+c,"BLUE","numeric")}else this.sn(k,p,t+" "+n+" "+e,"GREEN","numeric")}else{var m=k.Ca();var q=ColourManager.ze[m.toLowerCase()];void 0!==q?(k.N(),e=q[1],c=q[2],g=q[3],a=!1):""===m||this.mn(m)?p[p.length]=[t+" "+n,"name missing"]:(p[p.length]=[t+" "+n+" "+m,"name not known"],k.N())}if(!a)switch(-1!==d.la[h]&&h!==ViewConstants.Qp&&h!==ViewConstants.Mp&&h!==ViewConstants.Rp&&(p[p.length]=[t+" "+n+" "+e+" "+c+" "+g,"overwrites "+(d.la[h]>>16)+" "+(d.la[h]>>8&255)+" "+(d.la[h]&255)]),d.la[h]=e<<16|
c<<8|g,h){case ViewConstants.Op:d.kC=d.la[h];d.eh=!0;break;case ViewConstants.Pp:d.lC=d.la[h];d.eh=!0;break;case ViewConstants.Ws:d.Pk.red=e;d.Pk.green=c;d.Pk.blue=g;break;case ViewConstants.Xs:d.dh=[e,c,g];break;case ViewConstants.Qs:d.fk=[e,c,g];d.Ci="rgb("+e+","+c+","+g+")";break;case ViewConstants.Qp:d.Nw="rgb("+e+","+c+","+g+")";break;case ViewConstants.Mp:d.Mw="rgb("+e+","+c+","+g+")";break;case ViewConstants.Rp:d.Ow="rgb("+e+","+c+","+g+")";break;case ViewConstants.Os:d.vl=[e,c,g];d.a.nl=d.a.jg?
-16777216|g<<16|c<<8|e:e<<24|c<<16|g<<8|255;break;case ViewConstants.Qw:d.wl=[e,c,g];d.a.ol=d.a.jg?-16777216|g<<16|c<<8|e:e<<24|c<<16|g<<8|255;break;case ViewConstants.Tw:d.yl=[e,c,g];d.a.Vz="rgb("+e+","+c+","+g+")";break;case ViewConstants.Sw:d.xl=[e,c,g];d.a.Dy="rgb("+e+","+c+","+g+")";break;case ViewConstants.Pw:d.ul=[e,c,g];d.a.ms="rgb("+e+","+c+","+g+")";break;case ViewConstants.Ts:d.a.Fi=[e,c,g];break;case ViewConstants.Ss:d.a.Ei=[e,c,g];break;case ViewConstants.Rs:d.a.Di=[e,c,g];break;case ViewConstants.Us:d.a.Gi=
[e,c,g];break;case ViewConstants.Vs:d.a.Hi=[e,c,g];break;case ViewConstants.Up:case ViewConstants.Sp:case ViewConstants.Vp:case ViewConstants.Xp:case ViewConstants.Wp:case ViewConstants.Tp:break;default:d.eh=!0}},PK:function(d){var k=d.a.eb[d.a.Ee],p=d.la;k.fn=d.a.vf;-1===p[ViewConstants.zi]&&(d=p[ViewConstants.Kh],-1!==d?p[ViewConstants.zi]=16777215-d:(d=p[ViewConstants.xg],p[ViewConstants.zi]=-1!==d?16777215-d:16777215));-1===p[ViewConstants.xg]&&-1===p[ViewConstants.Kh]&&(p[ViewConstants.xg]=16777215-
p[ViewConstants.zi]);d=p[ViewConstants.xg];-1===d&&(d=p[ViewConstants.Kh]);k.Za.red=d>>16;k.Za.green=d>>8&255;k.Za.blue=d&255;d=p[ViewConstants.zi];k.mb.T.red=d>>16;k.mb.T.green=d>>8&255;k.mb.T.blue=d&255;d=p[ViewConstants.Ns];-1===d&&(d=p[ViewConstants.zi]);k.mb.U.red=d>>16;k.mb.U.green=d>>8&255;k.mb.U.blue=d&255;d=p[ViewConstants.Kh];-1===d&&(d=p[ViewConstants.xg]);k.ab.U.red=d>>16;k.ab.U.green=d>>8&255;k.ab.U.blue=d&255;d=p[ViewConstants.Np];-1===d&&(d=p[ViewConstants.Kh],-1===d&&(d=p[ViewConstants.xg]));
k.ab.T.red=d>>16;k.ab.T.green=d>>8&255;k.ab.T.blue=d&255;d=p[ViewConstants.xg];-1===d&&(d=p[ViewConstants.Kh]);k.hi.red=d>>16;k.hi.green=d>>8&255;k.hi.blue=d&255;d=p[ViewConstants.zi];k.Yf.red=d>>16;k.Yf.green=d>>8&255;k.Yf.blue=d&255;d=p[ViewConstants.Kh];-1===d&&(d=p[ViewConstants.xg]);k.yc.U.red=d>>16;k.yc.U.green=d>>8&255;k.yc.U.blue=d&255;d=p[ViewConstants.Np];-1===d&&(d=p[ViewConstants.Kh],-1===d&&(d=p[ViewConstants.xg]));k.yc.T.red=d>>16;k.yc.T.green=d>>8&255;k.yc.T.blue=d&255;d=p[ViewConstants.Ps];
-1===d?k.Cl=!0:(k.Cl=!1,k.Qb.U.red=d>>16,k.Qb.U.green=d>>8&255,k.Qb.U.blue=d&255);d=p[ViewConstants.Rw];-1===d&&(d=p[ViewConstants.Ps],-1===d&&(d=p[ViewConstants.xg]));k.Qb.T.red=d>>16;k.Qb.T.green=d>>8&255;k.Qb.T.blue=d&255;k.BK(p[ViewConstants.Op],p[ViewConstants.Pp])},Ru:function(d,k){var p=d;d.length>k&&(p=d.substr(0,k-1)+"...");return p},tF:function(d,k,p,h){var t=d.indexOf("\\n");-1!==t&&(p?k[k.length]=[Keywords.sp+" "+Keywords.rd+this.Ru(d,23)+Keywords.rd,"only one line allowed"]:(t=d.substr(t+
2).indexOf("\\n"),-1===t||h||(k[k.length]=[Keywords.rd+this.Ru(d,23),"only two lines allowed"])))},rz:function(d,k,p,h){var t=Keywords.Sk+" ",a="overwrites ";t=p>=d.a.Ee?t+Keywords.rp:t+p;a=h>=d.a.Ee?a+Keywords.rp:a+h;k[k.length]=[t,a]},io:function(d,k,p,h,t,a,e){var c=0,g=0,n=0;if(k.D())if(c=k.F()|0,0>c||255<c)p[p.length]=[t+" "+e+" "+c,"RED out of range"],a=!0;else if(k.D())if(g=k.F()|0,0>g||255<g)p[p.length]=[t+" "+e+" "+c+" "+g,"GREEN out of range"],a=!0;else if(k.D()){if(n=k.F()|0,0>n||255<n)p[p.length]=
[t+" "+e+" "+c+" "+g+" "+n,"BLUE out of range"],a=!0}else this.sn(k,p,t+" "+e+" "+c+" "+g,"BLUE","numeric"),a=!0;else this.sn(k,p,t+" "+e+" "+c,"GREEN","numeric"),a=!0;else{var m=k.Ca();var q=ColourManager.ze[m.toLowerCase()];void 0!==q?(k.N(),c=q[1],g=q[2],n=q[3]):(a=!0,""===m||this.mn(m)?p[p.length]=[t+" "+e,"name missing"]:(p[p.length]=[t+" "+e+" "+m,"name not known"],k.N()))}a||(-1!==d.fc[h]&&(p[p.length]=[t+" "+e+" "+c+" "+g+" "+n,"overwrites "+(d.fc[h]>>16)+" "+(d.fc[h]>>8&255)+" "+(d.fc[h]&
255)]),d.fc[h]=c<<16|g<<8|n)},Sj:function(d,k){var p=Keywords.Vf+String(k);d=d.s.hI(k);-1!==d&&(p=d.toFixed(1));return p},qp:function(d,k){var p="",h=k.indexOf(Keywords.Vf);if(-1===h)p=k;else{for(;-1!==h;)if(p+=k.substr(0,h),h+1<k.length){var t=k[h+1];k=k.substr(h+2);switch(t){case "B":p+=ViewConstants.jv;break;case "N":p+=d.So;break;case "R":p+=d.Eb;break;case "A":p=""===d.pd?p+d.Eb:p+d.pd;break;case "O":p+=d.cr;break;case "T":p+=ViewConstants.WH;break;case "0":p+=this.Sj(d,0);break;case "1":p+=
this.Sj(d,1);break;case "2":p+=this.Sj(d,2);break;case "3":p+=this.Sj(d,3);break;case "4":p+=this.Sj(d,4);break;case "5":p+=this.Sj(d,5);break;case "6":p+=this.Sj(d,6);break;case "7":p+=this.Sj(d,7);break;case "8":p+=this.Sj(d,8);break;case "9":p+=this.Sj(d,9);break;case Keywords.Vf:p+=Keywords.Vf;break;default:p+=Keywords.Vf+t}h=k.indexOf(Keywords.Vf)}else k=k.substr(h+1),h=-1;p+=k}return p},Xh:function(d,k,p,h){h[h.length]=d?k===Keywords.ih?[k+" "+p,"already defined"]:[k+" "+p,"overwrites "+Keywords.ih]:
k===Keywords.ih?[k+" "+p,"overwrites "+Keywords.wi]:[k+" "+p,"already defined"]},gi:function(d,k){var p="";d===(d|0)?p=String(d):p=d.toFixed(k);return p},uL:function(d){var k=d.substr(0,1);d=d.substr(1);var p=!1;if("B"===k||"S"===k){this.xB=k;k=0;for(p=!0;p&&k<d.length;)"0"<=d[k]&&"9">=d[k]?k+=1:p=!1;p&&(this.wv=Number(d))}return p},tK:function(d,k){if("B"===this.xB){var p=d.rh.length;d.rh[p]=this.wv;d.rh[p+1]=k}else p=d.Pi.length,d.Pi[p]=this.wv,d.Pi[p+1]=k},iJ:function(d,k,p){var h=new Script(k,
!1),t=!1,a=!1,e="",c="",g="",n="",m=!1,q="",u=0,x=!1,y=!1,v=d.fd,B=null,b=0,l=0,f="",r=d.S.Gs(),w=null,z=!1,A=!1,C=null,D=1,E=ViewConstants.HB,F=-1,G=-1,H=0,J=0,O=!1,K=!1,M=0,I=0,X=-1,R=0,U=0,Y=null,da=1,V=ViewConstants.HB,ka=ViewConstants.FG,ma=-1,ea=-1,aa=0,ca=0,ba=!1,na=!1,ja=0,T=0,S=-1,W=0,la=0,fa=null,Z=1,L=ViewConstants.II,Q=-1,ia=-1,P=0,N=0,ha=!1,oa=!1,qa=0,ra=0,ua=-1,pa=0,sa=0,xa=!1,Ca=!1,za="numeric",wa=-1,Da=-1,Ea=-1,Ba=-1,ya=-1,Ia=-1,Ja=0,Ma=0,Fa=0,Ka=0,ta=0,Aa=0,va=0,Ga=0,Oa=0,fb=0,La=
[],Ha=0,gb=new Pattern("decode",d.P),Ta=!1,Ua=!1,Va=!1,Wa=!1,Xa=!1,Ya=!1,Pa=!1,Za=!1,$a=!1,Qa=!1,Ra=!1,ab=!1,bb=!1,cb=!1,db=!1;d.un=0;d.By=0;d.Ms=!1;d.eh=!1;d.la[ViewConstants.xg]=-1;d.la[ViewConstants.zi]=-1;d.la[ViewConstants.Ns]=-1;d.la[ViewConstants.Kh]=-1;d.la[ViewConstants.Np]=-1;d.la[ViewConstants.Op]=-1;d.la[ViewConstants.Pp]=-1;d.la[ViewConstants.Ws]=-1;d.la[ViewConstants.Xs]=-1;d.la[ViewConstants.Os]=-1;d.la[ViewConstants.Ts]=-1;d.la[ViewConstants.Ss]=-1;d.la[ViewConstants.Rs]=-1;d.la[ViewConstants.Us]=
-1;d.la[ViewConstants.Vs]=-1;d.la[ViewConstants.Qs]=-1;d.la[ViewConstants.Qp]=-1;d.la[ViewConstants.Up]=-1;d.la[ViewConstants.Sp]=-1;d.la[ViewConstants.Vp]=-1;d.la[ViewConstants.Xp]=-1;d.la[ViewConstants.Wp]=-1;d.la[ViewConstants.Tp]=-1;d.la[ViewConstants.Mp]=-1;d.la[ViewConstants.Rp]=-1;d.fc=null;if(-1!==h.tC()){d.fc=d.a.m.I(Int32,256,"View.customColours");d.fc.fill(-1);for(e=h.N();""!==e;){za="numeric";if(m)e[e.length-1]===Keywords.rd?(q=q+" "+e.substr(0,e.length-1),m=!1,this.tF(q,v,a,xa),a?(""!==
d.ji&&(v[v.length]=[Keywords.sp+" "+Keywords.rd+this.Ru(q,20)+Keywords.rd,"overwrites "+Keywords.rd+d.ji+Keywords.rd]),d.ji=q,a=!1):xa?(fa.message=this.qp(d,q),xa=!1,d.S.yB(fa)):(r.Ef=this.qp(d,q),r.rA=!0)):q=q+" "+e;else if(e[0]===Keywords.rd)q=e.substr(1),m=!0,e[e.length-1]===Keywords.rd&&(m=!1,q=q.substr(0,q.length-1),this.tF(q,v,a,xa),a?(""!==d.ji&&(v[v.length]=[Keywords.sp+" "+Keywords.rd+this.Ru(q,20)+Keywords.rd,"overwrites "+Keywords.rd+d.ji+Keywords.rd]),d.ji=q,a=!1):xa?(fa.message=this.qp(d,
q),xa=!1,d.S.yB(fa)):(r.Ef=this.qp(d,q),r.rA=!0));else{x=y=!1;d.un+=1;switch(e){case Keywords.sp:x=a=!0;break;case Keywords.lz:h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Wt&&u<=ViewConstants.Qt&&(E=u,x=!0));break;case Keywords.tE:h.D()?(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(ta=u,y=!1,h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(R=ta,U=u,x=!0)))):(c=h.Ca(),c===Keywords.je&&(c=h.N(),U=R=0,x=!0));break;case Keywords.nz:h.D()?(y=!0,u=h.F(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(y=
!1,ta=u,h.D()&&(y=!0,u=h.F(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(y=!1,Aa=u,h.D()&&(y=!0,u=h.F(),0<=u&&u<=d.a.ga/2&&(M=ta,I=Aa,X=u,x=!0)))))):(c=h.Ca(),c===Keywords.Ob&&(c=h.N(),I=M=0,X=-1,x=!0));break;case Keywords.jz:h.D()&&(y=!0,u=h.F(),0<=u&&360>u&&(J=u,O=!1,c=h.Ca(),c===Keywords.je&&(c=h.N(),O=!0),x=!0));break;case Keywords.mz:h.D()?(y=!0,u=h.F()|0,0<=u&&(ta=u,h.D()?(u=h.F()|0,u>=ta?(Aa=u,h.D()?(u=h.F()|0,0<=u&&u<=Aa-ta>>1?(F=ta,G=Aa,H=u,x=!0):(x=!0,v[v.length]=[e+" "+ta+" "+Aa+" "+u,"third argument must from 0 to "+
(Aa-ta>>1)])):y=!1):(x=!0,v[v.length]=[e+" "+ta+" "+u,"second argument must be >= first"])):y=!1)):(c=h.Ca(),c===Keywords.Zf?(c=h.N(),G=F=-1,H=0,x=!0):y=!1);break;case Keywords.iz:h.D()&&(y=!0,u=h.F(),0<=u&&1>=u&&(D=u,x=!0));break;case Keywords.kz:case Keywords.ku:La=[];x=!0;va=-1E3;for(Ga=-2E3;x&&h.D();)ta=h.F(),h.D()?(Aa=h.F(),ta>=-d.a.ga&&ta<2*d.a.ga&&Aa>=-d.a.ga&&Aa<2*d.a.ga?(La[La.length]=ta,La[La.length]=Aa):(v[v.length]=[e+" "+ta+" "+Aa,"coordinate out of range"],va=0,x=!1)):ta>=ViewConstants.wa&&
ta<=ViewConstants.Na?va=ta:ta>=ViewConstants.wk&&ta<=ViewConstants.tk?va=-(1/ta):(v[v.length]=[e+" "+ta,"zoom out of range"],va=0,x=!1);-1E3===va&&(4<La.length?(ta=La[La.length-2],ta>=ViewConstants.wa&&ta<=ViewConstants.Na?va=ta:ta>=ViewConstants.wk&&ta<=ViewConstants.tk?va=-(1/ta):(v[v.length]=[e+" "+ta,"zoom out of range"],va=0,x=!1),x&&(ta=La[La.length-1],ta>=ViewConstants.wa&&ta<=ViewConstants.Na?Ga=ta:ta>=ViewConstants.wk&&ta<=ViewConstants.tk?Ga=-(1/ta):(v[v.length]=[e+" "+ta,"zoom out of range"],
Ga=0,x=!1)),x&&(La=La.slice(0,La.length-2))):(v[v.length]=[e,"missing zoom value"],x=!1));x&&4>La.length&&(v[v.length]=[e,"requires at least 2 coordinate pairs"],x=!1);x?(c=h.Ca(),K=!1,c===Keywords.je&&(c=h.N(),K=!0,c=h.Ca()),C=d.S.oH(La,e===Keywords.ku,va,Ga,d.Ow,D,E,F,G,H,J,O,K,M,I,X,R,U),d.S.pG(C)):x=!0;break;case Keywords.mw:h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Wt&&u<=ViewConstants.Qt&&(ta=u,y=!1,h.D()&&(y=!0,u=h.F(),0<=u&&1>=u&&(ka=u,V=ta,x=!0))));break;case Keywords.pw:h.D()?(y=!0,u=h.F(),
u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(ta=u,y=!1,h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(W=ta,la=u,x=!0)))):(c=h.Ca(),c===Keywords.je&&(c=h.N(),la=W=0,x=!0));break;case Keywords.ow:h.D()?(y=!0,u=h.F(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(y=!1,ta=u,h.D()&&(y=!0,u=h.F(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(y=!1,Aa=u,h.D()&&(y=!0,u=h.F(),0<=u&&u<=d.a.ga/2&&(ja=ta,T=Aa,S=u,x=!0)))))):(c=h.Ca(),c===Keywords.Ob&&(c=h.N(),T=ja=0,S=-1,x=!0));break;case Keywords.lw:h.D()&&(y=!0,u=h.F(),0<=u&&360>
u&&(ca=u,ba=!1,c=h.Ca(),c===Keywords.je&&(c=h.N(),ba=!0),x=!0));break;case Keywords.nw:h.D()?(y=!0,u=h.F()|0,0<=u&&(ta=u,h.D()?(u=h.F()|0,u>=ta?(Aa=u,h.D()?(u=h.F()|0,0<=u&&u<=Aa-ta>>1?(ma=ta,ea=Aa,aa=u,x=!0):(x=!0,v[v.length]=[e+" "+ta+" "+Aa+" "+u,"third argument must from 0 to "+(Aa-ta>>1)])):y=!1):(x=!0,v[v.length]=[e+" "+ta+" "+u,"second argument must be >= first"])):y=!1)):(c=h.Ca(),c===Keywords.Zf?(c=h.N(),ea=ma=-1,aa=0,x=!0):y=!1);break;case Keywords.kw:h.D()&&(y=!0,u=h.F(),0<=u&&1>=u&&(da=
u,x=!0));break;case Keywords.Bp:h.D()&&(y=!0,u=h.F(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,ta=u,h.D()&&(y=!0,u=h.F(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,Aa=u,h.D()&&(y=!0,u=h.F(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,Oa=u,h.D()&&(y=!0,u=h.F(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,fb=u,h.D()&&(y=!0,u=h.F(),va=-1E3,u>=ViewConstants.wa&&u<=ViewConstants.Na?va=u:u>=ViewConstants.wk&&u<=ViewConstants.tk&&(va=-(1/u)),-1E3!==va&&(Ga=-2E3,h.D()&&(y=!0,u=h.F(),Ga=-1E3,u>=ViewConstants.wa&&u<=ViewConstants.Na?Ga=u:u>=ViewConstants.wk&&
u<=ViewConstants.tk&&(Ga=-(1/u))),c=h.Ca(),na=!1,c===Keywords.je&&(c=h.N(),na=!0,c=h.Ca()),Y=d.S.iH(ta,Aa,Oa,fb,va,Ga,d.Mw,da,V,ka,ma,ea,aa,ca,ba,na,ja,T,S,W,la),d.S.mG(Y),x=!0))))))))));break;case Keywords.Wx:h.D()&&(y=!0,u=h.F(),u>=ViewConstants.xD&&u<=ViewConstants.oD&&(L=u,x=!0));break;case Keywords.Zx:h.D()?(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(ta=u,y=!1,h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(pa=ta,sa=u,x=!0)))):(c=h.Ca(),c===Keywords.je&&(c=h.N(),
sa=pa=0,x=!0));break;case Keywords.Yx:h.D()?(y=!0,u=h.F(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(y=!1,ta=u,h.D()&&(y=!0,u=h.F(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(y=!1,Aa=u,h.D()&&(y=!0,u=h.F(),0<=u&&u<=d.a.ga/2&&(qa=ta,ra=Aa,ua=u,x=!0)))))):(c=h.Ca(),c===Keywords.Ob&&(c=h.N(),ra=qa=0,ua=-1,x=!0));break;case Keywords.Vx:h.D()&&(y=!0,u=h.F(),0<=u&&360>u&&(N=u,ha=!1,c=h.Ca(),c===Keywords.je&&(c=h.N(),ha=!0),x=!0));break;case Keywords.Xx:h.D()?(y=!0,u=h.F()|0,0<=u&&(ta=u,h.D()?(u=h.F()|0,u>=ta?(Aa=u,h.D()?(u=h.F()|0,
0<=u&&u<=Aa-ta>>1?(Q=ta,ia=Aa,P=u,x=!0):(x=!0,v[v.length]=[e+" "+ta+" "+Aa+" "+u,"third argument must from 0 to "+(Aa-ta>>1)])):y=!1):(x=!0,v[v.length]=[e+" "+ta+" "+u,"second argument must be >= first"])):y=!1)):(c=h.Ca(),c===Keywords.Zf?(c=h.N(),ia=Q=-1,P=0,x=!0):y=!1);break;case Keywords.Ux:h.D()&&(y=!0,u=h.F(),0<=u&&1>=u&&(Z=u,x=!0));break;case Keywords.Gq:h.D()&&(y=!0,u=h.F(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,ta=u,h.D()&&(y=!0,u=h.F(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,Aa=u,h.D()&&(y=!0,u=h.F(),va=-1E3,
u>=ViewConstants.wa&&u<=ViewConstants.Na?va=u:u>=ViewConstants.wk&&u<=ViewConstants.tk&&(va=-(1/u)),-1E3!==va&&(Ga=-2E3,h.D()&&(y=!0,u=h.F(),Ga=-1E3,u>=ViewConstants.wa&&u<=ViewConstants.Na?Ga=u:u>=ViewConstants.wk&&u<=ViewConstants.tk&&(Ga=-(1/u))),-1E3!==Ga&&(c=h.Ca(),oa=!1,c===Keywords.je&&(c=h.N(),oa=!0,c=h.Ca()),c[0]===Keywords.rd?(fa=d.S.lH(ta,Aa,va,Ga,d.Nw,Z,L,Q,ia,P,N,ha,oa,qa,ra,ua,pa,sa),x=xa=!0):y=!1)))))));break;case Keywords.zE:x=d.a.Ng=!0;break;case Keywords.Tx:x=d.a.xi=!0;break;case Keywords.bp:x=
!1;c=h.N();if(""!==c){for(d.ap=[];h.D();)u=h.F(),d.ap[d.ap.length]=u;d.oG(v,c,d.ap);d.ap=[];x=!0}break;case Keywords.En:x=!1;c=h.N();if(""!==c&&(g=h.Ca(),""!==g)){h.N();for(n=h.Ca();""!==n&&!this.mn(n)&&!h.D()&&-1!==d.P.jo(gb,n,!1,d.a.m);)h.N(),g+=n,n=h.Ca();Aa=ta=0;h.D()&&(y=!0,ta=h.F());h.D()&&(y=!0,Aa=h.F());va=-1;n=h.Ca();if(""!==n){switch(n){case Keywords.QA:va=ViewConstants.Wr;break;case Keywords.NA:va=ViewConstants.GA;break;case Keywords.OA:va=ViewConstants.HA;break;case Keywords.PA:va=ViewConstants.IA;
break;case Keywords.TA:va=ViewConstants.LA;break;case Keywords.UA:va=ViewConstants.MA;break;case Keywords.SA:va=ViewConstants.KA;break;case Keywords.RA:va=ViewConstants.JA}-1!==va&&h.N()}-1===va&&(va=ViewConstants.Wr);d.nG(v,c,g,ta,Aa,va);x=!0}break;case Keywords.Ro:g=h.Ca();if(""!==g){h.N();for(n=h.Ca();""!==n&&!this.mn(n)&&!h.D()&&-1!==d.P.jo(gb,n,!1,d.a.m);)h.N(),g+=n,n=h.Ca();Aa=ta=0;h.D()&&(y=!0,ta=h.F());h.D()&&(y=!0,Aa=h.F());va=-1;n=h.Ca();if(""!==n){switch(n){case Keywords.QA:va=ViewConstants.Wr;
break;case Keywords.NA:va=ViewConstants.GA;break;case Keywords.OA:va=ViewConstants.HA;break;case Keywords.PA:va=ViewConstants.IA;break;case Keywords.TA:va=ViewConstants.LA;break;case Keywords.UA:va=ViewConstants.MA;break;case Keywords.SA:va=ViewConstants.KA;break;case Keywords.RA:va=ViewConstants.JA}-1!==va&&h.N()}-1===va&&(va=ViewConstants.Wr);d.rG(d.Po,d.Yq,d.Oo,d.Zq,d.Rc,d.Fy,d.Gy,g,ta,Aa,va)||(v[v.length]=[Keywords.Ro+" "+g,"invalid name or rle"]);x=!0}break;case Keywords.Ey:h.D()&&(y=!0,u=h.F(),
-4096<=u&&4096>=u&&(d.Fy=u,y=!1,h.D()&&(y=!0,u=h.F(),-4096<=u&&4096>=u&&(d.Gy=u,x=!0))));break;case Keywords.ar:if(h.D()){if(y=!0,u=h.F(),0<=u){d.Po=u;d.Zq=0;d.Yq=-1;d.Oo=[];for(t=!0;t;)h.D()?(u=h.F(),d.Oo[d.Oo.length]=u):(c=h.Ca(),d.sG(c,d.Oo)?h.N():t=!1);x=!0}}else c=h.Ca(),c===Keywords.bq&&(c=h.N(),h.D()&&(y=!0,u=h.F(),1<=u&&(d.Zq=u,d.Po=0,d.Yq=-1,h.D()?(u=h.F(),0<=u&&(d.Po=u,h.D()?(u=h.F(),u>=d.Po+d.Zq&&(d.Yq=u,x=!0)):x=!0)):x=!0)));break;case Keywords.gF:x=r.yo=!0;break;case Keywords.Vy:x=!0;
y=!1;za="paste mode";c=h.Ca();switch(c){case Keywords.az:d.Rc=ViewConstants.bE;break;case Keywords.My:d.Rc=ViewConstants.Ly;break;case Keywords.Hy:d.Rc=ViewConstants.QD;break;case Keywords.Xy:d.Rc=ViewConstants.ZD;break;case Keywords.Iy:d.Rc=ViewConstants.RD;break;case Keywords.$y:d.Rc=ViewConstants.aE;break;case Keywords.Zy:d.Rc=ViewConstants.Yy;break;case Keywords.Uy:d.Rc=ViewConstants.$q;break;case Keywords.Qy:d.Rc=ViewConstants.VD;break;case Keywords.Wy:d.Rc=ViewConstants.$D;break;case Keywords.Sy:d.Rc=
ViewConstants.XD;break;case Keywords.Jy:d.Rc=ViewConstants.SD;break;case Keywords.Ry:d.Rc=ViewConstants.WD;break;case Keywords.Ky:d.Rc=ViewConstants.TD;break;case Keywords.Py:d.Rc=ViewConstants.UD;break;case Keywords.Ty:d.Rc=ViewConstants.YD;break;case Keywords.Oy:d.Rc=ViewConstants.Ny;break;default:if(4===c.length){for(Ha=u=0;4>Ha&&x;){u<<=1;switch(c.substr(Ha,1)){case "1":u|=1;break;case "0":break;default:x=!1}Ha+=1}x&&(d.Rc=u)}else h.D()?(y=!0,u=h.F()|0,0<=u&&15>=u?d.Rc=u:x=!1):x=!1}x&&!y&&h.N();
break;case Keywords.Ex:x=d.zj=!0;break;case Keywords.vy:d.Oi=!1;x=!0;break;case Keywords.uy:x=d.oe=!0;break;case Keywords.wy:d.qo=!1;x=!0;break;case Keywords.hy:h.D()&&(y=!0,u=h.F()|0,u>=ViewConstants.wD&&u<=ViewConstants.nD&&(d.a.ga=1<<u,x=!0));break;case Keywords.Gr:c=h.Ca();c===Keywords.Ob?(c=h.N(),r.sm=!1):r.sm=!0;x=r.Vu=!0;break;case Keywords.ts:c=h.Ca();c===Keywords.Ob?(c=h.N(),r.tf=!1):r.tf=!0;x=!0;break;case Keywords.vt:h.D()&&(y=!0,u=h.F()|0,0<=u&&u<=d.Ot&&(d.J=u,x=!0));break;case Keywords.Fx:c=
h.Ca();c===Keywords.Ob?(c=h.N(),d.Rh=!1):d.Rh=!0;x=!0;break;case Keywords.jq:c=h.Ca();c===Keywords.Ob?(c=h.N(),r.$c=!1):r.$c=!0;x=r.nk=!0;break;case Keywords.iq:h.D()&&(y=!0,u=h.F()|0,u>=ViewConstants.QI&&u<=ViewConstants.LI&&(d.a.vf=u,x=d.Ms=!0));break;case Keywords.Ea:case Keywords.Gw:f=e;Ca=!1;if(h.D()){l=h.F()|0;if(0>l||255<l)v[v.length]=[e+" "+l,"STATE out of range"],Ca=!0;this.io(d,h,v,l,e,Ca,l)}else switch(c=h.Ca(),c){case Keywords.LD:this.Xb(d,h,v,ViewConstants.xg,f);break;case Keywords.MD:this.Xb(d,
h,v,ViewConstants.zi,f);break;case Keywords.OC:this.Xb(d,h,v,ViewConstants.Kh,f);break;case Keywords.eD:c=h.N();this.io(d,h,v,ViewConstants.fD,e,!1,c);break;case Keywords.iD:c=h.N();this.io(d,h,v,ViewConstants.jD,e,!1,c);break;case Keywords.gD:c=h.N();this.io(d,h,v,ViewConstants.hD,e,!1,c);break;case Keywords.WC:c=h.N();this.io(d,h,v,ViewConstants.XC,e,!1,c);break;case Keywords.$u:this.Xb(d,h,v,ViewConstants.xg,f);break;case Keywords.Zu:this.Xb(d,h,v,ViewConstants.zi,f);break;case Keywords.sA:this.Xb(d,
h,v,ViewConstants.Ns,f);break;case Keywords.bv:this.Xb(d,h,v,ViewConstants.Kh,f);break;case Keywords.av:this.Xb(d,h,v,ViewConstants.Np,f);break;case Keywords.uA:this.Xb(d,h,v,ViewConstants.Ps,f);break;case Keywords.tA:this.Xb(d,h,v,ViewConstants.Rw,f);break;case Keywords.jq:this.Xb(d,h,v,ViewConstants.Op,f);break;case Keywords.iq:this.Xb(d,h,v,ViewConstants.Pp,f);break;case Keywords.Gr:this.Xb(d,h,v,ViewConstants.Ws,f);break;case Keywords.qA:this.Xb(d,h,v,ViewConstants.Xs,f);break;case Keywords.ox:this.Xb(d,
h,v,ViewConstants.Qs,f);break;case Keywords.Gq:this.Xb(d,h,v,ViewConstants.Qp,f);break;case Keywords.Bp:this.Xb(d,h,v,ViewConstants.Mp,f);break;case Keywords.uE:this.Xb(d,h,v,ViewConstants.Rp,f);break;case Keywords.NB:this.Xb(d,h,v,ViewConstants.Os,f);break;case Keywords.PB:this.Xb(d,h,v,ViewConstants.Qw,f);break;case Keywords.WE:this.Xb(d,h,v,ViewConstants.Tw,f);break;case Keywords.Ro:this.Xb(d,h,v,ViewConstants.Sw,f);break;case Keywords.BB:this.Xb(d,h,v,ViewConstants.Pw,f);break;case Keywords.EC:this.Xb(d,
h,v,ViewConstants.Ts,f);break;case Keywords.DC:this.Xb(d,h,v,ViewConstants.Ss,f);break;case Keywords.CC:this.Xb(d,h,v,ViewConstants.Rs,f);break;case Keywords.FC:this.Xb(d,h,v,ViewConstants.Us,f);break;case Keywords.GC:this.Xb(d,h,v,ViewConstants.Vs,f);break;case Keywords.mF:this.Xb(d,h,v,ViewConstants.Up,f);break;case Keywords.kF:this.Xb(d,h,v,ViewConstants.Sp,f);break;case Keywords.nF:this.Xb(d,h,v,ViewConstants.Vp,f);break;case Keywords.qF:this.Xb(d,h,v,ViewConstants.Xp,f);break;case Keywords.oF:this.Xb(d,
h,v,ViewConstants.Wp,f);break;case Keywords.lF:this.Xb(d,h,v,ViewConstants.Tp,f);break;default:l=-1;if(d.a.G){switch(c){case "N":l=1;break;case "E":l=2;break;case "NE":l=3;break;case "S":l=4;break;case "NS":l=5;break;case "ES":l=6;break;case "NES":l=7;break;case "W":l=8;break;case "NW":l=9;break;case "EW":l=10;break;case "NEW":l=11;break;case "SW":l=12;break;case "NSW":l=13;break;case "ESW":l=14;break;case "NESW":l=15}-1!==l&&(c=h.N(),this.io(d,h,v,l,e,Ca,l))}-1===l&&(v[v.length]=[e+" "+c,"illegal element"],
c=h.N())}x=!0;break;case Keywords.ip:-1===h.tC()&&h.QH();x=!0;--d.un;break;case Keywords.ds:x=d.Ia=!0;break;case Keywords.yy:x=d.xy=!0;break;case Keywords.Iz:x=d.Ju=!0;break;case Keywords.zy:d.pl=!1;x=!0;break;case Keywords.ty:d.Ic=!0;x=d.Zt=!0;break;case Keywords.sy:x=d.Bk=!0;break;case Keywords.mA:x=db=cb=bb=ab=Ra=Qa=$a=Za=Pa=Ya=Xa=Wa=Va=Ua=Ta=!0;break;case Keywords.Ob:v[v.length]=[Keywords.Ob,"must follow LOOP or STOP"];x=!0;break;case Keywords.Zf:c=h.Ca();c===Keywords.cc?(c=h.N(),r.Th?(d.S.$G(r,
v),d.DK()):v[v.length]=[Keywords.Zf+" "+Keywords.cc,"only valid at a POI"]):v[v.length]=[Keywords.Zf,"must be followed by INITIAL"];x=!0;break;case Keywords.cc:v[v.length]=[Keywords.cc,"must follow POI, ALL or a POI setting"];x=!0;break;case Keywords.vs:c=h.Ca();c===Keywords.Ob?(c=h.N(),d.Ue=!1):d.ta&&(d.Ue=!0);x=!0;break;case Keywords.iu:h.D()&&(y=!0,u=h.F()|0,0<=u&&(r.Th?(r.lc=u,r.Jr=!0):v[v.length]=[Keywords.iu+" "+u,"only valid at a POI"],x=!0));break;case Keywords.Wo:r.FK(v);x=!0;break;case Keywords.Xo:r.JK(v);
x=!0;break;case Keywords.kr:r.GK(v);x=!0;break;case Keywords.lr:h.D()&&(y=!0,u=h.F(),u>=WaypointConstants.qE&&u<=WaypointConstants.pE&&(r.LK(u,v),x=!0));break;case Keywords.yx:x=d.pt=!0;break;case Keywords.iA:c=h.Ca();c===Keywords.Ob?(c=h.N(),d.di=!1):d.di=!0;x=!0;break;case Keywords.Vr:h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(ya=u,y=!1,e+=" "+u,h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(Ia=u,x=!0,d.yd&&(v[v.length]=[Keywords.Vr+" "+ya+" "+Ia,"overwrites "+
Da+" "+Ea]),Da=ya,Ea=Ia,d.yd=!0))));break;case Keywords.Ur:h.D()&&(y=!0,u=h.F()|0,0<u&&(Ba=u,y=!1,e+=" "+u,h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(ya=u,y=!1,e+=" "+u,h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(Ia=u,x=!0,d.Wn&&(v[v.length]=[Keywords.Ur+" "+Ba+" "+ya+" "+Ia,"overwrites "+wa+" "+Da+" "+Ea]),wa=Ba,Da=ya,Ea=Ia,d.Wn=!0,d.yd=!0))))));break;case Keywords.Vn:h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(Fa=u,y=!1,e+=" "+u,h.D()&&
(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(Ma=u,y=!1,e+=" "+u,h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(Ka=u,y=!1,e+=" "+u,h.D()&&(y=!0,u=h.F(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(Ja=u,x=!0,Ka>Fa?v[v.length]=[Keywords.Vn+" W "+this.gi(Ka,2)+" E "+this.gi(Fa,2),"W is greater than E"]:Ja>Ma?v[v.length]=[Keywords.Vn+" N "+this.gi(Ja,2)+" S "+this.gi(Ma,2),"N is greater than S"]:(d.Un&&(v[v.length]=[Keywords.Vn+" "+this.gi(Fa,2)+" "+this.gi(Ma,2)+" "+this.gi(Ka,
2)+" "+this.gi(Ja,2),"overwrites "+this.gi(d.Uj,2)+" "+this.gi(d.Vj,2)+" "+this.gi(d.Vk,2)+" "+this.gi(d.Uk,2)]),d.Un=!0,d.yd=!0,d.Uk=Ja,d.Uj=Fa,d.Vj=Ma,d.Vk=Ka)))))))));break;case Keywords.Yi:w=r;!r.Th&&0<d.S.eJ&&(r=d.S.fq());h.D()?(y=!0,u=h.F()|0,0<u&&(!r.wm||d.Nl||Ra||(v[v.length]=-1===r.Tb?[Keywords.Yi+" "+u,"overwrites "+Keywords.Ob]:[Keywords.Yi+" "+u,"overwrites "+r.Tb]),r.Tb=u,r.wm=!0,Ra=d.Nl=!1,x=!0)):(c=h.Ca(),c===Keywords.Ob?(c=h.N(),!r.wm||d.Nl||Ra||(v[v.length]=-1!==r.Tb||d.Nl?[Keywords.Yi+
" "+Keywords.Ob,"overwrites "+r.Tb]:[Keywords.Yi+" "+Keywords.Ob,"overwrites "+Keywords.Ob]),r.Tb=-1,r.wm=!0,Ra=d.Nl=!1,x=!0):c===Keywords.cc&&(c=h.N(),d.S.Dd(Keywords.Yi,r,v,d.Nl),x=d.Nl=!0));r=w;break;case Keywords.Ii:w=r;!r.Th&&0<d.S.La.length&&(r=d.S.fq());h.D()?(y=!0,u=h.F()|0,0<u&&(!r.Ql||d.jn||Qa||(v[v.length]=-1===r.Xa?[Keywords.Ii+" "+u,"overwrites "+Keywords.Ob]:[Keywords.Ii+" "+u,"overwrites "+r.Xa]),r.Xa=u,r.Ql=!0,Qa=d.jn=!1,x=!0)):(c=h.Ca(),c===Keywords.Ob?(c=h.N(),!r.Ql||d.jn||Qa||(v[v.length]=
-1===r.Xa?[Keywords.Ii+" "+Keywords.Ob,"overwrites "+Keywords.Ob]:[Keywords.Ii+" "+Keywords.Ob,"overwrites "+r.Xa]),r.Xa=-1,r.Ql=!0,Qa=d.jn=!1,x=!0):c===Keywords.cc&&(c=h.N(),d.S.Dd(Keywords.Ii,r,v,d.jn),x=d.jn=!0));r=w;break;case Keywords.kl:h.D()?(y=!0,u=h.F()|0,0<=u&&359>=u&&(!r.Eh||d.zq||Wa||(v[v.length]=[Keywords.kl+" "+u,"overwrites "+r.angle]),r.angle=u,r.Eh=!0,Wa=d.zq=!1,x=!0)):(c=h.Ca(),c===Keywords.cc&&(c=h.N(),d.S.Dd(Keywords.kl,r,v,d.zq),x=d.zq=!0));break;case Keywords.on:h.D()?(y=!0,
u=h.F()|0,u>=ViewConstants.Vt&&u<=ViewConstants.Pt&&(!r.Vh||d.Cq||Xa||(v[v.length]=[Keywords.on+" "+u,"overwrites "+r.M]),r.M=u,r.Vh=!0,Xa=d.Cq=!1,x=!0)):(c=h.Ca(),c===Keywords.cc&&(c=h.N(),d.S.Dd(Keywords.on,r,v,d.Cq),x=d.Cq=!0));break;case Keywords.Vm:h.D()?(y=!0,u=h.F(),u>=ViewConstants.Ut&&u<=ViewConstants.mD&&(!r.Lh||d.Aq||Ya||(v[v.length]=[Keywords.Vm+" "+u,"overwrites "+r.depth]),r.depth=u,r.Lh=!0,Ya=d.Aq=!1,x=!0)):(c=h.Ca(),c===Keywords.cc&&(c=h.N(),d.S.Dd(Keywords.Vm,r,v,d.Aq),x=d.Aq=!0));
break;case Keywords.ov:h.D()&&(y=!0,u=h.F(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(d.Mb=u,x=!0));break;case Keywords.qv:h.D()&&(y=!0,u=h.F(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(d.Nb=u,x=!0));break;case Keywords.gf:h.D()?(y=!0,u=h.F(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(!r.ug||d.Eq||Ta||(v[v.length]=[Keywords.gf+" "+u,"overwrites "+-r.x]),r.x=-u,r.ug=!0,Ta=d.Eq=!1,x=!0)):(c=h.Ca(),c===Keywords.cc&&(c=h.N(),d.S.Dd(Keywords.gf,r,v,d.Eq),x=d.Eq=!0));break;case Keywords.hf:h.D()?(y=!0,u=h.F(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(!r.Wf||
d.Fq||Ua||(v[v.length]=[Keywords.hf+" "+u,"overwrites "+-r.y]),r.y=-u,r.Wf=!0,Ua=d.Fq=!1,x=!0)):(c=h.Ca(),c===Keywords.cc&&(c=h.N(),d.S.Dd(Keywords.hf,r,v,d.Fq),x=d.Fq=!0));break;case Keywords.SC:x=d.RC=!0;break;case Keywords.AA:h.D()&&(y=!0,u=h.F(),u>=ViewConstants.wa&&u<=ViewConstants.Na?(d.dv=!0,d.zA=u,x=!0):u>=ViewConstants.wk&&u<=ViewConstants.tk&&(d.dv=!0,d.zA=-(1/u),x=!0));break;case Keywords.iw:case Keywords.Od:h.D()?(y=!0,u=h.F(),u>=ViewConstants.wa&&u<=ViewConstants.Na?(!r.ue||d.kn||Va||
(v[v.length]=1>r.zoom?[Keywords.Od+" "+u,"overwrites "+-(1/r.zoom)]:[Keywords.Od+" "+u,"overwrites "+r.zoom]),r.zoom=u,r.ue=!0,Va=d.kn=!1,x=!0):u>=ViewConstants.wk&&u<=ViewConstants.tk&&(r.ue&&!d.kn&&(v[v.length]=1>r.zoom?[Keywords.Od+" "+u,"overwrites "+-(1/r.zoom)]:[Keywords.Od+" "+u,"overwrites "+r.zoom]),r.zoom=-(1/u),r.ue=!0,d.kn=!1,x=!0)):(c=h.Ca(),c===Keywords.cc&&(c=h.N(),d.S.Dd(Keywords.Od,r,v,d.kn),x=d.kn=!0));break;case Keywords.en:h.D()?(y=!0,u=h.F()|0,u>=ViewConstants.Fg&&u<=ViewConstants.Sl&&
(!r.Ph||d.Bq||Za||(v[v.length]=[Keywords.en+" "+u,"overwrites "+r.uc]),r.uc=u,r.Ph=!0,Za=d.Bq=!1,x=!0)):(c=h.Ca(),c===Keywords.cc&&(c=h.N(),d.S.Dd(Keywords.en,r,v,d.Bq),x=d.Bq=!0));break;case Keywords.BA:c=h.Ca();c===Keywords.Ob?(c=h.N(),d.ke||(d.jb=!1,d.Tk=!1)):d.ke||(d.jb=!0,d.Tk=!0);x=!0;break;case Keywords.wA:c=h.Ca();c===Keywords.Ob?(c=h.N(),d.ke||(d.jb=!1,d.Tk=!1,d.$i=!1,d.s.$i=!1)):d.ke||(d.jb=!0,d.Tk=!0,d.$i=!0,d.s.$i=!0);x=!0;break;case Keywords.yA:h.D()&&(y=!0,u=h.F()|0,u>=ViewConstants.CD&&
u<=ViewConstants.tD&&(d.se=u,x=!0));break;case Keywords.Sk:h.D()?(y=!0,u=h.F()|0,0<=u&&u<d.a.Ee&&(!r.Uf||d.sk||Pa||this.rz(d,v,u,r.wc),r.wc=u,r.Uf=!0,Pa=d.sk=!1,x=!0)):(c=h.Ca(),c===Keywords.rp?(c=h.N(),d.eh?(r.Uf&&!d.sk&&this.rz(d,v,d.a.Ee,r.wc),r.wc=d.a.Ee,r.Uf=!0,d.sk=!1):v[v.length]=[Keywords.Sk+" "+Keywords.rp,"no custom THEME defined"],x=!0):(u=d.$K(c),-1!==u?(c=h.N(),!r.Uf||d.sk||Pa||this.rz(d,v,u,r.wc),r.wc=u,r.Uf=!0,Pa=d.sk=!1,x=!0):c===Keywords.cc&&(c=h.N(),d.S.Dd(Keywords.Sk,r,v,d.sk),
x=d.sk=!0)));break;case Keywords.Gn:v[v.length]=[e,"already in a script block"];x=!0;break;case Keywords.bA:d.ad=!d.ad;x=!0;break;case Keywords.cA:d.po.current=d.$n([!0],!0,d);x=!0;break;case Keywords.px:d.Qr.current=d.kB([!0],!0,d);x=!0;break;case Keywords.aA:d.lv([!0],!0,d);d.Ye&&(d.Ye.current=[d.Vg],d.s.wh=!0);x=!0;break;case Keywords.bx:h.D()&&(y=!0,u=h.F()|0,u>=ViewConstants.vD&&u<=ViewConstants.lD&&(x=!0,d.a.vr=u));break;case Keywords.$t:x=d.Fc=!0;break;case Keywords.jt:x=d.Sc=!0;break;case Keywords.vx:h.D()&&
(y=!0,u=h.F(),0<=u&&1>=u&&(x=!0,d.qd=u));break;case Keywords.wx:d.Lg=!1;x=!0;break;case Keywords.Ax:x=d.a.te=!0;break;case Keywords.eA:d.a.te=!1;x=!0;break;case Keywords.MB:x=d.a.nd=!0;break;case Keywords.Az:h.D()&&(y=!0,u=h.F()|0,u>=ViewConstants.BD&&u<=ViewConstants.sD&&(d.Au=u,x=!0));break;case Keywords.uz:h.D()&&(y=!0,u=h.F()|0,u>=ViewConstants.AD&&u<=ViewConstants.rD&&(d.vu=u,x=!0));break;case Keywords.sz:h.D()&&(y=!0,u=h.F()|0,u>=ViewConstants.zD&&u<=ViewConstants.qD&&(d.uu=u,x=!0));break;case Keywords.wz:x=
d.wu=!0;break;case Keywords.zz:x=d.zu=!0;break;case Keywords.su:c=h.Ca();switch(c){case Keywords.je:c=h.N();x=!0;d.tr=!0;break;case Keywords.Zf:c=h.N();h.D()&&(y=!0,u=h.F()|0,0<=u&&100>=u&&(d.Dk=u,x=!0));break;case Keywords.ru:c=h.N();h.D()&&(y=!0,u=h.F()|0,0<=u&&100>=u&&(d.Ek=u,x=!0));break;case Keywords.xu:c=h.N();h.D()&&(y=!0,u=h.F()|0,0<=u&&100>=u&&(d.jm=u,x=!0));break;default:this.uL(c)&&(c=h.N(),h.D()&&(y=!0,u=h.F()|0,0<=u&&100>=u&&(this.tK(d,u),x=!0)))}break;case Keywords.yz:d.yu=h.N();x=d.xz=
!0;break;case Keywords.ih:c=h.Ca();switch(c){case Keywords.gf:r.Yk&&this.Xh(r.zh,Keywords.ih,Keywords.gf,v);r.zh=!0;r.Yk=!0;c=h.N();break;case Keywords.hf:r.Zk&&this.Xh(r.Ah,Keywords.ih,Keywords.hf,v);r.Ah=!0;r.Zk=!0;c=h.N();break;case Keywords.Od:r.vB&&this.Xh(r.Ch,Keywords.ih,Keywords.Od,v);r.Ch=!0;r.es=!0;c=h.N();break;case Keywords.Zf:r.Yk&&this.Xh(r.zh,Keywords.ih,Keywords.gf,v);r.Zk&&this.Xh(r.Ah,Keywords.ih,Keywords.hf,v);r.vB&&this.Xh(r.Ch,Keywords.ih,Keywords.Od,v);r.zh=!0;r.Yk=!0;r.Ah=!0;
r.Zk=!0;r.Ch=!0;r.es=!0;c=h.N();break;default:this.sn(h,v,Keywords.ih,"argument",Keywords.Zf+", "+Keywords.gf+", "+Keywords.hf+" or "+Keywords.Od)}x=!0;break;case Keywords.wi:c=h.Ca();switch(c){case Keywords.gf:r.Yk&&this.Xh(r.zh,Keywords.wi,Keywords.gf,v);r.zh=!1;r.Yk=!0;c=h.N();break;case Keywords.hf:r.Zk&&this.Xh(r.Ah,Keywords.wi,Keywords.hf,v);r.Ah=!1;r.Zk=!0;c=h.N();break;case Keywords.Od:r.vB&&this.Xh(r.Ch,Keywords.wi,Keywords.Od,v);r.Ch=!1;r.es=!0;c=h.N();break;case Keywords.Zf:r.Yk&&this.Xh(r.zh,
Keywords.wi,Keywords.gf,v);r.Zk&&this.Xh(r.Ah,Keywords.wi,Keywords.hf,v);r.vB&&this.Xh(r.Ch,Keywords.wi,Keywords.Od,v);r.zh=!1;r.Yk=!0;r.Ah=!1;r.Zk=!0;r.Ch=!1;r.es=!0;c=h.N();break;default:this.sn(h,v,Keywords.wi,"argument",Keywords.Zf+", "+Keywords.gf+", "+Keywords.hf+" or "+Keywords.Od)}x=!0;break;case Keywords.ju:A=!0;d.S.add(r);r=d.S.Gs();r.Th=!0;c=h.Ca();c===Keywords.cc&&(c=h.N(),-1!==d.Tm&&(v[v.length]=[Keywords.ju+" "+Keywords.cc,"overrides previous initial POI"]),d.Tm=d.S.oc.length);d.SG();
x=!0;break;case Keywords.Ir:h.D()&&(y=!0,u=h.F()|0,0<=u&&(z||(z=!0),0<u&&(d.S.add(r),r=d.S.Gs()),r.lc=u,x=r.Jr=!0));break;case Keywords.Nn:h.D()?(y=!0,u=h.F()|0,u>=ViewConstants.qn&&u<=ViewConstants.kg&&(!r.ei||d.Dq||$a||(v[v.length]=[Keywords.Nn+" "+u,"overwrites "+r.step]),r.step=u,r.ei=!0,$a=d.Dq=!1,x=!0)):(c=h.Ca(),c===Keywords.cc&&(c=h.N(),d.S.Dd(Keywords.Nn,r,v,d.Dq),x=d.Dq=!0));break;case Keywords.dz:h.D()&&(y=!0,u=h.F(),0<=u&&(z||(z=!0),d.S.add(r),r=d.S.Gs(),u<ViewConstants.YE&&(u=ViewConstants.YE),
r.xd=u,x=r.eF=!0));break;case Keywords.wp:h.D()&&(y=!0,u=h.F()|0,d.ke||(-1===d.Ge||ab||(v[v.length]=[Keywords.wp+" "+u,"overwrites "+d.Ge]),d.Ge=u),ab=!1,x=!0);break;case Keywords.so:h.D()&&(y=!0,u=h.F()|0,d.ke||(-1===d.Pg||bb||(v[v.length]=[Keywords.so+" "+u,"overwrites "+d.Pg]),d.Pg=u),bb=!1,x=!0);break;case Keywords.nr:h.D()&&(y=!0,u=h.F()|0,-1===d.Bf||cb||(v[v.length]=[Keywords.nr+" "+u,"overwrites "+d.Bf]),d.Bf=u,cb=!1,x=!0);break;case Keywords.mr:h.D()&&(y=!0,u=h.F()|0,-1===d.Zh||db||(v[v.length]=
[Keywords.mr+" "+u,"overwrites "+d.Zh]),d.Zh=u,db=!1,x=!0);break;default:v[v.length]=[e,"unknown or misspelt command"],x=!0}x||(y?v[v.length]=[e+" "+u,"argument out of range"]:this.sn(h,v,e,"argument",za))}""!==e&&(e=h.N())}m&&(v[v.length]=[Keywords.rd+q,"unterminated string"]);z&&d.yd&&(B=d.Un?Keywords.Vn:d.Wn?Keywords.Ur:Keywords.Vr,v[v.length]=[B,"can not be used with Waypoints"],d.yd=!1,d.Un=!1,d.Wn=!1);d.Un||!d.yd&&!d.Wn||(d.Wn&&(0<d.a.vf&&(wa*=d.a.vf),r.Xa=wa),d.Uk=Ea,d.Uj=Da,d.Vj=Ea,d.Vk=Da);
if(z||A){d.S.add(r);r=d.S.fq();z?d.Xc=!0:-1!==d.Tm&&(d.wg=d.Tm,w=d.S.oc[d.Tm],w.ug&&(r.ug=w.ug,r.x=w.x),w.Wf&&(r.Wf=w.Wf,r.y=w.y),w.ue&&(r.ue=w.ue,r.zoom=w.zoom),w.Eh&&(r.Eh=w.Eh,r.angle=w.angle),w.Lh&&(r.Lh=w.Lh,r.depth=w.depth),w.Vh&&(r.Vh=w.Vh,r.M=w.M),w.Uf&&(r.Uf=w.Uf,r.wc=w.wc),w.Ph&&(r.Ph=w.Ph,r.uc=w.uc),w.ei&&(r.ei=w.ei,r.step=w.step),w.dF&&(r.dF=w.dF,r.stop=w.stop),w.cD&&(r.cD=w.cD,r.loop=w.loop));if(z){for(Ha=0;Ha<d.S.La.length;Ha+=1)r=d.S.La[Ha],r.tf&&(r.ug||r.Wf||r.ue)&&(q="",r.ug?(q="X "+
r.x,r.Wf?q=r.ue?q+(", Y "+r.y+" and ZOOM "+r.zoom):q+(" and Y "+r.y):r.ue&&(q+=" and ZOOM "+r.zoom)):r.Wf?(q="Y "+r.y,r.ue&&(q+=" and ZOOM "+r.zoom)):r.ue&&(q="ZOOM "+r.zoom),v[v.length]=[Keywords.ts,"overwrites "+q]);r=d.S.fq()}A&&r.Hg===WaypointConstants.play&&d.ta&&(d.Ue=!0)}r.tf&&(d.rc=!0);r.ug&&(d.a.xa=d.a.width/2-r.x);r.Wf&&(d.a.pa=d.a.height/2-r.y);r.ue&&(d.a.zoom=r.zoom);r.Eh&&(d.a.angle=r.angle);r.Lh&&(d.a.le=r.depth/ViewConstants.Um+ViewConstants.Ut);r.Vh&&(d.a.M=r.M);r.Uf&&(d.vA=r.wc);
r.Ph&&(d.eg=r.uc);r.ei&&(d.Da=r.step);r.rA&&d.s.notification.L(r.Ef,1E3,!1);d.Tb=r.Tb;d.Xa=r.Xa;r.ue&&(d.ax=!0);r.ug&&(d.Zw=!0);r.Wf&&(d.$w=!0);r.nk&&(d.a.Wb=r.$c);r.Vu&&(d.bi=r.sm);for(Ha=0;Ha<p;Ha+=1)-1!==d.fc[Ha]&&(b+=1);if(0<b){d.ns=!0;for(Ha=0;Ha<p;Ha+=1)d.P.Mn[Ha]?-1===d.fc[Ha]?(d.ns=!1,d.Sm[Ha]=ViewConstants.bF):d.Sm[Ha]=ViewConstants.aF:d.Sm[Ha]=ViewConstants.jA;d.eo=d.ns?"(custom)":d.eo+" (custom*)"}else d.fc=null;d.eh&&(this.PK(d),d.aL&&(d.aL.upper=d.a.Ee));d.Ia&&(B="not possible due to "+
Keywords.ds,d.Ue&&(v[v.length]=[Keywords.vs,B],d.Ue=!1),-1!==d.Tb&&(v[v.length]=[Keywords.Yi+" "+d.Tb,B]),-1!==d.Xa&&(v[v.length]=[Keywords.Ii+" "+d.Xa,B]));0!==d.Mb&&d.pb+ViewConstants.kg+2*Math.abs(d.Mb)>=d.a.ga&&(v[v.length]=[Keywords.ov+" "+d.Mb,"pattern does not fit on grid at view offset"],d.Mb=0);0!==d.Nb&&d.sb+ViewConstants.kg+2*Math.abs(d.Nb)>=d.a.ga&&(v[v.length]=[Keywords.qv+" "+d.Nb,"pattern does not fit on grid at view offset"],d.Nb=0);d.By=v.length}""!==d.ji&&(d.ji=this.qp(d,d.ji));
d.rc&&(d.ss=!0);d.Sc&&d.Fc&&(v[v.length]=[Keywords.jt,"not valid with "+Keywords.$t],d.Sc=!1);var Na=0,Sa=!1;-1!==d.Ge&&(Na=ViewConstants.Gd,d.Ge>=ViewConstants.yD&&d.Ge<Na&&(d.Ge=Na),d.Ic&&(Na=ViewConstants.SI),d.Ge<Na||d.Ge>d.Dj)&&(v[v.length]=[Keywords.wp+" "+d.Ge,"argument out of range"],Sa=!0);-1!==d.Pg&&(Na=ViewConstants.xk,d.Ic&&(Na=ViewConstants.RI),d.Pg<Na||d.Pg>ViewConstants.Rt)&&(v[v.length]=[Keywords.so+" "+d.Pg,"argument out of range"],Sa=!0);d.ke&&(-1!==d.Bf&&(d.Bf>=ViewConstants.yD&&
d.Bf<ViewConstants.Gd&&(d.Bf=ViewConstants.Gd),d.Bf<ViewConstants.Gd||d.Bf>d.Dj)&&(v[v.length]=[Keywords.nr+" "+d.Bf,"argument out of range"],d.Bf=-1,Sa=!0),-1!==d.Zh&&(d.Zh<ViewConstants.xk||d.Zh>ViewConstants.Rt)&&(v[v.length]=[Keywords.mr+" "+d.Zh,"argument out of range"],d.Zh=-1,Sa=!0));if(Sa||v.length)-1!==d.Ge&&d.Ge<ViewConstants.Gd&&(d.Ge=ViewConstants.Gd),-1!==d.Pg&&d.Pg<ViewConstants.Ul&&(d.Pg=ViewConstants.Ul),d.Ic=!1;d.i.c=d.Ic;d.s.Ic=d.Ic;d.s.Bk=d.Bk;d.Ic&&(d.Ue=!1,d.jb=!1,d.$i=!1,d.Sc=
!1,d.$n([!1],!0,d),d.kB([!1],!0,d),d.lv([!1],!0,d),d.ad=!1,d.zj=!1);d.xy&&(d.element.style="display:none",d.element.parentNode&&d.element.parentNode.parentNode&&d.element.parentNode.parentNode.className===DocConfig.ct&&(d.element.parentNode.parentNode.style="display:none;"));d.S.UK()}}}(),function(){function d(b,l,f,r,w){this.name=b;this.pattern=l;this.kK=f;this.width=r;this.height=w}function k(b){var l;this.Yt=this.aq=this.Ju=!1;this.P=new PatternManager;this.Qi=this.sq=!1;this.cy="";this.Of=!1;
this.It=this.Gt=this.Do=this.Kq=this.Jq=this.Bo=this.Ht=this.Hq=this.Fo=this.Eo=this.Iq=this.wb=this.Co="";this.Ub=!1;this.vq=this.pq=this.yt=this.tq=this.uq=this.At=this.zt=this.xt=this.wt=this.rq=this.wq=this.ej=this.ti=this.oi=this.fj=this.ni=this.si=this.ri=this.pi=this.mi=this.ki=this.li=this.Se=this.qq=null;this.ef=1;this.vu=this.Au=v.Zo;this.uu=50;this.zu=this.wu=this.tr=!1;this.jm=this.Ek=this.Dk=-1;this.rh=[];this.Pi=[];this.nB=!1;this.$p=this.Bx=this.yw=this.Mx=this.jw=null;this.lq=18;this.to=
"18px "+v.vC;this.Kl="18px "+v.bB;this.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;this.pl=!0;this.Xu=this.wj=this.Mk=this.Kk=this.Nk=this.Lk=this.Oj=!1;this.zf=[];for(l=0;10>l;l+=1)this.zf[l]=null;this.ie=!1;this.bf=this.cf=this.ag=0;this.ng=v.Qo;this.Dh=this.Gp=!1;this.ob=null;this.bd=!1;this.no=new BoundingBox(0,0,0,0);this.Gb=new BoundingBox(0,0,0,0);this.Tl=new BoundingBox(0,0,0,0);this.Sb=new Random;this.Sb.Ze(Date.now().toString());this.An=50;this.VE=this.UE=0;this.xj=
this.vb=!1;this.am=2;this.Jf=[];this.tn=this.qc=0;this.Rm=[];this.Yc=0;this.Pd=[];this.sd=0;this.na=[];this.na[v.Wr]=[1,0,0,1];this.na[v.GA]=[-1,0,0,-1];this.na[v.HA]=[-1,0,0,1];this.na[v.IA]=[1,0,0,-1];this.na[v.LA]=[0,1,1,0];this.na[v.MA]=[0,-1,-1,0];this.na[v.KA]=[0,-1,1,0];this.na[v.JA]=[0,1,-1,0];this.Kj=[];this.ap=[];this.Ri=[];this.mg=[];this.Rc=v.$q;this.Po=0;this.Yq=-1;this.Oo=[];this.Gy=this.Fy=this.Zq=0;this.Aj=!1;this.vk=0;this.Dt=!1;this.Wc=this.dm=this.Zl=this.cm=this.$l=0;this.Ct=!1;
this.O=null;this.Zn=0;this.mj=!0;this.Sg=0;this.cg=1;this.Er=this.Qx=this.Gj=this.jr=!1;this.Wh=7;this.Kn=!0;this.uj=this.tj=0;this.$m=!1;this.J=this.Ot=63;this.jn=this.Nl=this.Bq=this.Dq=this.sk=this.Cq=this.Aq=this.zq=this.kn=this.Fq=this.Eq=this.xy=!1;this.mh=this.nb=0;this.Ba=null;this.Lc=this.Kc=0;this.mB=!1;this.Tm=this.Pj=this.Qj=-1;this.yu=Date.now().toString();this.xz=!1;this.Jl=v.Xk;this.ai=!0;this.Sc=!1;this.Lg=!0;this.qd=v.pC;this.RC=this.Fc=!1;this.element=b;this.ad=!1;this.Vk=this.Uj=
this.Vj=this.Uk=this.Ks=this.Hs=this.Js=this.Is=0;this.df=this.Wn=this.yd=this.Un=!1;this.qo=!0;this.mk=!1;this.Oh=0;this.lk=!1;this.hm=this.gm=0;this.Mg=!1;this.u="";this.Nb=this.Mb=0;this.nx=this.mx=this.mo=this.El=this.an=this.ik=this.hA=this.gA=this.tm=this.Ln=this.vm=this.um=this.wg=-1;this.Lt=this.at=!1;this.Kr=this.Wg=-1;this.Jp=this.Qm=!1;this.Ds=-1;this.On=this.zm=null;this.Lr="";this.Pn=this.Rj=0;this.ZK=32768;this.Bs=!1;this.Iw=this.Jw=0;this.Hw=!0;this.ss=this.rc=this.oj=!1;this.Hm=0;
this.JG=.01;this.di=this.Rh=!1;this.fk=this.dh=null;this.Ci=v.Ci;this.vl=[96,96,96];this.wl=[128,128,128];this.yl=[0,255,0];this.xl=[255,0,0];this.ul=[255,255,0];this.ev=null;this.ji="";this.Oi=!0;this.bi=this.ta=this.oe=!1;this.Pk=null;this.ke=!1;this.V=1;this.Mi=this.Ni=0;this.Cd=this.Rx=!1;this.S=new WaypointManager;this.Lq="";this.dy=-1;this.Dg=this.Xc=!1;this.Da=1;this.qx=this.By=this.un=0;this.Dj=v.OI;this.Zh=this.Bf=this.Pg=this.Ge=this.Bi=-1;this.cr=this.So="";this.er=this.Ck=this.sb=this.pb=
0;this.dr=null;this.em=this.pd=this.Eb=this.Li="";this.Ms=this.eh=!1;this.la=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.lC=this.kC=-1;this.Nw=v.YC;this.Mw=v.rs;this.Ow=v.rE;this.eo="";this.VG=0;this.ze=[];this.ns=!1;this.fc=null;this.Sm=[];this.fd=[];this.$b=1;this.ha=0;this.Dr=!1;this.Ko=100;this.dd=10;this.X=[64,200,290,530,700];this.tg=!1;this.ba=[];this.rt=[];this.st=[];this.Tb=-1;this.Je=!1;this.Xa=-1;this.pt=this.$f=this.Ue=this.cd=this.Bk=
this.Zt=this.Ic=this.Fh=this.zj=this.Ia=this.Ke=this.Hc=!1;this.lA=this.tx=this.hz=-1;this.a=null;this.elapsedTime=0;this.uH=this.wH=512;this.C=640;this.B=512;this.Wq=640;this.Vq=512;this.lu=!1;this.hj=640;this.fu=!0;this.Vg=this.dA=this.Yh=this.Wa=this.Uo=!1;this.qm=this.Am=this.fi=this.Qc=this.ho=this.Bn=this.Wj=this.zd=this.Kd=this.ac=null;this.A=[];this.j=this.vd=this.ig=this.lp=this.qh=this.oh=this.Ma=this.lf=this.sf=this.rf=this.qf=this.wf=this.Mf=this.ve=this.de=this.uf=this.be=this.ce=this.yn=
this.Fk=this.kd=this.W=this.xn=this.td=this.Fb=this.Og=this.zl=this.gd=this.sj=this.rj=this.fm=this.jd=this.mm=this.cj=this.Zm=this.Qd=this.Lf=this.dn=this.Qr=this.Yo=this.po=this.Qq=this.qr=this.np=this.vo=this.Cj=this.Zp=this.br=this.ll=this.wo=this.$o=this.ij=this.lj=this.jj=this.kj=this.xq=this.xo=this.Cg=this.dj=this.Hl=this.Fp=this.Ll=this.Gm=this.bo=this.Cp=this.Pq=this.pr=this.Ao=this.Pl=this.K=this.hg=this.jk=this.Yp=this.Im=this.Ec=this.$d=this.ae=this.Nf=this.Kp=this.pn=this.Qh=this.vi=
this.fa=this.xe=this.hd=this.we=this.Ne=this.Re=this.Oe=this.Qe=this.Pe=this.sh=this.vh=this.yh=this.qk=this.xm=this.Rl=this.Yg=this.Jm=this.hb=this.Hb=this.tb=this.cb=this.lh=this.ph=this.nh=this.kh=this.gj=this.Pa=this.Le=this.mc=this.kf=this.ec=this.Te=this.Go=this.Mo=this.Gk=this.sr=this.cp=this.Ye=this.Wd=this.Zc=this.Cc=this.Bd=this.xh=this.cl=this.el=this.bl=this.dl=null;this.Uh=this.nn=-1;this.wheelDelta=0;this.vc=this.Oc=this.lm=null;this.eg=60;this.i=this.s=null;this.Ai=this.Ae=this.ko=
0;this.$s=this.rC=1;this.Yw=60;this.lo=this.Zs=1;this.Xw=.1;this.vA=-1;this.Ui=this.He=this.Qz=0;this.hp=1;this.Tk=this.jb=this.$w=this.Zw=this.ax=!1;this.se=v.qC;this.fl=this.gl=this.xA=this.$k=0;this.dv=this.$i=!1;this.Ar=this.zA=0;this.he=this.Tf=!1;this.fr=-1}function p(b,l,f,r,w){var z,A=l.parentNode,C=null;for(z=0;z<B.Md.length&&!C;)B.Md[z][0].tabIndex===l.tabIndex?C=B.Md[z][1]:z+=1;C||(C=new k(w),C.ke=r,y.Mq&&!r&&(C.Dj=f&-8,C.Dj<v.Gd&&(C.Dj=v.Gd)),l.tabIndex=B.Md.length+1,C.hn(l),"none"===
A.style.display&&(B.mu=new PopupWindow(A,C)),B.Md[B.Md.length]=[l,C,B.mu]);r||C.ci(b,!1)}function h(b){b=b.parentNode;for(var l=!1;!l;)"div"!==b.localName||b.className!==y.bt&&b.className!==y.ct||(l=!0),l||(b=b.parentNode);return b}function t(){var b=B.Uu(),l=b[1],f=b[2];b[0].parentNode.style.display="none";f.Wm=!1;l.Wa&&(l.Fb.current=l.Yd(v.$e,!0,l))}function a(b){t();b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function e(b){b=b.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,
">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();b=b.replace(/\n[ ]+/g,"\n");return b=b.replace(/\n\t+/g,"\n")}function c(b){var l=h(b).getElementsByTagName(y.To)[0];b=B.Md[0];l.value&&(l.innerHTML=l.value);l=e(l);b[1].iB(b[1]);b[1].s.notification.clear(!0,!0);b[1].s.notification.clear(!1,!0);b[1].ci(l,!1)}function g(b){var l=28,f=18,r=B.Uu()[2];b.$p.style.transform="scale("+b.ef+","+b.ef+")";b.$p.style.transformOrigin=
"top left";b.resize();r.Wm=!0;r.KE(r);1!==b.i.Bh&&(l=l*b.i.Bh|0,f=f*b.i.Bh|0,b.jw.style.height=l+"px",b.jw.style.fontSize=f+"px",b.Bx.style.height=l+"px",b.Bx.style.fontSize=f+"px",b.yw.style.height=l+"px",b.yw.style.fontSize=f+"px",b.Mx.style.height=l+"px",b.Mx.style.lineHeight=l+"px");b.vc.canvas.focus();b.vc.canvas.blur();return b.Yt=!1}function n(b){var l=h(b);l=l.getElementsByTagName(y.To)[0];b=e(l);var f=B.Uu(),r;if(f)(r=f[2])&&r.reset(),r=f[1],r.element=l,r.iB(r);else{f=document.createElement("canvas");
f.width=v.Gd;f.height=v.Ul+80;f.style.display="block";var w=document.createElement("a");w.setAttribute("href","#");w.innerHTML="&nbsp;X&nbsp;";w.style.textDecoration="none";w.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";w.style.color="#FFFFFF";w.style.backgroundColor="#C75050";w.style.cssFloat="right";w.style.height="28px";w.style.fontSize="18px";var z=document.createElement("a");z.innerHTML="&nbsp;X&nbsp;";z.style.textDecoration="none";z.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";
z.style.visibility="hidden";z.style.cssFloat="left";z.style.height="28px";z.style.fontSize="18px";var A=document.createElement("div");A.style.textAlign="center";A.style.color="rgb(83,100,130)";A.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";A.style.fontSize="18px";A.style.height="28px";var C=document.createTextNode("LifeViewer");A.style.cursor="default";A.appendChild(C);registerEvent(w,"click",a,!1);registerEvent(w,"touchend",a,!1);var D=document.createElement("div");D.style.display="none";
D.style.position="fixed";D.style.border="1px solid rgb(128,128,128)";D.style.zIndex="101";D.style.left="2048px";D.style.top="0px";D.style.textAlign="right";D.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";D.style.margin="1px";var E=document.createElement("div");E.className=y.ct;E.style.backgroundColor="#FFFFFF";E.style.height="28px";E.style.lineHeight="28px";E.style.margin="0px";E.style.border="0px";E.appendChild(z);E.appendChild(w);E.appendChild(A);D.appendChild(E);
D.appendChild(f);document.body.appendChild(D);p(b,f,v.Gd,!0,l);B.fA=B.Md.length-1;f=B.Uu();r=f[1];r.ev=C;r.jw=w;r.Bx=z;r.yw=A;r.Mx=E;r.$p=D}l=f[0].parentNode;""!==l.style.display&&(l.style.display="");r.C=v.Gd;r.B=v.Ul+80;r.resize();r.s.notification.clear(!0,!0);r.s.notification.clear(!1,!0);r.Yt=!0;r.ci(b,!0);r.Yt||g(r)}function m(b,l){var f=l[0],r=l[1];l=l[2];if(b&&b.me){if(null!==r){r=r.getElementsByTagName("a")[0];var w=document.createElement("a");w.setAttribute("href","#");w.innerHTML="Show in Viewer";
registerEvent(w,"click",u,!1);r?(l=document.createTextNode(" / "),r.parentNode.appendChild(l),r.parentNode.appendChild(w)):l.parentNode.appendChild(w)}y.Ja&&(B.pe[B.pe.length]=new d(b.name,f,b.ca+b.co,b.width,b.height))}}function q(b,l,f,r,w){l=f.create("",b,l,m,null,[b,r,w],!1,null);f.Nt||m(l,[b,r,w])}function u(b){n(this);b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function x(){var b=document.getElementsByTagName("div"),l,f;var r=new Allocator;var w=new PatternManager;var z=
document.getElementsByTagName("meta");for(l=0;l<z.length;l+=1){var A=z[l];if(A.name===y.tagName&&(y.Cx=!1,y.Mq=!1,A=A.content,(f=A.match(/\S+/g))&&2<=f.length&&5>=f.length))for(y.bt=f[0],y.To=f[1],A=2;A<f.length;A+=1)switch(f[A]){case "hide":y.Cx=!0;break;case "limit":y.Mq=!0;break;case "multi":y.Ja=!0;break;default:if("/"===f[A][0])y.Fz=f[A];else if("."===f[A][0])y.QE=f[A];else{var C=f[A];!isNaN(parseFloat(C))&&isFinite(Number(C))&&(y.eu=parseFloat(C)|0)}}}AliasManager.Ze();for(z=0;z<b.length;z+=
1)(A=b[z],A.className===y.bt)?(l=A.getElementsByTagName(y.To)[0],A=A.getElementsByTagName("canvas")[0],(f=l.getElementsByTagName(y.To)[0])&&(l=f),typedArrays&&l&&(f=e(l),y.Ja&&q(f,r,w,null,null),A&&A.getContext?(-1<y.eu&&l.clientHeight>y.eu&&(l.style.height=y.eu+"px"),p(f,A,l.offsetWidth,!1,l)):y.Cx&&A&&(A.style.display="none"))):typedArrays&&A.className===y.ct&&A.parentNode.className!==y.bt&&(l=A.getElementsByTagName(y.To)[0])&&(f=e(l),q(f,r,w,A,l));b=document.getElementsByTagName("a");for(z=0;z<
b.length;z+=1)r=b[z],""!==r.accessKey&&-1!==v.zG.indexOf(r.accessKey)&&(r.accessKey="")}var y={tagName:"LifeViewer",bt:"rle",To:"code",eu:37,Cx:!0,Mq:!1,Ja:!1,ct:"codebox",Fz:"",QE:"",pe:[]},v={zG:"0123456789rtyopasghjklxcbn",kk:0,it:1,uC:2,Zo:64,BD:1,sD:1024,AD:1,rD:1024,zD:1,qD:100,bL:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],Nr:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],Qo:0,eE:1,fE:2,cE:3,hE:4,gE:5,iE:6,jE:7,dE:8,KD:9,kJ:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),
ft:15,dJ:5,pj:1E8,Wr:0,GA:1,HA:2,IA:3,LA:4,MA:5,KA:6,JA:7,bE:0,Ly:1,QD:2,ZD:3,RD:4,aE:5,Yy:6,$q:7,VD:8,$D:9,XD:10,SD:11,WD:12,TD:13,UD:14,YD:15,Ny:3,pF:[1,3,7,6],Xi:Math.sqrt(3),dH:65536,fH:500,gH:17,JC:13750737,KC:15066597,mt:7368816,nt:5263440,YE:.016,SK:16,JD:16384,pC:.7,au:1E4,yK:"Script errors",Gg:-2,Eg:2,CD:2,tD:4,qC:4,sF:16.7,wD:9,nD:14,vH:13,oq:null,vD:1,lD:16,oC:3,xg:0,zi:1,Ns:2,Kh:3,Np:4,Op:5,Pp:6,Ws:7,Xs:8,Os:9,Ts:10,Ss:11,Rs:12,Us:13,Vs:14,Qs:15,Qp:16,Ps:17,Rw:18,Up:19,Sp:20,Vp:21,Xp:22,
Wp:23,Tp:24,Mp:25,Rp:26,Qw:27,Tw:28,Sw:29,Pw:30,fJ:0,gJ:1,vI:2,fD:3,jD:4,hD:5,XC:6,Ka:[0,6,2,5,3,4,1],$E:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),QL:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),nJ:0,mJ:160,mE:10,fz:100,lE:20,dI:18.5,ZE:1E3/60,DL:!1,gt:1800,WH:"LifeViewer",Sz:"LifeViewer Image",vF:"LifeViewer",jv:524,uF:"Chris Rowett",Vt:1,Pt:10,qy:0,Io:1,$e:2,yk:3,Vl:0,Ho:1,Wl:2,tv:1.25,yI:.99,Ut:0,mD:10,Um:10,kD:32,wa:.0625,Na:64,wk:-16,tk:-1,Fg:1,Sl:60,qn:1,kg:64,vC:"Courier",
bB:"Arial",Ug:"18px Arial",Rg:"14px Arial",Tu:"9px Arial",rs:"rgb(240,255,255)",GG:"rgb(0,0,0)",rE:"rgb(240,255,255)",sE:"rgb(0,0,0)",HB:2,Wt:1,Qt:64,FG:.2,YC:"rgb(240,255,255)",JI:"rgb(0,0,0)",II:18,xD:4,oD:128,HI:"Arial",uo:"rgb(32,255,255)",mq:"#000000",Ci:"rgb(255,96,96)",kt:"rgb(128,128,128)",SI:64,RI:64,yD:480,Gd:560,OI:4096,sI:80,xk:240,Rt:4096,Ul:480,wB:132,PF:292,jA:0,aF:1,bF:2,QI:0,LI:16,Xk:0,VC:1,Tz:2,yq:3,fF:4,$B:5,CB:6,uD:7,IB:8},B={m:new Allocator,Md:[],fA:-1,mu:null,pe:[],Uu:function(){var b=
null;-1!==this.fA&&(b=this.Md[this.fA]);return b},iI:function(b){var l=null;0<=b&&b<this.Md.length&&(l=this.Md[b][1]);return l},ML:function(){return this.Md.length},AL:function(){var b=0,l;for(l=0;l<this.Md.length;l+=1){var f=this.Md[l][1];f.Wa&&(b+=1)}return b},$J:function(){var b,l=0;for(b=0;b<this.Md.length;b+=1){var f=this.Md[b][1];f.Fb.current=f.Yd(v.qy,!0,f);f.s.Qg(!0);l+=1}return l},XK:function(){var b,l=0;for(b=0;b<this.Md.length;b+=1){var f=this.Md[b][1];f.Wa&&(f.Fb.current=f.Yd(v.$e,!0,
f),l+=1)}return l},YK:function(b){var l,f=0;for(l=0;l<this.Md.length;l+=1){var r=this.Md[l][1];r!==b&&r.Wa&&(r.Fb.current=r.Yd(v.$e,!0,r),f+=1)}return f}};k.prototype.Fs=function(){var b,l=this.zf,f=this.ag,r=[];for(b=0;10>b;b+=1){var w=b===f?"current ":"activate ";w+="clipboard";null!==l[b]&&(w+=" ("+l[b].width+" x "+l[b].height+")");r[b]=w}this.Kp.w=r};k.prototype.bD=function(b){window.confirm("Open last saved pattern?")&&c(b.element)};k.prototype.Dc=function(){var b=1<<v.ft,l=this.Yc>>v.ft;l===
this.Rm.length&&(this.Rm[l]=this.a.m.I(Int16,b,"View.currentEdit"+l));return this.Rm[l]};k.prototype.Vc=function(b,l,f){var r=this.a.getState(b,l,!1),w=this.Yc,z=v.ft;var A=w>>z;var C=1<<z,D=C-1,E=this.Rm,F=(this.a.width>>1)-(this.pb>>1),G=(this.a.height>>1)-(this.sb>>1);var H=this.a.h;var J=2<H&&!(this.a.bb||this.a.G||this.a.Y),O=!1;0<r&&J&&(r=H-r);if(f!==r){if(!this.oe){A>=E.length&&this.Dc();H=E[A];w&=D;J=f<<8|r;if(0<w)if(4<=w){var K=H[w-1];16384<=K?H[w-3]===J&&H[w-2]===l-G&&H[w-4]===b-F-(K-16384)-
2&&(H[w-1]+=1,O=!0):H[w-2]===J&&H[w-1]===l-G&&H[w-3]===b-F-1&&(H[w]=16384,w+=1,this.Yc+=1,w===C&&this.Dc(),O=!0)}else A=this.Yc,K=E[A-1>>z][A-1&D],16384<=K?H[A-3>>z][A-3&D]===J&&H[A-2>>z][A-2&D]===l-G&&H[A-4>>z][A-4&D]===b-F-(K-16384)-2&&(H[A-1>>z][A-1&D]+=1,O=!0):E[A-2>>z][A-2&D]===J&&E[A-1>>z][A-1&D]===l-G&&E[A-3>>z][A-3&D]===b-F-1&&(H[w]=16384,w+=1,this.Yc+=1,w===C&&(H=this.Dc()),O=!0);O||(H[w]=b-F,w+=1,this.Yc+=1,w===C&&(H=this.Dc(),w=0),H[w]=f<<8|r,w+=1,this.Yc+=1,w===C&&(H=this.Dc(),w=0),H[w]=
l-G,this.Yc+=1,w+1===C&&this.Dc())}this.Bi=-1;return this.a.Vi(b,l,f,!0)}};k.prototype.bz=function(b,l){var f=0,r=(this.a.width>>1)-(this.pb>>1),w=(this.a.height>>1)-(this.sb>>1);if(b)if(l)for(f=b.length;0<f;){var z=b[f-1];16384<=z&&--f;f-=3;l=b[f]+r;var A=b[f+1]&255;var C=b[f+2]+w;this.a.Vi(l,C,A,!0);if(16384<=z)for(z-=16384;0<=z;)l+=1,this.a.Vi(l,C,A,!0),--z}else for(;f<b.length;)if(l=b[f]+r,A=b[f+1]>>8,C=b[f+2]+w,this.a.Vi(l,C,A,!0),f+=3,z=b[f],16384<=z)for(f+=1,z-=16384;0<=z;)l+=1,this.a.Vi(l,
C,A,!0),--z};k.prototype.Zz=function(b){for(var l=this.qc-1,f=this.Gb,r=!1;0<=l&&!r;)this.Jf[l].fh<=b?("advance outside"===this.Jf[l].action&&--l,r=!0):--l;r&&(this.qc=l+1,b=this.qc>=this.tn?this.Jf[this.qc-1]:this.Jf[this.qc],b.selection?(f.f=b.selection.f,f.g=b.selection.g,f.l=b.selection.l,f.o=b.selection.o,this.vb=!0):this.vb=!1,this.Dh=!1,this.ii())};k.prototype.ii=function(){var b=this.qc,l=this.tn,f=this.Jf;if(1<b){var r="undo ";var w=f[b-1];if(null===w.Ym){var z=w.fh;1<b&&(z=f[b-2].fh);this.a.v===
z?r+=w.action:(r=1<this.a.v-z?r+"play":r+"step",r+=" from "+z)}else r=""===w.action?r+"edit":r+w.action;this.Wj.w=r}b<l&&(r="redo ",w=f[b],null===w.Ym?(z=w.fh,z===this.a.v?r+=w.action:(r=1<z-this.a.v?r+"play":r+"step",r+=" to "+z)):r=""===w.action?r+"edit":r+w.action,this.Bn.w=r)};k.prototype.St=function(b){var l=this.vb?this.Gb:null;return null===b&&null===l?!0:null===b&&null!==l||null!==b&&null===l?!1:b.f===l.f&&b.g===l.g&&b.l===l.l&&b.o===l.o?!0:!1};k.prototype.$j=function(b,l,f,r){var w=!1;if(0<
this.qc){var z=this.Jf[this.qc-1];z.fh===b&&null===l&&""===f&&this.St(z.selection)&&(w=!0)}w||(this.Jf[this.qc]={fh:b,Ym:l,action:f,selection:r},this.qc+=1)};k.prototype.yb=function(b){var l=this.a.v,f=null,r=null,w=this.Gb,z=null,A=v.ft,C=1<<A,D=C-1;A=this.Yc>>A;if(!this.oe){this.Wa&&(0<this.qc&&(z=this.Jf[this.qc-1]),z&&z.selection&&(r=new BoundingBox(z.selection.f,z.selection.g,z.selection.l,z.selection.o)),this.$j(l,f,"",r),r=null);this.vb&&(r=new BoundingBox(w.f,w.g,w.l,w.o));if(0<this.Yc){f=
this.a.m.I(Int16,this.Yc,"View.editCells"+this.qc);for(z=w=0;w<A;)f.set(this.Rm[w].slice(),z),w+=1,z+=C;this.Yc&D&&f.set(this.Rm[w].slice(0,this.Yc&D),z);this.Yc=0}this.$j(l,f,b,r);this.tn=this.qc;this.ii()}};k.prototype.XA=function(b){var l=b.a.v,f=b.qc,r=b.Gb,w=1,z=!1;if(!b.oe){this.Wa&&(b.Fb.current=b.Yd(v.$e,!0,b),f=b.qc);if(0<f)for(;0<w;){var A=b.Jf[f-1];var C=A.fh;var D=A.selection;z||"advance outside"!==A.action||(z=!0,w=3);null===A.Ym&&1<f&&(C=b.Jf[f-2].fh);1<f&&(D=b.Jf[f-2].selection);C<
l?(0===C?b.reset(b):b.xr(C),l=b.a.v):b.bz(A.Ym,!0);D?(r.f=D.f,r.g=D.g,r.l=D.l,r.o=D.o,b.vb=!0):b.vb=!1;b.Dh=!1;"reverse playback"===A.action&&(b.a.Uc=!0);--f;b.qc=f;--w}else 0<l&&b.reset(b);this.ii();this.a.Mh();(this.a.rb||b.a.Gc)&&this.a.zn()}};k.prototype.Dz=function(b){var l=b.a.v,f=b.Gb,r=1,w=!1;if(!b.oe){for(;0<r&&b.qc<b.tn;){var z=b.Jf[b.qc];w||"advance outside"!==z.action||(w=!0,r=3);z.fh===l&&null===z.Ym&&""===z.action&&(b.qc+=1);z.fh>l?(b.sK(z.fh),l=b.a.v):b.bz(z.Ym,!1);z.selection?(f.f=
z.selection.f,f.g=z.selection.g,f.l=z.selection.l,f.o=z.selection.o,b.vb=!0):b.vb=!1;b.Dh=!1;"reverse playback"===z.action&&(b.a.Uc=!0);b.qc+=1;--r}this.ii();this.a.Mh();(this.a.rb||b.a.Gc)&&this.a.zn()}};k.prototype.bk=function(b,l,f,r){var w=[],z,A=this.a.h,C=this.na[r];r=C[0];var D=C[1],E=C[2];C=C[3];var F=new Pattern("rleToCellList",this.P),G=2<A&&!(this.a.bb||this.a.G||this.a.Y);b+=" ";if(-1!==this.P.jo(F,b,!1,this.a.m)){if(-1!==this.P.jo(F,b,!0,this.a.m))for(z=0;z<F.height;z+=1){var H=F.Ig[z];
for(b=0;b<F.width;b+=1){var J=H[b];G&&0<J&&(J=A-J);w[w.length]=l+b*r+z*D;w[w.length]=f+b*E+z*C;w[w.length]=J}}}else w[0]="error";return w};k.prototype.fv=function(b){var l=0,f=b.indexOf("["),r=b.indexOf("]");if(-1!==f&&-1!==r&&f<r&&r===b.length-1){for(f+=1;f<r&&0<=l;){var w=b.charCodeAt(f)-48;0>w||9<w?l=-1:(l=10*l+w,f+=1)}0<l&&(this.Dt=!0)}return l};k.prototype.YG=function(b){var l=0>this.$l?-this.$l:this.$l,f=0>this.cm?-this.cm:this.cm;l=2*(l<f?f:l);b<l&&(b=l);return b};k.prototype.XG=function(b){var l=
0>this.Zl?-this.Zl:this.Zl,f=0>this.dm?-this.dm:this.dm;l=2*(l<f?f:l);b<l&&(b=l);return b};k.prototype.sG=function(b,l){var f,r=!1;for(f=0;!r&&f<this.Kj.length;)b===this.Kj[f].name?r=!0:f+=1;if(r)for(b=this.Kj[f].yH,f=0;f<b.length;f+=1)l[l.length]=b[f];return r};k.prototype.oG=function(b,l,f){var r,w=!1;if(ScriptParser.mn(l))b[b.length]=[Keywords.bp+" "+l,"name is reserved word"];else{for(r=0;!w&&r<this.Kj.length;)l===this.Kj[r].name?w=!0:r+=1;if(w)b[b.length]=[Keywords.bp+" "+l,"name already defined"];
else{w=!1;for(r=0;!w&&r<f.length;)1>f[r]?w=!0:r+=1;w?b[b.length]=[Keywords.bp+" "+l+" "+f[r],"invalid delta"]:(b=f.slice(),this.Kj[this.Kj.length]={name:l,yH:b})}}};k.prototype.nG=function(b,l,f,r,w,z){var A,C=!1;if(ScriptParser.mn(l))b[b.length]=[Keywords.En+" "+l,"name is reserved word"];else if(-1!==l.indexOf("["))b[b.length]=[Keywords.En+" "+l,"name can not contain ["];else{for(A=0;!C&&A<this.Ri.length;)l===this.Ri[A].name?C=!0:A+=1;C?b[b.length]=[Keywords.En+" "+l,"name already defined"]:(f=
this.bk(f,r,w,z),"error"!==f[0]?this.Ri[this.Ri.length]={name:l,cells:f}:b[b.length]=[Keywords.En+" "+l,"invalid RLE"])}};k.prototype.rG=function(b,l,f,r,w,z,A,C,D,E,F){var G=0,H=!1,J=[],O=this.na[F],K=O[0],M=O[1],I=O[2],X=O[3];O=v.pj;var R=-v.pj,U=v.pj,Y=-v.pj,da=C.indexOf("["),V=C,ka=0,ma=[];-1!==da&&(V=C.substr(0,da),ka=this.fv(C));for(;G<this.Ri.length&&!H;)this.Ri[G].name===V?(H=!0,J=this.Ri[G].cells.slice()):G+=1;if(H)for(G=0;G<J.length;)C=J[G],F=J[G+1],J[G]=D+C*K+F*M,J[G+1]=E+C*I+F*X,G+=3;
else J=this.bk(C,D,E,F),"error"!==J[0]&&(H=!0);-1===ka&&(H=!1);if(H&&0<J.length){for(G=0;G<J.length;)D=J[G],E=J[G+1],D<O&&(O=D),D>R&&(R=D),E<U&&(U=E),E>Y&&(Y=E),G+=3;D<this.$l&&(this.$l=D);D>this.cm&&(this.cm=D);E<this.Zl&&(this.Zl=E);E>this.dm&&(this.dm=E);K=Array.ea(Uint8,Y-U+1,R-O+1,0,this.a.m,"View.rle"+this.mg.length);for(G=0;G<J.length;)D=J[G],E=J[G+1],K[E-U][D-O]=J[G+2],G+=3;ma[0]=b;for(G=0;G<f.length;G+=1)ma[ma.length]=ma[ma.length-1]+f[G];this.mg[this.mg.length]={Nh:ma,end:l,every:r,mode:w,
cells:J,map:K,f:O,g:U,width:R-O+1,height:Y-U+1,UH:ka,deltaX:z,deltaY:A};0<r&&(this.Aj=!0);ma[ma.length-1]>this.vk&&(this.vk=ma[ma.length-1])}return H};k.prototype.BJ=function(){var b,l,f=this.a.width,r,w=this.a.H;for(b=0;b<this.mg.length;b+=1){var z=this.mg[b];var A=z.UH;if(0<A){var C=z.cells;var D=(f>>1)-(z.width>>1);var E=(f>>1)-(z.height>>1);var F=0;w.f=D;w.l=D+z.width-1;w.g=E;w.o=E+z.height-1;for(this.a.v=0;F<C.length;)this.a.Vi(D+C[F]-z.f,E+C[F+1]-z.g,C[F+2],!0),F+=3;for(;0<A;)this.a.af(!1,!0,
!0,this.Ub),this.a.Xe(),--A;C=[];F=0;var G=r=v.pj;for(l=w.g;l<=w.o;l+=1)for(A=w.f;A<=w.l;A+=1){var H=this.a.getState(A,l,!1);0!==H&&(C[F]=A-D+z.f,C[F+1]=l-E+z.g,C[F+2]=H,C[F]<r&&(r=C[F]),C[F+1]<G&&(G=C[F+1]),F+=3)}z.cells=C.slice();z.width=w.l-w.f+1;z.height=w.o-w.g+1;z.g=G;z.f=r;z.map=Array.ea(Uint8,z.height,z.width,0,this.a.m,"View.rle"+b);for(F=0;F<C.length;)A=C[F],l=C[F+1],z.map[l-z.g][A-z.f]=C[F+2],F+=3;this.a.Ip(!1)}}this.Dt&&this.a.Ip(!1)};k.prototype.ak=function(b){var l=!1,f=this.a.v;var r=
!1;if(this.a.ia||this.a.G)f=this.a.Hf;0!==b.every&&(this.a.ia||this.a.G)&&null!==this.a.zc&&f<this.a.Ji&&(l=!1,r=!0);if(!r)if(0!==b.every&&f>=b.Nh[0]&&0===(f-b.Nh[0])%b.every)-1!==b.end&&f>b.end||(l=!0);else for(r=0;r<b.Nh.length&&!l;)f===b.Nh[r]?l=!0:r+=1;return l};k.prototype.AG=function(){for(var b=!1,l=0,f=this.mg.length;l<f&&!b;)b=this.ak(this.mg[l]),l+=1;return b};k.prototype.Ki=function(){var b,l=this.a.v;var f=0;var r=this.a.width,w=this.a.h-1;for(b=0;b<this.mg.length;b+=1){var z=this.mg[b];
if(this.ak(z)){var A=z.mode;var C=(r>>1)-(this.pb>>1);var D=(r>>1)-(this.sb>>1);var E=z.map;if(0!==z.every&&(0!==z.deltaX||0!==z.deltaY)){var F=(l-z.Nh[0])/z.every;C+=z.deltaX*F;D+=z.deltaY*F}C+=z.f;D+=z.g;for(z=0;z<E.length;z+=1){var G=E[z];if(this.a.G||this.a.Y)for(F=0;F<G.length;F+=1){var H=G[F];var J=this.a.getState(C+F,D+z,!1);switch(A){case v.bE:f=0;break;case v.Ly:f=H&J;break;case v.QD:f=H&w-J;break;case v.ZD:f=H;break;case v.RD:f=w-H&J;break;case v.aE:f=J;break;case v.Yy:f=H^J;break;case v.$q:f=
H|J;break;case v.VD:f=w-(H|J);break;case v.$D:f=w-(H^J);break;case v.XD:f=w-J;break;case v.SD:f=H|w-J;break;case v.WD:f=w-H;break;case v.TD:f=w-H|J;break;case v.UD:f=w-(H&J);break;case v.YD:f=1}this.a.Vi(C+F,D+z,f,!0)}else if(this.a.rb)for(F=0;F<G.length;F+=1)H=G[F],f=H&1,J=this.a.getState(C+F,D+z,!1),J&=1,f=0===(A&8>>(f+f|J))?0:1,this.a.Vi(C+F,D+z,f,!0);else for(F=0;F<G.length;F+=1)H=G[F],f=0===H?0:1,J=this.a.getState(C+F,D+z,!1),J=0===J?0:1,f=0===(A&8>>(f+f|J))?0:1,this.a.Vi(C+F,D+z,f,!0)}}}if(this.Aj||
l<=this.vk)this.a.aa=1;this.PD()};k.prototype.PD=function(){var b,l=this.a.v;for(b=0;b<this.qc;b+=1)this.Jf[b].fh===l&&this.bz(this.Jf[b].Ym,!1);this.a.Mh()};k.prototype.al=function(b){this.jn=this.Nl=this.Bq=this.Dq=this.sk=this.Cq=this.Aq=this.zq=this.kn=this.Fq=this.Eq=b};k.prototype.SG=function(){this.al(!1)};k.prototype.DK=function(){this.al(!0)};k.prototype.WB=function(){this.rt=[];this.st=[]};k.prototype.NG=function(b){var l=b.Oc.toDataURL("image/png"),f;(f=document.getElementById("screenshot"))?
f.src=l:(f=window.open("",v.Sz))?(f.width=b.C+20,f.height=b.B+20,f.document.open(),f.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+v.Sz+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+b.C+'" height="'+b.B+'" src="'+l+'" alt="'+v.Sz+'"/>\n\t</body>\n</html>\n'),f.document.close(),b.s.notification.L("Image Captured",300,!0)):b.s.notification.L("Could not open Image window!",v.gt,!0)};k.prototype.bH=function(b){var l=this.a.qb,f=this.a.Z,r=this.a.Ta,w=
this.a.ic,z=b.width,A=b.height,C=this.Kc,D=this.Lc,E=this.a.xb,F=this.a.xb>>4,G=this.a.Ab,H=null,J=z,O=A;var K=Math.round(-this.a.ua/2);var M=Math.floor((this.a.ua-1)/2);var I=Math.round(-this.a.ra/2);var X=Math.floor((this.a.ra-1)/2);var R=C-(this.a.width>>1);var U=R+z-1;var Y=D-(this.a.height>>1),da=Y+A-1;A=this.a.h;var V=!0;z=2===A&&this.a.za;-1!==this.a.sa&&(0!==this.a.ua&&(R<K||U>M)&&(V=!1),0!==this.a.ra&&(Y<I||da>X)&&(V=!1),V||(this.mB=!0,0!==this.a.ua?(C=Math.round(this.a.width/2)+K,J>M-K+
1&&(J=M-K+1)):C=Math.round(this.a.width/2),0!==this.a.ra?(D=Math.round(this.a.height/2)+I,O>X-I+1&&(O=X-I+1)):D=Math.round(this.a.height/2)));b.$&&(0!==(C&1)&&(C+=1),0!==(D&1)&&(D+=1));b.ia&&(0===(C&1)&&--C,0===(D&1)&&--D);for(M=0;M<O;M+=1){R=b.me[M];U=l[M+D&G];if(this.cd||this.a.G||this.a.Y)for(I=b.Ig[M],H=f[M+D&G],K=0;K<J;K+=1)X=I[K],0<X&&(X+=this.J),H[K+C&E]=X;else if(2<A)for(I=b.Ig[M],H=f[M+D&G],K=0;K<J;K+=1)X=I[K],0<X&&!this.a.bb&&(X=A+this.J-X),H[K+C&E]=X;z&&(H=f[M+D&G]);for(K=0;K<J;K+=1)0!==
(R[K>>4]&1<<(~K&15))&&(U[K+C>>4&F]|=1<<(~(K+C)&15),z&&(H[K+C&E]=LifeConstants.ub))}if(w)for(M=0;M<O;M+=1)for(I=b.Ig[M],l=w[M+D&G],K=0;K<J;K+=1)(X=I[K])&&(l[K+C&E]=v.Ka[X]+128);(this.a.G||this.a.Y)&&r.$a.set(f.$a)};k.prototype.ht=function(){var b=!1;-1!==this.a.sa&&0!==this.a.ua&&0!==this.a.ra&&(b=!0);return b};k.prototype.pv=function(){var b=!1;-1===this.a.sa||0!==this.a.ua&&0!==this.a.ra||(b=!0);return b};k.prototype.kv=function(b,l,f){b=b[0];l&&(f.qd=b);return[b,100*b]};k.prototype.hB=function(b,
l,f){l&&(f.ng=b[0]);return[f.ng,v.kJ[f.ng+.5|0]]};k.prototype.rH=function(b){b.Ia||(b.ng=(b.ng+.5|0)+1,b.ng>=v.KD&&(b.ng=0),b.yn.current=b.hB([b.ng,b.ng],!0,b))};k.prototype.HF=function(b,l,f){l&&(f.An=b[0]);return[f.An,f.An]};k.prototype.Dl=function(b,l,f){l&&(f.Sg=(f.a.h-f.Wh)*b[0]|0);b[1]=f.Sg+"-"+(f.Sg+f.Wh-1);return b};k.prototype.Zj=function(b,l,f){var r=b[0],w=0;l?(f.Dg=!0,f.a.zoom=v.wa*Math.pow(v.Na/v.wa,b[0])/f.a.Jc):(r=Math.log(f.a.zoom*f.a.Jc/v.wa)/Math.log(v.Na/v.wa),0>r?r=0:1<r&&(r=1));
this.yd&&!this.df?w=f.a.zoom*f.a.Jc:w=f.a.zoom;w<v.wa?w=v.wa:w>v.Na&&(w=v.Na);1>w&&(w=-1/w);return[r,w]};k.prototype.HG=function(b){var l=b/6E4|0;b=b%6E4/1E3;var f="";0<l&&(f=l+":",10>b&&(f+="0"));return f+=b.toFixed(2)};k.prototype.zg=function(b,l,f){var r=this.a.zoom,w=this.a.xa,z=this.a.pa,A=6,C=this.Tl,D=this.Gb;var E=(this.a.width>>1)-(this.pb>>1)+(this.Mb<<1);var F=(this.a.height>>1)-(this.sb>>1)+(this.Nb<<1);f===v.it&&(C.f=D.f+E,C.l=D.l+E,C.f>C.l&&(E=C.l,C.l=C.f,C.f=E),C.g=D.g+F,C.o=D.o+F,
C.g>C.o&&(E=C.o,C.o=C.g,C.g=E));this.jb?(f=this.a.zg(f,C,this.nb,this.C*this.se,this.B*this.se,v.wa,v.Na,v.tv,this.pb,this.sb,this.Ia&&this.cd,this.Rh,this.yd,this.Uk,this.Uj,this.Vj,this.Vk,this.di,this.rc),f[0]/=this.se):(D=v.sI,this.Ic&&(D=0),f=this.a.zg(f,C,this.nb,this.C,this.B-D,v.wa,v.Na,v.tv,this.pb,this.sb,this.Ia&&this.cd,this.Rh,this.yd,this.Uk,this.Uj,this.Vj,this.Vk,this.di,this.rc));this.rc&&!b?(24<this.a.zoom&&(A=3),1<this.Da&&(A=1),this.a.zoom=(this.a.zoom*(A-1)+f[0])/A,this.a.xa=
(this.a.xa*(A-1)+f[1])/A,this.a.pa=(this.a.pa*(A-1)+f[2])/A,b=this.a.zoom>r?this.a.zoom/r-1:r/this.a.zoom-1,w=this.a.xa>w?this.a.xa-w:w-this.a.xa,z=this.a.pa>z?this.a.pa-z:z-this.a.pa,this.Hm=b,w>this.Hm&&(this.Hm=w),z>this.Hm&&(this.Hm=z),.01>=this.Hm&&(this.a.zoom=f[0],this.a.xa=f[1],this.a.pa=f[2])):(this.um=this.a.width/2-this.a.xa,this.vm=this.a.height/2-this.a.pa,this.Ln=this.a.zoom,this.tm=this.a.angle,this.ik=this.a.width/2-f[1],this.an=this.a.height/2-f[2],this.El=f[0],this.mo=this.tm,this.Kr=
WaypointConstants.Vo,l?this.Wg=0:(this.Wg=WaypointConstants.Vo,this.YA()));this.Cc&&(this.Cc.current=this.Zj([this.a.zoom,this.a.zoom],!1,this));this.Bd&&(this.Bd.current=this.bs([this.a.angle,this.a.angle],!1,this))};k.prototype.ZG=function(b,l){-1!==this.a.sa&&this.Mg?(this.Kc=(this.a.width>>1)+this.Mb,this.Lc=(this.a.height>>1)+this.Nb):(this.Kc=Math.round((this.a.width-b)/2)+this.Mb,this.Lc=Math.round((this.a.height-l)/2)+this.Nb);!this.Ia&&this.a.rb||!this.P.yj||-1===this.a.h||(this.Ia=this.cd=
!0)};k.prototype.Cr=function(b){var l=b;0>b&&(b=-b);var f=b+String();1E9<=b?f="1B+":1E8<=b?f=(b/1E6|0)+"M":1E7<=b?f=(Math.floor(Number(b/1E5))/10).toFixed(1)+"M":1E6<=b?f=(Math.floor(Number(b/1E4))/100).toFixed(2)+"M":1E5<=b&&(f=(b/1E3|0)+"K");0>l&&(f="-"+f);return f};k.prototype.yp=function(b,l){var f=this.s.zk,r=this.s.Ak;l=b+l;var w=-this.a.angle,z=Math.sin(w/180*Math.PI);w=Math.cos(w/180*Math.PI);0>l?l=0:1<l&&(l=1);b=v.wa*Math.pow(v.Na/v.wa,b);l=v.wa*Math.pow(v.Na/v.wa,l);l<v.wa?l=v.wa:l>v.Na&&
(l=v.Na);f-=this.C/2;r-=this.B/2;f=(f-l/b*f)/l;b=(r-l/b*r)/l;this.a.xa-=f*w+b*-z;this.a.pa-=f*z+b*w;l=Math.log(l/v.wa)/Math.log(v.Na/v.wa);this.Cc.current=this.Zj([l,l],!0,this)};k.prototype.zw=function(b,l){var f=v.kg;b.a.za&&(f=4*b.a.Yb.ed+1,-1!==b.a.sa&&(f+=2*b.a.Yb.ed),b.a.Yb.type===this.P.sg&&(f=-1!==b.a.sa?f+b.a.ra/2:f+(b.a.H.o-b.a.H.g+1)/2),f<v.kg&&(f=v.kg));for(;b.a.PG(l,f);)b.Ae+=b.a.width>>2,b.Ai+=b.a.height>>2,b.He+=b.a.width>>2,b.Ui+=b.a.height>>2,b.a.R&&(b.Ae-=b.a.height>>3,b.He-=b.a.height>>
3),b.Kc+=b.a.width>>2,b.Lc+=b.a.height>>2,l.f+=b.a.width>>2,l.l+=b.a.width>>2,l.g+=b.a.height>>2,l.o+=b.a.height>>2};k.prototype.VB=function(b){var l=!1,f=b.Gb,r=b.Tl,w=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),z=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1);r.f=f.f+w;r.g=f.g+z;r.l=f.l+w;r.o=f.o+z;b.zw(b,r);w=(b.a.width>>1)-(b.pb>>1);z=(b.a.height>>1)-(b.sb>>1);0>f.f+w&&(f.f=-w,l=!0);f.f+w>=b.a.width&&(f.f=b.a.width-1-w,l=!0);0>f.l+w&&(f.l=-w,l=!0);f.l+w>=b.a.width&&(f.l=b.a.width-1-w,l=!0);0>f.g+z&&(f.g=-z,l=!0);
f.g+z>=b.a.height&&(f.g=b.a.height-1-z,l=!0);0>f.o+z&&(f.o=-z,l=!0);f.o+z>=b.a.height&&(f.o=b.a.height-1-z,l=!0);return l};k.prototype.mL=function(b){b.Og.current=b.Rj/b.Pn*100;b.Og.c=!1;b.Ye.ye=0};k.prototype.nL=function(b,l){b.Og.current=b.a.v/l*100;b.Og.c=!1;b.Ye.ye=0};k.prototype.lL=function(b){var l=!1,f=!1,r=0;b.Hc||-1===b.Xa||(l=!0);!b.Ke&&b.Xc&&(f=!0);if(l||f){var w=!1;if(f&&l)r=b.elapsedTime/b.S.SH(b.Xa);else if(f){if(l=b.S.KI().xd)r=b.elapsedTime/l,1<r&&(w=!0)}else 0<b.Xa&&(r=b.a.v/b.Xa);
1<r&&(r=1);b.Og.current=100*r}else w=!0;(b.Og.c=w)?b.Ye.ye=b.i.ye:b.Ye.ye=0};k.prototype.MH=function(){this.Pk.hH(this.a.width/2-this.a.fe,this.a.height/2-this.a.ge,this.a.ja,this.a.gb,this.a.C,this.a.B,this.a.Sd,this.a.Fe[0])};k.prototype.AE=function(){var b=this.i.jh-this.C/2,l=this.i.Fj-this.B/2,f=this.Lc-this.a.pa,r=this.Kc-this.a.xa-(this.a.R?this.a.pa/2:0),w=this.a.zoom;var z=this.a.zoom*(this.a.$&&4<=w?v.Xi:1);var A=-1;-1!==this.i.jh&&(0!==this.a.gb&&(A=Math.sqrt(b*b+l*l),l=180/Math.PI*Math.atan2(l,
b),l-=this.a.gb,b=A*Math.cos(Math.PI/180*l),l=A*Math.sin(Math.PI/180*l)),z=l/z-f+this.a.Pb,b=b/w+(this.a.R?f/2+z/2:0)-r+this.a.Rb,this.a.$&&(b-=this.a.zoom/32*.2),r=b-Math.floor(b),f=z-Math.floor(z),b-=r,z-=f,this.a.$&&(0===(b+this.Kc+z+this.Lc&1)?1<r+f&&(b+=1):1>1-r+f&&(b+=1)),A=this.a.getState(b+this.Kc,z+this.Lc,this.cd&&this.Ia));return A};k.prototype.gv=function(b,l){var f=b-this.C/2,r=l-this.B/2;l=this.Lc-this.a.pa;var w=this.Kc-this.a.xa-(this.a.R?this.a.pa/2:0),z=0,A=0,C=0,D=0,E=this.a.zoom,
F=this.a.zoom*(this.a.$&&4<=E?v.Xi:1);-1!==b&&(0!==this.a.gb&&(b=Math.sqrt(f*f+r*r),r=180/Math.PI*Math.atan2(r,f),r-=this.a.gb,f=b*Math.cos(Math.PI/180*r),r=b*Math.sin(Math.PI/180*r)),z=r/F-l+this.a.Pb,A=f/E+(this.a.R?l/2+z/2:0)-w+this.a.Rb,this.a.$&&(A-=this.a.zoom/32*.2),D=A-Math.floor(A),C=z-Math.floor(z),A-=D,z-=C);this.a.$&&(0===(A+this.Kc+z+this.Lc&1)?1<D+C&&(A+=1):1>1-D+C&&(A+=1));this.tj=A+this.Kc;this.uj=z+this.Lc};k.prototype.Bu=function(b,l,f,r,w){var z=Math.abs(f-b),A=Math.abs(r-l),C=
b<f?1:-1,D=l<r?1:-1,E=z-A,F=this.a.width,G=this.a.height,H;for(H=0|this.Vc(b,l,w);F!==this.a.width;)F<<=1,G<<=1,b+=F>>2,l+=F>>2,f+=F>>2,r+=F>>2,this.Ae+=F>>2,this.Ai+=G>>2,this.He+=F>>2,this.Ui+=G>>2,this.a.R&&(this.Ae-=G>>3,this.He-=G>>3),this.Kc+=F>>2,this.Lc+=G>>2;for(;b!==f||l!==r;){var J=E+E;J>-A&&(E-=A,b+=C);J<z&&(E+=z,l+=D);for(H|=this.Vc(b,l,w);F!==this.a.width;)F<<=1,G<<=1,b+=F>>2,l+=F>>2,f+=F>>2,r+=F>>2,this.Ae+=F>>2,this.Ai+=G>>2,this.He+=F>>2,this.Ui+=G>>2,this.a.R&&(this.Ae-=G>>3,this.He-=
G>>3),this.Kc+=F>>2,this.Lc+=G>>2}return H};k.prototype.HK=function(){var b=170,l=this.Se.Ez,f=this.Se.km,r=this.wq.km;this.qq.setPosition(Menu.ka,0,b-48);this.Cg.OK(b-48);this.Se.setPosition(Menu.ka,f,b);this.wq.setPosition(Menu.ka,r,b);b+=l;this.li.setPosition(Menu.ka,f,b);this.rq.setPosition(Menu.ka,r,b);b+=l;"Oscillator"!==this.wb||this.Of||(this.ej.setPosition(Menu.ka,f,b),this.pq.setPosition(Menu.ka,r,b),b+=l);this.ki.setPosition(Menu.ka,f,b);this.wt.setPosition(Menu.ka,r,b);b+=l;"Spaceship"!==
this.wb||this.a.R||this.a.$||(this.mi.setPosition(Menu.ka,f,b),this.xt.setPosition(Menu.ka,r,b),b+=l);"Still Life"!==this.wb&&(this.pi.setPosition(Menu.ka,f,b),this.zt.setPosition(Menu.ka,r,b),b+=l,this.Of||this.a.R||this.a.$||(this.oi.setPosition(Menu.ka,f,b),this.yt.setPosition(Menu.ka,r,b),b+=l));"Spaceship"===this.wb&&(this.a.R||this.a.$||(this.ri.setPosition(Menu.ka,f,b),this.At.setPosition(Menu.ka,r,b),b+=l),this.si.setPosition(Menu.ka,f,b),this.uq.setPosition(Menu.ka,r,b),b+=l);"Still Life"!==
this.wb&&(this.ni.setPosition(Menu.ka,f,b),this.tq.setPosition(Menu.ka,r,b),b+=l);"Oscillator"!==this.wb||this.Of||(this.ti.setPosition(Menu.ka,f,b),this.vq.setPosition(Menu.ka,r,b),b+=l,this.fj.setPosition(Menu.ka,f,b),this.Jx.setPosition(Menu.ka,r,b))};k.prototype.pL=function(b){var l=0;this.Pd[this.sd]=b;this.sd+=1;this.sd>=v.dJ&&(this.sd=0);for(b=0;b<this.Pd.length;b+=1)l+=this.Pd[b];l/=this.Pd.length;this.zd.Oa=String(Math.round(l));this.zd.c=!1};k.prototype.Dw=function(){var b;for(b=0;b<this.Pd.length;b+=
1)this.Pd[b]=0;this.sd=0;this.zd.c=!0};k.prototype.NK=function(){var b=this.i.jh-this.C/2,l=this.i.Fj-this.B/2,f=this.Lc-this.a.pa,r=this.Kc-this.a.xa-(this.a.R?this.a.pa/2:0),w=this.a.zoom,z=this.a.zoom*(this.a.$&&4<=w?v.Xi:1);var A=9999<this.a.ga?99999:9999;if(-1===this.i.jh)this.cj.Oa="",this.cj.c=!this.Vg;else{if(0!==this.a.gb){var C=Math.sqrt(b*b+l*l);l=180/Math.PI*Math.atan2(l,b);l-=this.a.gb;b=C*Math.cos(Math.PI/180*l);l=C*Math.sin(Math.PI/180*l)}z=l/z-f+this.a.Pb;b=b/w+(this.a.R?f/2+z/2:0)-
r+this.a.Rb;this.a.$&&(b-=this.a.zoom/32*.2);r=b-Math.floor(b);f=z-Math.floor(z);b-=r;z-=f;this.a.$&&(0===(b+this.Kc+z+this.Lc&1)?1<r+f&&(b+=1):1>1-r+f&&(b+=1));f=this.a.getState(b+this.Kc,z+this.Lc,this.cd&&this.Ia);b+=this.Mb;z+=this.Nb;-1===this.a.sa||this.Mg||(b-=Math.floor((-1===this.Qj?this.pb:this.Qj)/2),z-=Math.floor((-1===this.Pj?this.sb:this.Pj)/2));b=b<-A||b>A?Number(b/1E3).toFixed(1)+"K":String(b);A=z<-A||z>A?Number(z/1E3).toFixed(1)+"K":String(z);this.cj.Oa=b+","+A+"="+f;this.cj.c=!1}this.cj.enabled=
this.Vg||!this.Wa&&-1!==this.i.jh?this.ha||this.$b||0===this.pb?!1:!0:!1;this.vb||this.xj?(this.mm.enabled=!0,b=this.Gb.l>this.Gb.f?this.Gb.l-this.Gb.f+1:this.Gb.f-this.Gb.l+1,z=this.Gb.o>this.Gb.g?this.Gb.o-this.Gb.g+1:this.Gb.g-this.Gb.o+1,this.mm.Oa=b+" x "+z):this.mm.enabled=!1};k.prototype.HJ=function(b){if(!this.Ic&&!this.jb)if(0<this.ha)0<b?this.Ou(this,b/125*3):this.Nu(this,-b/125*3);else if(0<this.$b)0<b?this.Mu(this,b/125*3):this.Lu(this,-b/125*3);else if(!this.Cd){var l=this.Cc.current[0];
this.yp(l,b/125*.05)}};k.prototype.gL=function(b){var l=b.a.v,f=" ";if(b.a.ia||b.a.G)l=b.a.Hf;b.mk?(0>l&&(f=""),b.Ye.lower[0]="+"+f+b.Cr(l),b.Ye.w=["toggle generation statistics\ngeneration +"+l]):(0>l+b.Oh&&(f=""),b.Ye.lower[0]="T"+f+b.Cr(l+b.Oh),b.Ye.w=["toggle generation statistics\ngeneration "+(l+b.Oh)]);b.a.ia?(b.Lf.Oa=b.a.v,b.Lf.w="absolute generation "+b.a.v):b.mk?(1E9<=l?b.Lf.Oa="1B+":b.Lf.Oa=l,b.Lf.Oa=l,b.Lf.w="generation "+l):(l+=b.Oh,1E9<=l?b.Lf.Oa="1B+":b.Lf.Oa=l,b.Lf.w="absolute generation "+
l);b.dn.w=b.Lf.w};k.prototype.zL=function(b,l){var f=l.S.current;var r=!1,w=!1,z=!1,A=!1,C=!1,D,E=l.a.H,F=new BoundingBox(E.f,E.g,E.l,E.o);l.Cd=!1;l.Rx&&(l.Rx=!1,b=0);l.Ia||l.lL(l);l.Da=l.Kd.current[0];l.Wa?(b>v.dI&&(w=!0),b>v.ZE&&(b=v.ZE),!l.Wa||l.Xc&&!l.Ke||(l.mh+=l.Da*l.eg*b/1E3,l.nb+=l.eg*b/1E3,(l.nb|0)>l.a.v?(l.nb+=l.Da-1,l.Yh=!0):l.elapsedTime+=b)):l.Yh&&(C=!0,l.nb=l.dA?l.a.v+1:l.a.v+l.Da,l.mh=l.nb);l.ZA();l.Xc&&!l.Ke&&l.Wa?(l.Dg&&!l.S.JB(l.elapsedTime+b)&&(l.Dg=!1,l.elapsedTime=l.S.qH(l.a.width/
2-l.a.xa,l.a.height/2-l.a.pa,l.a.zoom,l.a.angle,l.a.M,l.a.le*v.Um,l.a.pf,l.eg,l.Da,l.a.v,l.elapsedTime)),f.tf&&(l.zg(!0,!1,v.kk),l.Dg=!1,f.x=l.a.width/2-l.a.xa,f.y=l.a.height/2-l.a.pa,l.jb&&(l.a.zoom*=l.se),f.zoom=l.a.zoom),(z=l.S.update(l,l.elapsedTime+b,l.a.v))?(f.tf&&(f.tf=!1,l.jb&&(l.a.zoom=f.zoom/l.se),l.Cc&&(l.Cc.current=l.Zj([l.a.zoom,l.a.zoom],!1,l))),l.nb+=l.eg*b/1E3,(l.nb|0)>l.a.v&&(l.nb+=l.Da-1,l.Yh=!0)):(l.Wa&&(l.Cd=!0),l.a.xa=l.a.width/2-f.x,l.a.pa=l.a.height/2-f.y,l.a.zoom=f.zoom,l.jb&&
(l.a.zoom=l.a.zoom/l.se),l.Cc&&(l.Cc.current=l.Zj([l.a.zoom,l.a.zoom],!1,l)),l.a.angle=f.angle,l.Bd&&(l.Bd.current=[l.a.angle,l.a.angle]),l.a.M=f.M,l.Wd&&(l.Wd.current=[l.a.M,l.a.M]),l.a.le=f.depth/v.Um+v.Ut,l.Zc&&(l.Zc.current=[Math.sqrt(l.a.le),l.a.le*v.Um]),l.eg=f.uc,l.ac&&(l.ac.current=[Math.sqrt((f.uc-v.Fg)/(v.Sl-v.Fg)),l.zC(f.uc)]),l.Da=f.step,l.Kd.current=[l.Da,l.Da],f.lc>l.a.v?(l.Yh=!0,l.nb=f.lc):l.Yh=!1,f.Ef!==l.Lq&&(""===f.Ef?l.s.notification.clear(!1,!1):l.s.notification.L(ScriptParser.qp(this,
f.Ef),21600,!1),l.Lq=f.Ef),f.wc!==l.dy&&(l.om(f.wc,l.a.sl,l),l.dy=f.wc)),l.Yh||(l.elapsedTime+=b)):l.rc&&l.Wa&&(l.Cd=!0);l.Cd&&(l.Wg=-1);f=0;if(l.Yh){if(l.a.aa){var G=performance.now();var H=(l.nb|0)-l.a.v;for(D=0;!A&&l.a.v<(l.nb|0);){f=performance.now()-G;if(l.a.v===l.Tb-1&&!l.Je||f>v.sF&&!C)l.a.v!==l.Tb-1||l.Je?A=l.pl:A=!0;l.a.Uc&&l.yb("reverse playback");F.set(E);l.Vg&&(l.a.v===(l.nb|0)-1||A)?l.a.af(!0,l.oe,l.Fc,l.Ub):l.a.af(!1,l.oe,l.Fc,l.Ub);D+=1;(l.a.Rk||l.AG()||l.a.v===(l.nb|0)||A)&&!(0===
l.a.aa&&2<l.a.h)&&(l.a.Xe(),l.Ki(),l.Aj||l.a.v<=l.vk)&&(l.a.aa=1);0===l.a.aa&&E.set(F);l.vK(b,H);-1!==l.Xa&&l.a.v>=l.Xa&&!l.Hc&&(l.elapsedTime=0,l.reset(l),l.Ue&&l.$f&&(l.Fb.current=l.Yd(v.$e,!0,l),l.s.notification.L("LOOP reached - Play to continue ",180,!0)),z&&(l.Cd=!0));l.a.aa||(A=!0)}l.a.aa||(l.qx=l.J+(0<l.a.h?l.a.h:0),-1===l.Bi&&(l.Bi=l.a.v,l.a.G||l.a.Y?l.a.Ip(!1):l.a.Ip(!0),!l.qo||-1!==l.Xa&&!l.Hc||l.$m||l.s.notification.L("Life ended at generation "+l.Bi,600,!0)));l.nb-=H-D;0>l.nb&&(l.nb=
0,l.mh=0);D<H&&(l.a.v!==l.Tb||l.Je)&&l.Oi?l.pL(D):l.Dw()}else l.Dw(),l.qx&&(--l.qx,b=l.a.v,l.a.v=l.Bi,l.a.Xe(),l.a.v=b),l.a.v+=l.Da,-1!==l.Xa&&l.a.v>=l.Xa&&!l.Hc&&(l.elapsedTime=0,l.reset(l),z&&(l.Cd=!0));l.a.v!==l.Tb||l.Je||(l.Fb.current=l.Yd(v.$e,!0,l),l.qo&&l.s.notification.L("STOP reached - Play to continue ",180,!0))}else l.Dw();l.Yh&&!l.Wa&&l.yb("");l.Bd.locked=l.Cd&&l.Xc||l.a.R||l.a.$;l.vi.locked=l.Cd&&l.Xc;l.jk.locked=l.Cd||l.rc&&l.Wa;l.ac.locked=l.Cd&&l.Xc;l.Kd.locked=l.Cd&&l.Xc;l.fi.locked=
l.Cd&&l.Xc;l.Cc.locked=l.Cd;l.Wd.locked=l.Cd&&l.Xc||l.a.R&&l.a.te||l.a.$;l.Zc.locked=l.Cd&&l.Xc||l.a.R&&l.a.te||l.a.$;l.wheelDelta&&(l.HJ(l.wheelDelta),l.wheelDelta=0);l.DE(l,w,f,C);l.Yh=!1;l.dA=!1;if(l.Wa||l.rc&&l.Hm>l.JG||-1!==l.Wg)r=!0;l.s.Qg(r)};k.prototype.DE=function(b,l,f,r){b.rc&&(b.Wa||b.Xc)&&b.zg(!1,!1,v.kk);b.a.RJ(b.aq,b.bi);b.bi&&b.MH();b.aq&&b.s.Qg(!0);b.a.dt();b.a.te&&b.a.R&&4<=b.a.zoom?b.a.KH():b.a.$&&4<=b.a.zoom&&b.a.OH();b.Ar&&(2===b.Ar&&b.a.et(b.Lg,1,!0,b.jb,b),b.NG(b),2===b.Ar&&
b.a.dt(),b.Ar=0);b.a.LH(b);b.a.v&&b.a.aa&&(b.Tl.f=b.a.H.f,b.Tl.g=b.a.H.g,b.Tl.l=b.a.H.l,b.Tl.o=b.a.H.o,b.zw(b,b.Tl));b.ai&&b.S.fx(b);!b.Sc||b.he||b.Tf||b.a.et(b.Lg,b.qd,!1,b.jb,b);b.ha?Help.ix(b):b.fd.length&&Help.hx(b);b.gL(b);b.Zm.Oa=b.HG(b.elapsedTime);b.fm.Oa=b.Cr(b.a.ma);b.ht()?b.sj.Oa=(100*b.a.ma/(b.a.ra*b.a.ua)|0)+"%":(b.sj.Oa=b.Cr(b.a.Ib),b.zl.Oa=b.Cr(b.a.Zb));b.fm.w="alive "+b.a.ma;b.ht()?b.sj.w="density "+(100*b.a.ma/(b.a.ra*b.a.ua)|0)+"%":(b.sj.w="births "+b.a.Ib,b.zl.w="deaths "+b.a.Zb);
b.Oi?b.fL(f,l,r,b):(b.ac.Nc=b.jk.Nc,b.Kd.Nc=b.jk.Nc);b.NK();-1!==b.Wg&&b.YA();b.hL();b.rL();b.iL();b.sL(b.ha||b.fd.length);!b.Qc.current[0]||b.zj&&b.Wa||(b.vc.globalAlpha=.5,b.vc.fillStyle="black",b.vc.fillRect(0,0,b.Oc.width,b.Oc.height),b.vc.globalAlpha=1)};k.prototype.fL=function(b,l,f,r){b>v.sF&&!f?(r.Mi+=v.lE,r.Mi>=2*v.fz&&(r.Mi=0)):0<r.Mi&&(r.Mi-=v.lE);l&&!f?r.Ni<v.mJ&&(r.Ni+=v.mE):r.Ni>v.nJ&&(r.Ni-=v.mE);r.Mi>=v.fz&&(r.OL=2*v.fz-r.Mi);b=r.Zn>>16;l=r.Zn>>8&255;f=r.Zn&255;128<=b?64<=l||64<=f?
(l-=r.Ni,f-=r.Ni,0>l&&(l=0),0>f&&(f=0)):(l+=r.Ni,255<l&&(l=255)):(b+=r.Ni,255<b&&(b=255));r.ac.Nc="rgb("+b+","+l+","+f+")";b=r.Zn>>16;l=r.Zn>>8&255;f=r.Zn&255;128<=l?(b-=r.Ni,0>b&&(b=0),f-=r.Mi,0>f&&(f=0)):(l+=r.Mi,255<l&&(l=255));r.Kd.Nc="rgb("+b+","+l+","+f+")"};k.prototype.ZA=function(){if(this.yd&&!this.df){this.a.Rb=this.mh*(this.Uj+this.Vk)/2;this.a.Pb=this.mh*(this.Uk+this.Vj)/2;var b=this.a.OF(0,this.Uk,this.Uj,this.Vj,this.Vk,this.C,this.B-80,v.wa,v.Na,v.tv);var l=this.a.OF(this.mh,this.Uk,
this.Uj,this.Vj,this.Vk,this.C,this.B-80,v.wa,v.Na,v.tv);this.a.Jc=l/b}else this.a.Rb=0,this.a.Pb=0,this.a.Jc=1;this.Cc.current=this.Zj([this.a.zoom,this.a.zoom],!1,this)};k.prototype.sL=function(b){var l=!(this.ha&&this.Jl===v.Xk),f,r=0,w=[],z=[],A=this.Qc.current[0];this.Fb.Ag[1]=this.oe||0===this.a.v&&(!this.a.ia&&!this.a.G||null===this.a.zc)?!0:!1;var C=b||!this.Oj;for(f=0;f<=this.a.Ee;f+=1)this.A[f].c=C;this.dl.c=C;this.bl.c=C;this.el.c=C;this.cl.c=C;for(f=0;f<v.Nr.length;f+=1)v.Nr[f]===this.a.Ee&&
(this.A[f].locked=!this.eh);C=b||!this.Qi||"Empty"===this.wb||"none"===this.wb;this.Cg.c=b||!this.Qi;this.qq.c=C;this.Se.c=C;this.li.c=C;this.ki.c=C;this.mi.c=C||"Spaceship"!==this.wb||this.a.R||this.a.$;this.pi.c=C||"Still Life"===this.wb;this.oi.c=C||"Still Life"===this.wb||this.Of||this.a.R||this.a.$;this.ej.c=C||"Oscillator"!==this.wb||this.Of;this.ri.c=C||"Spaceship"!==this.wb||this.a.R||this.a.$;this.si.c=C||"Spaceship"!==this.wb;this.ni.c=C||"Still Life"===this.wb;this.ti.c=C||"Oscillator"!==
this.wb||this.Of;this.fj.c=C||"Oscillator"!==this.wb||this.Of;this.wq.c=C;this.rq.c=C;this.wt.c=C;this.xt.c=C||"Spaceship"!==this.wb||this.a.R||this.a.$;this.zt.c=C||"Still Life"===this.wb;this.yt.c=C||"Still Life"===this.wb||this.Of||this.a.R||this.a.$;this.pq.c=C||"Oscillator"!==this.wb||this.Of;this.At.c=C||"Spaceship"!==this.wb||this.a.R||this.a.$;this.uq.c=C||"Spaceship"!==this.wb;this.tq.c=C||"Still Life"===this.wb;this.vq.c=C||"Oscillator"!==this.wb||this.Of;this.Jx.c=C||"Oscillator"!==this.wb||
this.Of;this.Bn.locked=this.qc===this.tn;this.Wj.locked=1>=this.qc||"undo "===this.Wj.w;this.vi.c=b;this.Cc.c=b;this.jk.c=b;this.Qh.c=b;this.Jm.c=b;this.xm.c=b;this.Yg.c=b;this.Rl.c=b;this.td.c=b;C=(this.ho.c=b)||!this.Sc||this.he||this.Tf||A;this.Mo.c=C;this.dj.c=C;this.Go.c=C;C=b||this.Sc||this.Tf||A;(this.a.ia||this.a.G)&&null!==this.a.zc&&(this.Yp.c=C);this.dn.c=b;this.Lf.c=b;this.Qd.c=b;this.Zm.c=b;this.jd.c=b;C=(this.fm.c=b)||this.pv();this.rj.c=C;C=(this.sj.c=C)||this.ht();this.gd.c=C;this.zl.c=
C;this.lm.c=b;this.jk.c=b;this.hg.c=b||!this.Tk;this.K.c=!(this.ke||this.fd.length);this.ll.Oa=this.Kk||this.Lk||this.Mk||this.Nk||this.Oj?"Back":"Close";C=(this.ll.c=b)||this.Oj;this.Zc.c=C;this.Bd.c=C;this.Wd.c=C;C=b||this.Oj||this.Kk||this.Lk||this.Nk||this.Mk;this.br.c=C;this.fi.c=C;this.xq.c=C;this.Zp.c=C;this.hu.c=C;this.Hl.c=C;C=b||!this.Mk;this.kj.c=C;this.lj.c=C;this.jj.c=C;this.ij.c=C;this.$o.c=C;this.wo.c=C;C=b||!this.Lk;this.po.c=C;this.Qr.c=C;this.xo.c=C;this.cp.c=C;this.cp.locked=!this.lk;
this.sr.c=C;C=b||!this.Kk;this.Ll.c=C;this.Fp.c=C;this.Cj.c=C;this.np.c=C;this.Pl.c=C;this.Yo.c=C;this.bo.c=C;this.Gm.c=C;C=b||!this.Nk;this.vo.c=C;this.Am.c=C;this.qm.c=C;this.Ao.c=C;this.Cp.c=C;C=this.a.bb||!this.ta;this.$o.locked=C;this.wo.locked=C;this.xh.c=b||!(this.Kk||this.Lk||this.Nk||this.Mk);this.xh.Oa=this.Kk?"Display":this.Lk?"Advanced":this.Nk?"Playback":this.Mk?"Pattern":"";this.Ao.locked=-1!==this.a.Nd||this.a.du||this.a.za&&!(1===this.a.Yb.ed&&this.a.Yb.type===this.P.Pf&&2===this.a.Yb.Fn)||
this.a.$||this.a.De;this.fi.locked=this.cd||this.a.bb||this.a.Y;this.Cj.locked=this.a.R&&this.a.te||this.a.$;this.Ll.locked=!this.a.R;C=b||0===this.S.oc.length||A;this.Pq.c=C;this.pr.c=C;C=b||!this.ad||this.he||this.Tf||this.Sc;this.Te.c=C;this.ec.c=C;this.kf.c=C;this.mc.c=C;this.Le.c=C;this.Pa.c=C;this.gj.c=C;this.kh.c=C;this.nh.c=C;this.ph.c=C;this.lh.c=C;this.cb.c=C;this.tb.c=C;this.Hb.c=C;this.hb.c=C;this.fd.length?(this.K.w="close errors",this.K.Oa="Esc",this.K.Qa("16px Arial"),this.K.Nc=this.vi.Nc):
(this.K.w="close window",this.K.Oa="X",this.K.Qa("24px Arial"),this.K.Nc="red");this.yh.c=!(this.ha&&this.Jl!==v.Xk);this.fa.c=!(this.ha&&this.Jl!==v.Xk)||!this.Dr;this.Pe.c=l;this.Qe.c=l;this.Oe.c=l;this.Re.c=l;this.Ne.c=l;this.we.c=l;this.hd.c=l;this.xe.c=l||0===this.S.Jo();this.sh.c=!(this.ha&&this.Jl!==v.Xk)||this.Dr;if(this.mj){this.mj=!1;r=this.fa.y;for(f=0;f<this.ba.length&&r<this.B-66*this.i.Bh;)w[f]=this.ba[f][1],z[f]="",r+=26*this.i.Bh,f+=1;this.fa.lower=w;this.fa.w=z;this.fa.CK(26*w.length);
this.fa.current=0}C=b||!this.Tf||A;this.Nf.c=C;this.Im.c=C;this.pn.c=C;this.Kp.c=C;this.yn.c=C;this.xn.c=C;this.be.c=C;this.ce.c=C;this.uf.c=C;C=b||!this.Tf||A;this.qf.c=C;this.rf.c=C;this.sf.c=C;this.lf.c=C;this.de.c=C;this.ve.c=C;this.Mf.c=C;this.wf.c=C;this.Ma.c=C;this.ae.c=C;this.$d.c=C;this.Ec.c=C||!this.a.rb;this.W.c=C;this.Fk.c=C;C=b||!this.Tf||A||2>=this.a.h||this.a.bb;this.kd.c=C||this.a.G;C=this.Ia;this.yn.locked=C;this.xn.locked=C;C=!this.vb;this.be.locked=C;C=!(this.vb||this.bd)||this.Ia;
this.W.bg(C);this.kd.bg(C);this.Fk.bg(C);this.qf.bg(C);this.rf.bg(C);this.sf.bg(C);this.lf.bg(C);this.de.bg(C);this.ve.bg(C);this.Mf.bg(C);this.wf.bg(C);this.Ma.bg(C);this.ae.bg(C);this.$d.bg(C);this.Ec.bg(C);C=!this.vb||this.Ia;this.ce.locked=C;C=!this.Gp||this.bd||null===this.zf[this.ag]||this.Ia;this.uf.locked=C;C=b||!this.he||!this.Er||A;this.vd.c=C;this.j.c=C;if(2>=this.a.h&&!this.a.Y)for(f=0;f<this.j.lower.length;f+=1)2>=f?0===f?r=f:r=1===f?LifeConstants.ub:LifeConstants.gk:r=128+v.Ka[f],this.j.Km[f]=
"rgb("+this.a.Ua[r]+","+this.a.Sa[r]+","+this.a.Ra[r]+")";else for(f=0;f<this.j.lower.length;f+=1)r=0===f+this.Sg?0:this.a.G||this.a.Y?f+this.Sg+this.J:this.J+this.a.h-(f+this.Sg),this.j.Km[f]="rgb("+this.a.Ua[r]+","+this.a.Sa[r]+","+this.a.Ra[r]+")";C=b||!this.he||A;this.oh.c=C;this.qh.c=C;this.lp.c=C;this.ig.c=C;this.vh.c=b||!this.he||!this.Er||this.a.h<=this.Wh||A;this.a.h>this.Wh&&this.ql();if(0<this.ha){f=0;for(r=-1;f<this.ba.length&&-1===r;)this.ba[f][0]>this.ha?r=this.ba[f][0]:f+=1;f===this.ba.length&&
(r=f);-1!==r&&(this.fa.current=f-1)}this.zj&&(this.i.c=this.Wa?!0:!1)};k.prototype.iL=function(){var b=-(this.a.width/2-this.a.xa-this.a.Rb|0),l=-(this.a.height/2-this.a.pa-this.a.Pb|0),f=String(b),r=String(l);this.Te.c=!this.ad;this.ec.c=!this.ad;this.kf.c=!this.ad;this.mc.c=!this.ad;this.Le.c=!this.ad;this.Pa.c=!this.ad;this.gj.c=!this.ad;this.kh.c=!this.ad;this.nh.c=!this.ad;this.ph.c=!this.ad;this.lh.c=!this.ad;this.cb.c=!this.ad;this.tb.c=!this.ad;this.hb.c=!this.ad;this.Hb.c=!this.ad;if(-99999>
b||99999<b)f=(b/1E3|0)+"K";if(-99999>l||99999<l)r=(l/1E3|0)+"K";this.ec.Oa=f;this.mc.Oa=r;this.Pa.Oa=this.a.angle.toFixed(0)+"\u00b0";this.cb.Oa=this.Hs.toFixed(3);this.tb.Oa=this.Js.toFixed(3);this.Hb.Oa=this.Ks.toFixed(3);this.hb.Oa=this.Is.toFixed(3)};k.prototype.rL=function(){0===this.a.v?this.Ks=this.Hs=this.Js=this.Is=0:(this.Js=(this.a.H.o-this.a.xf.o)/this.a.v,this.Is=(this.a.H.g-this.a.xf.g)/this.a.v,this.Hs=(this.a.H.l-this.a.xf.l)/this.a.v,this.Ks=(this.a.H.f-this.a.xf.f)/this.a.v)};k.prototype.hL=
function(){this.vi.current=[this.rc];this.Jm.current=[!this.$f&&this.Ue];this.Jm.locked=!this.Ue;this.yd?(this.Yg.lower[0]="TRACK",this.Yg.current=[!this.df&&this.yd],this.Yg.locked=!this.yd,this.Yg.w=["toggle track mode"]):(this.Yg.lower[0]="WAYPT",this.Yg.current=[!this.Ke&&this.Xc],this.Yg.locked=!this.Xc,this.Yg.w=["toggle waypoint mode"]);this.Rl.current=[!this.Hc&&-1!==this.Xa];this.Rl.locked=-1===this.Xa;this.Rl.w=["loop at "+this.Xa];this.xm.current=[!this.Je&&-1!==this.Tb];this.xm.locked=
-1===this.Tb;this.xm.w=["stop at "+this.Tb]};k.prototype.vK=function(b,l){if(this.a.v>=this.Ba.length){var f=this.a.m.I(Float32,this.Ba.length+v.JD,"View.elapsedTimes");f.set(this.Ba);this.Ba=f}this.elapsedTime+=b/l;this.Ba[this.a.v]=this.elapsedTime};k.prototype.wL=function(b){var l=b.ZK,f=b.Pn-b.Rj;if(b.Rj<b.Pn)if(0<b.Jw)--b.Jw;else if(b.Ct)b.zm.innerHTML=b.Lr,b.Rj=b.Pn;else{f<l&&(l=f);var r=document.createElement("textarea");b.Dx(r);if(l!==f)for(;"\n"!==b.Lr[b.Rj+l];)--l;r.innerHTML=b.Lr.substr(b.Rj,
l);b.Rj+=l;b.zm.appendChild(r)}else b.Bs||(b.s.notification.L("Press Enter to complete copy",1E4,!0),b.Bs=!0);b.mL(b);b.a.dt();b.ai&&b.S.fx(b);b.Sc&&b.a.et(b.Lg,b.qd,!1,b.jb,b);b.ha?Help.ix(b):b.fd.length&&Help.hx(b);b.s.Qg(!0)};k.prototype.yL=function(b){var l=performance.now();for(b.i.locked=!0;b.Ub&&13>performance.now()-l;){b.a.af(!1,b.oe,b.Fc,b.Ub);b.a.Xe();b.Ki();if(b.Aj||b.a.v<=b.vk)b.a.aa=1;var f=b.a.hJ(b.sq);0<f.length&&(f[0]===LifeConstants.QB?(f[0]="Nothing Identified",b.cy="none",b.wb=
"none",b.Iq="",b.Fo="",b.Hq="",b.Ht="",b.Bo="",b.Jq="",b.Eo="",b.Co="",b.Kq="",b.Do="",b.Gt="",b.It=""):(b.cy=f[0],b.wb=f[1],"Empty"!==b.wb&&(b.Iq=f[2],b.Fo=f[3],b.Hq=f[4],b.Ht=f[5],b.Bo=f[6],b.Jq=f[7],b.Eo=f[8],b.Co=f[9],b.Kq=f[10],b.Do=f[11],b.Gt=f[12],b.It=f[13],b.wq.Oa=b.wb,b.rq.Oa=b.Bo,b.rq.w=-1===b.Bo.indexOf("|")?"":"min | max | average",b.wt.Oa=b.Hq,b.xt.Oa=b.Iq,b.zt.Oa=b.Eo,b.At.Oa=b.Jq,b.uq.Oa=b.Fo,b.uq.w=-1===b.Fo.indexOf("|")?"":"simplified | unsimplified",b.tq.Oa=b.Co,b.tq.w=-1===b.Co.indexOf("|")?
"":"min | max | average",b.Jx.Oa=b.Kq,b.yt.Oa=b.Do,b.pq.Oa=b.Gt,b.pq.w="rotor | stator | total",b.vq.Oa=b.It,b.vq.w="active | rotor"),b.Qi=!0,b.Of=b.sq,b.HK()),b.Ub=!1,b.Wa&&(b.Fb.current=b.Yd(v.$e,!0,b)),b.yb(""),b.qq.Oa=f[0],"Empty"===b.wb||"none"===b.wb?(b.s.notification.L(f[0],240,!1),b.Qi=!1):(b.s.notification.clear(!0,!1),b.s.notification.clear(!1,!1),b.zg(!0,!1,v.kk)),b.a.Bt(b.Ub),b.sq=!1,b.i.locked=!1)}b.DE(b,!1,0,!1);b.nb=b.a.v;b.mh=b.a.v;b.s.Qg(!0)};k.prototype.xL=function(b){for(var l=
b.Iw,f=performance.now(),r,w=b.a.qg.NI*LifeConstants.Fr;b.a.v<l-1&&13>performance.now()-f;)if(r=l-1-b.a.v<=w?!1:!0,b.a.af(!1,r,b.Fc,b.Ub),b.a.Xe(),b.Ki(),b.Aj||b.a.v<=b.vk)b.a.aa=1;if(b.a.v===l-1){b.a.af(b.Vg,!1,b.Fc,b.Ub);b.a.Xe();b.Ki();if(b.Aj||b.a.v<=b.vk)b.a.aa=1;b.Qm=!1;b.Hw&&b.s.notification.clear(!0,!1);b.i.locked=!1}else b.i.locked=!0;b.nL(b,l);b.a.dt();b.ai&&b.S.fx(b);b.Sc&&b.a.et(b.Lg,b.qd,!1,b.jb,b);b.ha?Help.ix(b):b.fd.length&&Help.hx(b);b.s.Qg(!0)};k.prototype.tB=function(b,l){l.Qm?
l.xL(l):l.Ub?l.yL(l):l.Jp?l.wL(l):l.zL(b,l)};k.prototype.iB=function(b){b.a.v=0;b.a.Hf=0;b.a.Ji=0;b.nb=0;b.mh=0;b.elapsedTime=0;b.a.xa=b.a.width>>1;b.a.pa=b.a.height>>1;b.a.xa&=b.a.width-1;b.a.pa&=b.a.height-1;b.a.aa=1;b.Rx=!0;b.Bi=-1};k.prototype.JF=function(b,l,f){l&&(f.bi=b[0]);return[f.bi]};k.prototype.CF=function(b,l,f){l&&(f.Rh=b[0]);return[f.Rh]};k.prototype.FF=function(b,l,f){l&&(f.a.pk=b[0]);return[f.a.pk]};k.prototype.DF=function(b,l,f){l&&(f.ad=b[0]);return[f.ad]};k.prototype.fB=function(b,
l,f){l&&(f.Sc=b[0],f.Sc&&f.td.current!==v.Wl&&(f.td.current=f.Yj(v.Wl,!0,f)));return[f.Sc]};k.prototype.yv=function(b,l,f){l&&(f.a.xi=b[0]);return[f.a.xi]};k.prototype.EF=function(b,l,f){l&&(f.ai=b[0]);return[f.ai]};k.prototype.yF=function(b,l,f){l&&(f.a.nd=b[0]);return[f.a.nd]};k.prototype.xF=function(b,l,f){l&&(f.Fh=b[0],f.Fh&&!f.a.Wb&&(f.he||f.Tf)&&(f.Qh.current=f.tp([!0],!0,f)));return[f.Fh]};k.prototype.wF=function(b,l,f){l&&(f.a.il=b[0]);return[f.a.il]};k.prototype.uB=function(b,l,f){l&&(f.zj=
b[0]);return[f.zj]};k.prototype.BF=function(b,l,f){l&&(f.a.te=b[0],f.rF());return[f.a.te]};k.prototype.zv=function(b,l,f){l&&(f.a.If=b[0],f.a.yg=b[0]);return[f.a.If]};k.prototype.kB=function(b,l,f){l&&(f.s.pm=b[0]);f.s.Qg(!0);return[f.s.pm]};k.prototype.$n=function(b,l,f){l&&(f.s.Ok=b[0]);f.s.Qg(!0);return[f.s.Ok]};k.prototype.om=function(b,l,f){if(f.a.pf!==b)for(f.a.KK(b,l,f),1<f.a.sl&&(f.s.Em=f.a.sl),l=0;l<=this.a.Ee;l+=1)this.A[l].current=b!==v.Nr[l]?[!1]:[!0]};k.prototype.Fm=function(b,l,f){l&&
(f.Da=b[0]+.5|0);return[f.Da,f.Da]};k.prototype.zC=function(b){return(10>b.toFixed(1)?b.toFixed(1):b.toFixed(0))+"/s"};k.prototype.Xj=function(b,l,f){l?(f.eg=v.Fg+b[0]*b[0]*(v.Sl-v.Fg),b=b[0]):b=Math.sqrt((f.eg-v.Fg)/(v.Sl-v.Fg));return[b,f.zC(f.eg)]};k.prototype.RE=function(b){b.hp=b.a.zoom;b.jb&&(b.hp=b.hp*b.se);b.Qz=b.a.angle;b.He=b.a.xa;b.Ui=b.a.pa};k.prototype.eK=function(b){b.um=b.a.width/2-b.a.xa;b.vm=b.a.height/2-b.a.pa;b.Ln=b.a.zoom;b.tm=b.a.angle;b.ik=b.a.width/2-b.He;b.an=b.a.height/2-
b.Ui;b.mo=b.Qz;b.jb?b.El=b.hp/b.se:b.El=b.hp;b.Wg=0};k.prototype.aK=function(b,l){b.a.zoom=b.rC;b.jb&&(b.a.zoom=b.a.zoom/b.se);b.Cc&&(b.Cc.current=b.Zj([b.a.zoom,b.a.zoom],!1,b));b.a.angle=b.ko;b.Bd&&(b.Bd.current=[b.ko,b.ko]);b.a.xa=b.Ae;b.a.pa=b.Ai;l&&(b.om(b.$s,1,b),b.cd&&(b.a.Om=0),l=Math.sqrt((b.Yw-v.Fg)/(v.Sl-v.Fg)),b.ac.current=b.Xj([l,l],!0,b),b.Da=b.Zs,b.Kd.current=[b.Da,b.Da],b.a.M=b.lo,b.Wd.current=[b.lo,b.lo],l=Math.sqrt(b.Xw),b.Zc.current=b.Wk([l,l],!0,b))};k.prototype.AB=function(b){b?
(this.a.xa+=this.a.Rb,this.a.pa+=this.a.Pb,this.a.zoom*=this.a.Jc):(this.ZA(),this.a.xa-=this.a.Rb,this.a.pa-=this.a.Pb,this.a.zoom/=this.a.Jc,this.ZA());this.a.zoom<v.wa?this.a.zoom=v.wa:this.a.zoom>v.Na&&(this.a.zoom=v.Na)};k.prototype.FE=function(b){b.elapsedTime=0;b.cd||(b.a.Iu(b.oe),b.a.aa=1,b.a.Hu())};k.prototype.reset=function(b){var l=!1,f=!1;this.aq&&this.a.PC();0===b.a.v&&b.s.HE();if(0===b.elapsedTime||b.pt)l=!0;b.Hc||-1===b.Xa||b.a.v>=b.Xa&&(f=!0);b.a.Tc=!1;b.a.Uc=!1;b.a.Ji=0;f||l||(b.Xc&&
(b.Ke=!0),b.yd&&(b.df=!0),-1!==b.Xa&&(b.Hc=!0),-1!==b.Tb&&(b.Je=!0),b.ss&&(b.rc=!1));b.elapsedTime=0;b.a.Rb=0;b.a.Pb=0;b.a.Jc=1;if(l){(this.a.ia||this.a.G)&&null!==this.a.zc&&b.Ju&&(b.a.Uc=!0);b.Xc&&(b.Ke=!1);b.yd&&(b.df=!1);b.ss&&(b.rc=!0);if(!f||b.Xc||b.rc)b.aK(b,l),b.rc&&b.zg(!0,!1,v.kk);b.Hc=!1;f||(b.Je=!1)}b.cd||(b.a.Iu(b.oe),b.nb=b.a.v,b.mh=b.nb,b.a.aa=1);b.Fc||b.a.GE();b.a.Hu();b.Lq="";b.dy=-1;b.Dg=!1;b.S.cK();b.Ub&&(b.Ub=!1,b.s.notification.clear(!0,!1));b.a.Bt(b.Ub);b.s.notification.clear(!1,
!1);b.Bi=-1;b.a.Sq=0;b.Zz(b.a.v);b.Qi=!1;b.PD()};k.prototype.Qu=function(b){var l=this.a.Tc,f;b?b=f="pause":(b="play",this.a.ia||this.a.G?(this.a.Uc&&(l=!l),f=l?"reverse":"play"):f="play");if(this.a.ia||this.a.G){l=this.a.Tc;this.a.Uc&&(l=!l);if(l){var r="stepback";l="stepforward";var w="step back";var z="step forward"}else r="stepforward",l="stepback",w="step forward",z="step back";this.Fb.icon[v.$e]=this.O.icon(r);this.Fb.w[v.$e]=w;this.Fb.icon[v.Io]=this.O.icon(l);this.Fb.w[v.Io]=z}this.Fb.icon[v.yk]=
this.O.icon(f);this.Fb.w[v.yk]=b};k.prototype.th=function(b,l){l.Jl=b;l.ha=1;l.Dr=!0;l.rt=[];l.st=[];this.mj=!0};k.prototype.gs=function(b){b.th(v.VC,b)};k.prototype.Xv=function(b){b.th(v.Tz,b)};k.prototype.sv=function(b){b.th(v.yq,b)};k.prototype.ew=function(b){b.th(v.fF,b)};k.prototype.Mt=function(b){b.th(v.$B,b)};k.prototype.bn=function(b){b.th(v.CB,b)};k.prototype.js=function(b){b.th(v.uD,b)};k.prototype.cn=function(b){b.th(v.IB,b)};k.prototype.xv=function(b,l,f){l&&(f.ha=f.ba[b][0],f.Dr=!1);
return b};k.prototype.dB=function(b,l,f){l&&(f.oj=b[0],f.oj&&f.us(f));return[f.oj]};k.prototype.eB=function(b,l,f){l&&(f.wj=b[0],f.wj&&(f.Xu=!0));return[f.wj]};k.prototype.Yj=function(b,l,f){var r=b;if(l){switch(b){case v.Vl:f.Uo=!1;f.Ia||f.a.bb?r=f.td.current:(f.he=!0,f.oh.current=f.Tj([!1],!0,f),f.Tf=!1);f.ys(f);f.Fh&&(f.Qh.current=f.tp([!0],!0,f));break;case v.Ho:f.he=!1;f.oh.current=f.Tj([!1],!0,f);f.Tf=!0;f.Fh&&(f.Qh.current=f.tp([!0],!0,f));break;case v.Wl:f.he=!1,f.Tf=!1,f.oh.current=f.Tj([!1],
!0,f),f.ys(f),f.Fh&&(f.Qh.current=f.tp([!1],!0,f))}f.rt=[];f.st=[];f.Qc.current[0]&&(f.Qc.current=f.Tr([!1],!0,f),f.s.wh=!0)}f.Yz(r);return r};k.prototype.Yz=function(b){if(this.ha||this.$b)this.i.Pu("grab");else switch(b){case v.Vl:this.i.Pu("auto");break;case v.Wl:this.i.Pu("grab");break;case v.Ho:this.i.Pu("crosshair")}};k.prototype.zF=function(b,l,f){l&&(f.ag=b,f.Fs(),f.pn.current=[!1],f.s.wh=!0);return f.ag};k.prototype.gB=function(b,l,f){l&&(f.am=b,f.Rc=v.pF[b]);return f.am};k.prototype.sH=
function(b){b.Ia||(b.am+=1,3<b.am&&(b.am=0),b.xn.current=b.gB(b.am,!0,b))};k.prototype.ux=function(b){var l="";this.a.Y||(2>=this.a.h?l=this.a.rb?v.$E[b]:b?"Alive":"Dead":0===b?l="Dead":this.a.G?(0!==(b&1)&&(l+="N"),0!==(b&2)&&(l+="E"),0!==(b&4)&&(l+="S"),0!==(b&8)&&(l+="W")):l=this.a.Y?"State "+String(b):1===b?"Alive":"Dying "+String(b-1));return l};k.prototype.jB=function(b,l,f){var r=b;l&&(2>=f.a.h?f.cg=b:(b+=f.Sg,0===b?f.cg=0:f.a.G||f.a.Y?f.cg=b:f.cg=f.a.h-b),f.oh.current=f.Tj([!1],!0,f),f.a.Y?
f.s.notification.L("Drawing with state "+b,120,!0):f.s.notification.L("Drawing with state "+b+" ("+f.ux(b)+")",120,!0));return r};k.prototype.Zi=function(b){var l=this.a.h,f=this.Wh;-1===l&&(f=l=2);this.a.rb&&(f=l=7);b<l&&(b>=f?(this.Sg=b-f+1,b=f-1):b>=this.Sg?b-=this.Sg:(this.Sg=b,b=0),this.vd.current=this.jB(b,!0,this))};k.prototype.Bv=function(b,l,f){var r=0;if(l)for(;r<b.length;)b[r]&&(b[r]=!1,f.vd.current=f.jB(r,!0,f)),r+=1;return b};k.prototype.ZJ=function(b){var l=0,f=this.cg,r=this.a.Vd;var w=
this.Gb;var z=r.f,A=r.l;var C=r.g;r=r.o;var D=(this.a.width>>1)-(this.pb>>1)+(this.Mb<<1);var E=(this.a.height>>1)-(this.sb>>1)+(this.Nb<<1);2<this.a.h&&!this.a.G&&!this.a.Y&&0<b&&(b=this.a.h-b);this.vb&&(z=w.f+D,A=w.l+D,z>A&&(D=A,A=z,z=D),C=w.g+E,r=w.o+E,C>r&&(D=r,r=C,C=D));if(f!==b){for(;C<=r;C+=1)for(w=z;w<=A;w+=1)E=this.a.getState(w,C,!1),2<this.a.h&&!this.a.G&&!this.a.Y&&0<E&&(E=this.a.h-E),E===b&&(this.Vc(w,C,f),l+=1);0<l&&((this.a.rb&&6===b||6===f)&&this.a.zn(),this.yb("replace states"))}else this.s.notification.L("Cell and drawing state are the same",
120,!0)};k.prototype.Cw=function(b,l,f){var r=b.cg,w=b.a.Vd,z=0,A=0;if(0<r)if(2<b.a.h&&!b.a.G&&!b.a.Y&&(r=b.a.h-r),b.a.rb&&1<r&&(A=r&1),b.a.rb&&l)if(f){for(f=w.g;f<=w.o;f+=1)for(l=w.f;l<=w.l;l+=1){var C=b.a.getState(l,f,!1);3<=C&&5>=C&&(b.Vc(l,f,C&1),z+=1)}0<z&&b.yb("clear [R]History marked cells")}else{for(f=w.g;f<=w.o;f+=1)for(l=w.f;l<=w.l;l+=1)C=b.a.getState(l,f,!1),1<C&&(b.Vc(l,f,C&1),z+=1);0<z&&(this.a.zn(),b.yb("clear [R]History cells"))}else{for(f=w.g;f<=w.o;f+=1)for(l=w.f;l<=w.l;l+=1)C=b.a.getState(l,
f,!1),C===r&&(b.Vc(l,f,A),z+=1);0<z&&(b.a.rb&&6===r&&this.a.zn(),b.yb("clear state "+r+" cells"))}return z};k.prototype.Yd=function(b,l,f){var r=b,w=f.Je,z=f.Hc,A=f.Ke,C=f.$f,D=f.rc,E=f.df,F=40,G=0,H=0,J=0,O=0,K=0,M=0,I=0;if(l){f.Uo=!1;switch(b){case v.qy:f.$f=f.pt||f.Ue&&0===f.a.v&&0===f.elapsedTime?!1:!0;f.Ue&&!f.$f?(b=v.yk,f.Wa=!0,f.$m=0===f.a.ma?!0:!1):(b=v.$e,f.Wa=!1);f.yb("");f.reset(f);f.Yc=0;l="Reset";!f.Hc&&z&&-1!==f.Xa&&(H=1);f.Hc&&!z&&-1!==f.Xa&&(H=-1);!f.Je&&w&&-1!==f.Tb&&(J=1);f.Je&&
!w&&-1!==f.Tb&&(J=-1);!D&&f.rc&&(I=1);D&&!f.rc&&(I=-1);!f.Ke&&A&&(O=1);f.Ke&&!A&&(O=-1);!f.df&&E&&(K=1);f.df&&!E&&(K=-1);!f.$f&&C&&f.Ue&&(M=1);f.$f&&!C&&f.Ue&&(M=-1);if(0!==H||0!==J||0!==O||0!==K||0!==M||0!==I)l="",0!==H&&(G+=1,l+="Loop"),0!==J&&(0<G&&(l=0<Math.abs(O)+Math.abs(K)+Math.abs(M)+Math.abs(I)?l+", ":l+" and "),G+=1,l+="Stop"),0!==O&&(0<G&&(l=0<Math.abs(K)+Math.abs(M)+Math.abs(I)?l+", ":l+" and "),G+=1,l+="Waypoints"),0!==K&&(0<G&&(l=0<Math.abs(M)+Math.abs(I)?l+", ":l+" and "),G+=1,l+="Track"),
0!==M&&(0<G&&(l=0!==I?l+", ":l+" and "),G+=1,l+="AutoStart"),0!==I&&(0<G&&(l+=" and "),l+="AutoFit"),l=0<J||0<H||0<O||0<K||0<M||0<I?l+" On":l+" Off",F=120;f.s.notification.L(l,F,!0);break;case v.yk:f.Wa?(f.Wa=!1,f.yb(""),(f.a.v!==f.Tb||f.Je||f.qo)&&f.s.notification.L("Pause",40,!0)):(f.Xc&&!f.Ke&&(f.a.ia||f.a.G)&&(f.a.Tc||!f.a.Tc&&f.a.Uc)&&f.cx(f),f.Wa=!0,f.yb(""),f.$m=0===f.a.ma?!0:!1,f.s.notification.L("Play",40,!0));break;case v.Io:if(f.Wa)f.Wa=!1,f.yb(""),f.s.notification.L("Pause",40,!0);else if((f.a.ia||
f.a.G)&&null!==f.a.zc){f.a.Uc=!f.a.Uc;f.a.Uc&&f.yb("reverse playback");f.yb("");for(w=0;w<f.Da;w+=1)f.a.af(!0,f.oe,f.Fc,f.Ub),f.a.Xe(),f.nb=f.a.v;f.a.Uc=!0}else 0<f.a.v&&(f.Zz(f.a.v-f.Da),f.xr(f.a.v-f.Da));break;case v.$e:f.Wa?(f.Wa=!1,f.yb(""),(f.a.v!==f.Tb||f.Je||f.qo)&&f.s.notification.L("Pause",40,!0)):(f.Yh=!0,f.yb(""),f.$m=0===f.a.ma?!0:!1)}r=b;f.Qu(f.Wa)}return r};k.prototype.bs=function(b,l,f){l&&(f.Dg=!0,f.a.angle=b[0]);return[f.a.angle,f.a.angle]};k.prototype.cs=function(b,l,f){l?(f.Dg=
!0,f.a.M=b[0]+.5|0,b=b[0]):b=f.a.M;return[b,f.a.M]};k.prototype.Wk=function(b,l,f){return l?(f.Dg=!0,f.a.le=b[0]*b[0],[b[0],f.a.le*v.Um]):[Math.sqrt(f.a.le),f.a.le*v.Um]};k.prototype.JH=function(b,l,f,r){var w=this.cg;-1===f&&-1===r?(this.fr=this.AE(),2<this.a.h&&!this.a.G&&!this.a.Y&&(w=this.a.h-w),this.fr=this.Kn&&this.fr===w?0:this.cg):(this.gv(f,r),f=this.tj,r=this.uj,this.gv(b,l),b=this.tj,l=this.uj,this.Bu(f,r,b,l,this.fr)&&this.a.zn());0<this.a.ma&&(this.Bi=-1,this.a.aa=1)};k.prototype.Dv=
function(b,l,f,r){r.zj&&!f&&(r.Fb.current=r.Yd(v.$e,!0,r))};k.prototype.vv=function(b,l,f,r){r.AF(b,l,f,r,!1)};k.prototype.GH=function(b,l){l=(b.Uh-l)/b.lq;-1!==b.Uh&&(0<l?b.Nu(b,l):0>l&&b.Ou(b,-l))};k.prototype.FH=function(b,l){l=(b.Uh-l)/b.lq;-1!==b.Uh&&(0<l?b.Lu(b,l):0>l&&b.Mu(b,-l))};k.prototype.HH=function(b,l,f){l=(b.nn-l)/b.a.ja;f=(b.Uh-f)/b.a.ja/(b.a.$&&4<=b.a.ja?v.Xi:1);if(-1!==b.Uh){var r=b.a.R||b.a.$?0:-b.a.angle;if(!b.Cd){var w=Math.sin(r/180*Math.PI);r=Math.cos(r/180*Math.PI);b.Dg=!0;
b.a.xa+=l*r+f*-w;b.a.pa+=l*w+f*r}}};k.prototype.BH=function(b,l,f){var r=b.Wa,w=b.Yc;b.Gj||(b.Wa&&b.fu&&(b.Wa=!1,b.Uo=!0),r&&(b.Yc=0,b.yb(""),b.Yc=w),b.JH(l,f,b.nn,b.Uh),r&&b.yb(""))};k.prototype.IH=function(b,l,f){b.bd||b.AH(b,l,f)};k.prototype.AH=function(b,l,f){var r=b.Gb,w=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),z=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1),A=b.a.ia?-1:0,C=Math.round((b.a.width-b.a.ua)/2)+A;A=Math.round((b.a.height-b.a.ra)/2)+A;var D=C+b.a.ua-1,E=A+b.a.ra-1;-1!==b.sa&&(0===b.a.ua&&(C=0,D=
b.a.width-1),0===b.a.ra&&(A=0,E=b.a.height-1));if(-1!==l&&-1!==f)if(this.gv(l,f),-1===b.Uh)b.UE=l,b.VE=f,b.vb=!1,b.Dh=!1;else{if(b.xj)r.l=b.tj-w,r.o=b.uj-z;else if(l!==b.UE||f!==b.VE)l=!1,-1!==b.a.sa&&(b.tj<C||b.tj>D||b.uj<A||b.uj>E)&&(l=!0),l||(b.xj=!0,r.f=b.tj-w,r.l=r.f,r.g=b.uj-z,r.o=r.g);b.xj&&(b.VB(b),w=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),z=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1));b.xj&&-1!==b.a.sa&&(C-=w,D-=w,A-=z,E-=z,r.f<r.l?(r.f<C&&(r.f=C),r.l>D&&(r.l=D)):(r.l<C&&(r.l=C),r.f>D&&(r.f=D)),r.g<r.o?
(r.g<A&&(r.g=A),r.o>E&&(r.o=E)):(r.o<A&&(r.o=A),r.g>E&&(r.g=E)))}};k.prototype.Eu=function(b){b.vb=!1;b.Dh=!1;b.yb("cancel selection");b.xj=!1};k.prototype.EH=function(b){b.bd?b.gz(b,b.tj,b.uj,!0):b.zH(b)};k.prototype.us=function(b){var l=b.Gb,f=b.a.H,r=l.f,w=l.g,z=l.l,A=l.o,C,D=0,E=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),F=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1);if(r>z){var G=r;r=z;z=G}w>A&&(G=w,w=A,A=G);r<f.f-E&&(r=f.f-E);w<f.g-F&&(w=f.g-F);z>f.l-E&&(z=f.l-E);A>f.o-F&&(A=f.o-F);f=z+1;G=r-1;var H=A+1;var J=
w-1;for(C=w;C<=A;C+=1)for(w=r;w<=z;w+=1){var O=b.a.getState(w+E,C+F,!1);0<O&&(C<H&&(H=C),C>J&&(J=C),w<f&&(f=w),w>G&&(G=w),D+=1)}0<D&&(l.f=f,l.g=H,l.l=G,l.o=J)};k.prototype.zH=function(b){var l=b.Gb;if(b.xj)if(b.vb=!0,b.xj=!1,b.Dh=!1,b.oj&&b.us(b),b.vb){var f=l.l<l.f?l.f-l.l+1:l.l-l.f+1;l=l.o<l.g?l.g-l.o+1:l.o-l.g+1;b.yb("selection ("+f+" x "+l+")")}else b.Eu(b);else b.Eu(b)};k.prototype.DH=function(b,l,f){-1!==l&&-1!==f&&(b.Qx=!0,l=b.AE(),b.jr?(b.ZJ(l),b.jr=!1,b.oh.current=b.Tj([!1],!0,b)):(b.fr=
l,b.Zi(l)))};k.prototype.CH=function(b){b.Uo&&(b.Wa=!0,b.Uo=!1,b.s.Qg(!0));0<b.Yc&&(b.a.Mh(),b.yb(""))};k.prototype.AF=function(b,l,f,r,w){-1!==b&&-1!==l&&r.s.hasFocus&&(f?(r.Qc.current[0]||(r.ha?r.GH(r,l):r.$b?r.FH(r,l):!r.he&&!r.Tf||w?r.HH(r,b,l):r.he?r.BH(r,b,l):r.Tf&&r.IH(r,b,l)),r.nn=b,r.Uh=l):-1!==r.nn?(r.ha||r.Qc.current[0]||(r.he?r.Gj?r.DH(r,b,l):r.CH(r):r.Tf&&r.EH(r)),r.nn=-1,r.Uh=-1):r.ha||r.Qc.current[0]||(r.Gj?r.s.notification.L("Now click on a cell",180,!0):r.bd&&r.s.notification.L("Now click to paste",
180,!0)))};k.prototype.Yl=function(b,l){8>this.a.zoom&&(0>b?b=-8:0<b&&(b=8),0>l?l=-8:0<l&&(l=8));this.Uh=this.nn=0;this.AF(b,l,!0,this,!0);this.Uh=this.nn=-1};k.prototype.cu=function(b){var l=v.oq;null===l&&(l=new Image,l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABpAAAAAoCAIAAAB2CC60AAAABnRSTlMAAAAAAABupgeRAAASX0lEQVR4nO2dWZLkKgxFnR294FpK7Zj34dcEiRiEkATY93xUZNlYEoMYZGxfFwAAAAAAAAAAAAAAAAAA7Pj5+TE9/masyxZl/kLuSqdVb308S9NIYHcWAAAAAAAAUOTvagMA0CeEkB35fD4OklfpXUUIwccMN0UALOH39/fn5+f399ftuCxePHM25fZon79Mk8DpYDwCAFggc3l0FAAALRCwA4/FYqRsh+fW6vWHLolVJigWMh8AygEoQoN6d7iNHtc6G0G0DliA8QgAIGbI0zn9ADoKAIAWf1YbAIAJ99zdTn5ttF6ldxVvyy8Aj6S4L8/orFu0bp97G8AHjEfguq7wzWpzwBlkrp12JtTr0Q8AADxBwA48Fru5e3vWvkrvKt6WXwCeyv3krNHZ+DvbAWf0F73HO8F4NBqlOi6kFXpc1/X5BzM9ABlD/l5sSGhaAAAt8EgseDIWyzbmTvglelfxtvwC8CQ8t9ddLtG0LCYIVlHcopKuY4eOM2sT49HFNvguW3HuxCGJycKsXU4zEmN2jUtmLAFPhdNy0jQ+Dem4jggAAAAokw2ciuNoW/IqvZQlXyzVulm9+U3vVV+J3blMUjasvg1NytjhK7FZ4vmz7ZYca6S4z6W2/6V7PNMiYMl+nCVKHTCqXL5qseViOcsri99s5huY7MLJImpcXjsluGRzju4W9qfdYLrNLE2jW1Pqlb6qi144NABwIlMv1LSg5nijN8eGjE+FzORavdC0DBOrjkpVypkjJ9OrhUrVCIQ46B2KqamQPd2WnVXJr7rMhi6m8LXlfJn1ybpiF3ZZRbK2tINJlHQbmttv+qNokvrZm7TVxTpS3IQVeDvsaALm1N9uoOcrHfXcYtFZOyxzQNcq9uXjkdEEZhRmtRZdb1SR4NrJQadxeaMh8TflmaI1J4y/u10cM+WoXj6b6+XXSHG8mOyWR+2ZOVu75P7huQl6oV4V1L24zfIBBWzNqrh1qKCVvitk0mzZ5V2rnOuCalQpZ44c/8w+kiU77I5j3rk8y9nCKdT7PVqkC91ZpcuyZtWuulVnr8oOu1piPrQpctJzhjnThiRTKjCjLUcxRwLcStuBTaztlp5K2baFj141qXQHaRx189nne4euE3X91Mh5V+ktWkJ/Fw9mR4bskRkvvkqxjvbXq6JuXuMOjfmdLClPlarsv8Mu7HHDcFsUK55f1KaVsknXEPCmBmBM+tqRd3Z0My97yiapRSFp8S7ZI1w8vlUt0z1o99cb7I6nZxtWGZ29SKvTqo7sxvtQ26atpd2eL40eY4lS8BKy0U22kxQYoTLszksDN8V+tTiIfEqfIC8myM4OVZBgYiZuAxbj7856xagv9kcvgY/Ps3BJMg/3oxOYJlJ0ZzxZ4ICj0aLBbTWNO9GjwBHEDs3tVcF78lQXe3OdMokxNa031nXPxtDhaDRNwEy0rnFVfN42vVZl4T2qVKARvI12zC6mMVJtIXYTVBxQ0HW0VwfPLnNT6Dww/NsWR+8DxQBcuxlM1gi9tj1kaNV+Ojrz/6qo3hYMuM/AIYRiythXYhG2u1H3XrFA3Qa3Ya90nEdNwl/F7c9oc/LPbDr92rDxb042YR2Kj9jVdbcej/YpReI+uNoWPLuzDrN88VqCk17c8hWVehL1wneegdEMlr5bCg2mzWjXERPXtnd50tZr11lZ6KXjRTFeFjvh4qa5eLlgS13XvKI6XS0XonUEhzF3lR+9jQfsTR4L2N28eSR+sPNsm7WzPAqk8CvOs/nFHiyEkG61czNgE1QCDaMVV7xxrcW2ndiGqHxWoi25xm477NKrhuSP2/U/svX2qphd1CuY+2lNF0+ZdtY25szInNyn09hkZ12e/OdFUrRaiyD9/g0MWNAIz2UhPBozbcT4VGjvjdUdRgXRuqcu0DCZfBLP2Jv8R3xlXOu+BNP8ipuL4i5oFTlGbG4eOA4690Ibc8C0kDnCTxmYHRBH3LJvzg6dvclm+Vrel8pJd0MMSeAnFkdkxLtj/Pso046xKPl0D/38o3hQxrxJ8Xdaobrr/GIo0D+zmUlLVA8Z6a8U1KDVUayg9C7vpzQKKPaZ3WjCZ/ouTnHcHPpL5Yzq1bJfBSwHwJ7IA3Y3b2jZC/PoM5k4ogaPMBLsT9aQXjtjtritlJWts892s8PJb2iim+amFvOyO57h//WJIIqmDfGR3vkfsqq4WuPLHzJv4QgYklcHKMqsnXptn2yHW5HG/u3ZEzZBNJDO5NHOd+bzb/9abM/xd23wipfEH64WayCI1p2YzRp0evZa1ItibdkWAykO0RVdqoYKSlYl2zW9NeGj6btCBFNwsd6aDQ05zGRivRnpzZN2gkl1XUUydcchqN/uglyd9vNukaEFs2x1PUqcb9GD9HjG8nLWLSJFacx+MpvbWYcLqXamkEbfm07EG1PYUWOyXWluv7sG6J5NCd935mmZCEjlBHL/v5Y+Y2ZE41w74wKTBhdVN+zJVqeyCmJ2uY0jKY+fAJiiUqFUJp0zt1W0tXMGpm6aWoJ51fOoFD6/G9Edc1+olw7uNEGmPe3EZmzgXz6jqDZu8v9SOaN6Z1B3KCaTNcuUYzpn5ujVDewsH8GXl6eJ3iDFSK9W+q6QtliL7M/nV6CUmc1uSi2NApNAg1p0Ses4h6HKcqjZWhMabVfWZVs7zjSSk2yytGmJdd3W2pFTmTO6GolT+bW/DRva9tyVXtwlZ3o8S1BLo3I2khbapXfrNZOj3sbaepnqjNq/BaE0LquIZXqoXXdhx84GR8MULeR0mDUzRgXy09ipnkfdibRSvlbvkIXM9pMlkxWCURbotdTy0b9UzqheLftllwuYt9nfj/go6l2Vha2MUdE7+0gsZZNaEeNsf1FXI/7auG2oonp/DjX7IgODOM0zWJW72l6PZxC+p1B2Kqy1DBG+b7H67JJo3GoWcD89SjejWR/PmPmaRPds/J0Vl9ZTCamcWCnzYt/JZHtuiOUnXn43fpTw79nhndvecsMWPoW0UHVqw1oDTCnOXcUTWl1pNeiu3sY8Kro2PdvYXM/fKDeZNYGE4rgp2GE36lwW4/4Qj19kRcI42eUzqhUteTn6AbsbFPTmHF07RxsPbraatm5ljAoNHwl6S3GxJyoWePiO1pnqSmUWJ6/qitzwfJOdQ3HNh1DfTK1qUJ5tdi4fWqch2W1nN2MvLv98usqFql+L7kDsP6xfyQQpC+TFlpOepc0pHXpGG1sM989kYUaCIFp3okOhHxhFVlwoZF2sAnYAAJCRdt/OXXkxrNON9ZxFSPZ33BMph0IWqLCO1qUHjSq3Nnm10PU8HIrr3LXEsxmq9EOr7+54t+oN0pJMDaNDxgrrwKMotvyZEJKiNEoatr6SaF3NZS4Svyual05CDnIrQbRuq44OgAdjFbDT2uwKjDi6do42/s2kFedZiQ8LzBWhM6fiGmx+gkUvXzUfXRWtu564w870Ydji51Oww+4sZIVJbxtko0B6d6FxR+eUPRExBLbakDJpx0jttPDKohaf8lmo+uXQYt9HWlF4bBgN4TTSTQ9mZydj90x/VBzpBNG6I7rljFX9AB3magd3Q1Zc6Gx10Q/YnT4iOttf1NVw3eKpV/nSoWaDSPf+pIU6/vETaczY4mL40svyDj64dsvkU281mz4YG39nxaU1W03lnLuWWEtcYRZXp1p0pR1acbt1AlstBdNhyNkkO9WblO2GREdQ8QhdaRRaj+nwlKXMTsVGlRoZj2zVIRQpjptDf6mcUb1a9g/hXzvMcLCF3lG0bKOiZix5OZoBuycVrmdeZnRN2nlcfR1ncAqnG3pDV/Ux3v3UUBqJA/wDCrm7Srzbku7SYm25rY3WXQY77O5taMWvu5oeT8+2bVM86xBN+3iFUMW5OGWpb2Rno2pOKZkiIaF4UIDYjGwu8UmW1o0ZyNHl7wkKqo3uJNZ0SpxKptUaA3PXtxMxDZtpJ11/1B3mahOb9l8t7UtwXmoVde28DJm3befcnYXOnEmxPmp6aypG03eF0At9iqKopT2KzKjrqs7kq5QzRw7HmMeQZZYOfpwsN3a1GNH91uTN0EzCaHVdC8wJgjvLy5kW0WgudAtZNlGbN8A0WtfO1IfxShp+mkga1fL8XTTA9N9IIPsUdBtGIPf/jWhPHubTO5OVWK3/HBLIuZzZmWxYYhtSa/bxeNsvtAZumfdxruqmsVOdJr5/LGmT/G5Et8PZvPu6RBbGPioblTJnoWOK5yjT9uhJ4Vdp3OT/pXJG9WrZryKKyYzGVf7LR7FUjQTOmHHjX55Weqs3+75R1lrXq5W+K2RUkVaBMOVrqWNq5yfYTdER0Dxq5bqxlUblOIch+42quFiSio3Ks5ztciGm5q0NVDRyDp5CcTec6XGmARZnb2JfF/9Vqb5MjkOTkDVsRXfQpdZVuqm26zdeRa24Uo8TXD6aWFZrnKu6aexUx5QqCIykBmil1NW7CpmF4Xv6XTzLOUgF8m3gWMg3YEhyIOPm6F8qZ1Svlv1aAu2cN9UyZMykRnCtK09bvdaNdVSvVvquEJl5k8XSFauukWlD10KtnDLNeBg0m1oZR8AuiqXlqdioFgbsikf8qXl019PFujgHT8ehXcVTxTTMs6NKI9ZVFr7XEkYqxK16z9Ets8fTQtN+41W0y4rjF0OlrV5rnKu6aexUX3rRuplWzReios5ImgViC0MyP6QHsyOh50e1C8WoC2xoGf37SOycV2yGj8Zn41yeuk3or8CC5XsaF8J53OlQtn0ZwZvb2+ns1qKiPc9oVDvkYqjfUH8dxq16h3I4jvhKu+Ijq3Znr+sK9k8SWctX7NlM7RSQZm0rw47gYUNMl/ajtZ6WADBDbMnth0/j31B6fpZKaxwZNS9zKIseRvYOu0f2dQ9e7INDGQvYPdItBah7sjhYplsjG8bs0OTOBXX3Epj9xmR7qN1hRjOT0d5DR5PNn43xO4dZvulaYn7hlLnMU9c8b6O9ht+HhmvsbPYmbDhPphQt1I0mUxX+LceuIrqzi/SU+qshuxqNQLQuA2E7MENjsBA4Djdg92yflKHrybFes1d4Uo2X5Up1q7nI41ud+l04wAGFrI5/v4Fo3STdfXB2Z8/dYae4RqUxuxlpFiiu6rd6s7gdm5sHtEidd89K110ovoFsvOiGs2ncqniqLXDUwvRfowWg4O/jQdgOiCl2xTLH+cNR9hKflKFYPnxRppWySXVvYgZ4GGhXJ5Iu1++3P2BgmqT2/Vbrs1fpeSKVqXAqJy6Z5sVGyeo7SmgbFr/cZHOyHIWE+wgtik+Cn6EaxA5qtSEtbu/IQsb7m70P+xdU0cL9zV5CbPnRKTLvoB11PE69Jg1mKfbnn29UZF424+/OesWcOBiBHSj2DwJaATu0Tj4WZaVVx/Oq/XHYGeEjZJVeNwLBXyZNH8jd70PXfiAlLimfVI/FD63G7W8Wx1PaCYzOhlI0rRvT6R5P/y2uoxTRvVGnImeIRm95dFe5w3h0l96qUbuhOpAtPzFs97x+1YH9i2vhIuIsPt9PONXcIZtPZgdTQv1WhBj1ni0TXtPFPH6WXjHoJ4GAdnfBFaJkDAAbkU1MFVdubclL9M58yFVG40m3a9HTT3TYVh9Tl5ezaQACLCTdkub5m2PPzNlGyvC9w+7+kXVx8ffQ8XTFpeUygUQD52X6q3gb/uNRIE/MTaqWUVPtbJJMHeeqbho71Sei5QivIovfXYwCzJKlY9DOTcti/N1ZLwAAgF1IO3fTO1GNuz2eeim16JLWcUrQ+8q7oigLrMu2sS+JYR04krvSi7vkTI+nZ+lv3bMRHweHv7yZVeNRd3uIAJnN2YTB3x3s8ttN41nU4LWkbabWeHQbFRoqAACA59AdRI3kr9JLcQ7Y6WbcuhgnQcAOWLCqXWVni8lUzqZYN+awd9AfmPKq8ajBU5f34ngc4nRgntq0n5MYAABk9D86AcChBLNd6O031KzSu4q35Xch6gsVrFtAiumXKOLvkLzDzujv5k8hATswHkWOfh1hg482qzMEtoDp3elzst1r0boAACr8XW0AACZYr9Zqc/dVelfhk19Mei7M/IAlnl+fyN7sY/1XViDgRDAeAQBkUL9uO3vAp1oAAF4gYAceSxrY0hpTOcGyVXr9obMZlfxSmVgjAaDL5JOzgrMRROuABRiPAACKxM101N/jkYBvegAA7EHADjwQu7GzLXmV3lW4WbVn9gE4F/r46h1uqz3WOn82cruzz1/wHjAeAQDUWTXtBwAAAAAAAAAAAAAAAADAjvwHXOCRqfndkrIAAAAASUVORK5CYII=",
v.oq=l);this.O=new IconManager(l,b);this.O.add("play",40,40);this.O.add("pause",40,40);this.O.add("tostart",40,40);this.O.add("menu",40,40);this.O.add("stepback",40,40);this.O.add("stepforward",40,40);this.O.add("autofit",40,40);this.O.add("fit",40,40);this.O.add("grid",40,40);this.O.add("shrink",40,40);this.O.add("draw",40,40);this.O.add("hexgrid",40,40);this.O.add("lines",40,40);this.O.add("pan",40,40);this.O.add("pick",40,40);this.O.add("states",40,40);this.O.add("hexagongrid",40,40);this.O.add("trianglegrid",
40,40);this.O.add("inside",40,40);this.O.add("undo",40,40);this.O.add("redo",40,40);this.O.add("drawpause",40,40);this.O.add("invertselection",40,40);this.O.add("autoshrink",40,40);this.O.add("selectlibrary",40,40);this.O.add("cut",40,40);this.O.add("copy",40,40);this.O.add("paste",40,40);this.O.add("flipx",40,40);this.O.add("flipy",40,40);this.O.add("rotatecw",40,40);this.O.add("rotateccw",40,40);this.O.add("random",40,40);this.O.add("smart",40,40);this.O.add("outside",40,40);this.O.add("select",
40,40);this.O.add("reverse",40,40);this.O.add("uturn",40,40);this.O.add("nudgeright",40,40);this.O.add("nudgeleft",40,40);this.O.add("nudgeup",40,40);this.O.add("nudgedown",40,40)};k.prototype.PE=function(b){var l=!1,f=null;""===b&&(b="Life");try{f=this.P.create("","x = 1, y = 1, rule = "+(b+"\nb!"),this.a.m,null,null,[],this)}catch(r){f=null}f&&f.me&&(l=!0);return l};k.prototype.TB=function(b){var l=window.prompt("Change rule",(""===b.pd?b.Eb:b.pd)+b.em);if(null!==l)if(b.PE(l)){""===l&&(l="Life");
var f=l.indexOf(":");-1!==f?(b.Eb=l.substr(0,f),b.em=l.substr(f)):(b.Eb=l,b.em="");b.pd="";f=b.a.sw(b,b.a,!0);b.ke&&(b.C=b.Wq,b.B=b.Vq);b.ci(f,!1)}else b.s.notification.L("Invalid rule",180,!0)};k.prototype.fC=function(){var b=0,l=this.a.Yb.ed,f="",r,w;var z="R"+l+",C"+(this.a.Yb.Fn+",");switch(this.a.Yb.type){case this.P.Pf:f="";b=(2*l+1)*(2*l+1);break;case this.P.sg:f="N";b=2*l*(l+1)+1;break;case this.P.Hp:f="C";b=0;var A=l*l+l;for(w=-l;w<=l;w+=1){for(r=0;(r+1)*(r+1)+w*w<=A;)r+=1;b+=2*r+1}}l=this.Sb.random()*
b|0;z+="S"+String(l);l=(this.Sb.random()*(b-l)|0)+l;0<l&&(z+="-"+String(l));l=(this.Sb.random()*(b-1)|0)+1;z+=",B"+String(l);l=(this.Sb.random()*(b-l)|0)+l;0<l&&(z+="-"+String(l));""!==f&&(z+=",N"+f);return z};k.prototype.gC=function(){var b=0,l=this.a.Yb.ed,f="",r,w;var z="R"+l+",C"+(this.a.Yb.Fn+",");z+="M1,";switch(this.a.Yb.type){case this.P.Pf:f="M";b=(2*l+1)*(2*l+1);break;case this.P.sg:f="N";b=2*l*(l+1)+1;break;case this.P.Hp:f="C";b=0;var A=l*l+l;for(w=-l;w<=l;w+=1){for(r=0;(r+1)*(r+1)+w*
w<=A;)r+=1;b+=2*r+1}}l=this.Sb.random()*b|0;z+="S"+String(l);l=(this.Sb.random()*(b-l)|0)+l;0<l&&(z+=".."+String(l));l=(this.Sb.random()*(b-1)|0)+1;z+=",B"+String(l);l=(this.Sb.random()*(b-l)|0)+l;0<l&&(z+=".."+String(l));return z+(",N"+f)};k.prototype.jC=function(){var b="W";var l=2*(127*this.Sb.random()|0);return b+=String(l)};k.prototype.hC=function(b){var l="B",f,r,w=8,z="";if(this.a.R)w=6,z=this.P.tt;else if(this.a.$)switch(this.a.Ld){case this.P.Xn:w=3;z=this.P.Xr;break;case this.P.Yn:w=9;z=
this.P.Zr;break;case this.P.Bm:w=12,z=this.P.Yr}else this.a.De&&(w=4,z=this.P.mv);var A=new Uint8Array(w+1);var C=new Uint8Array(w+1);var D=r=50;-1!==this.Dk&&(D=r=this.Dk);-1!==this.Ek&&(r=this.Ek);-1!==this.jm&&(D=this.jm);for(f=0;f<=w;f+=1)A[f]=r,C[f]=D;-1===this.Dk&&-1===this.Ek&&(A[0]=25);for(f=0;f<this.rh.length;f+=2)this.rh[f]<=w&&(A[this.rh[f]]=this.rh[f+1]);for(f=0;f<this.Pi.length;f+=2)this.Pi[f]<=w&&(C[this.Pi[f]]=this.Pi[f+1]);for(f=2<this.a.h||b?1:0;f<=w;)100*this.Sb.random()<=A[f]&&
(l+=String(f)),f+=1;l+="/S";for(f=0;f<=w;f+=1)100*this.Sb.random()<=C[f]&&(l+=String(f));2<this.a.h&&(l+="/"+this.a.h);return l+=z.toUpperCase()};k.prototype.iC=function(b){var l=b?this.P.lJ.toUpperCase()+",":"M",f,r=!1;var w=0;var z=[];var A=this.a.$g;if(this.zu){r=new Uint8Array(16);b=new Uint8Array(16);for(f=0;16>f;f+=1)r[f]=f,b[f]=A[f];for(f=0;16>f;f+=1){var C=A[f];for(w=b=0;16>w;w+=1)C===A[w]&&(b+=1);var D=new Uint8Array(b);for(w=b=0;16>w;w+=1)C===A[w]&&(D[b]=w,b+=1);z[f]=D}for(f=1;16>f;f+=1).5>=
this.Sb.random()&&(D=z[f],b=this.Sb.random()*D.length|0,b=D[b],A=r[f],r[f]=r[b],r[b]=A);for(f=0;15>f;f+=1)l+=r[f]+",";l+=r[f]}else if(this.wu){f=16;b?(b=0,w|=1):(b=16*this.Sb.random()|0,15==b?(r=!0,w|=32769,--f):(b=0,w|=1));l+=String(b);for(--f;65535!==w;){b=this.Sb.random()*f|0;for(C=0;0<=b;)0===(w&1<<C)&&--b,C+=1;l+=","+String(C-1);w|=1<<C-1;--f}r&&(l+=",0")}else{b?b=0:(b=16*this.Sb.random()|0,15===b?r=!0:b=0);l+=String(b)+",";for(f=1;15>f;f+=1)b=16*this.Sb.random()|0,l+=String(b)+",";b=r?0:16*
this.Sb.random()|0;l+=String(b)}return l};k.prototype.vz=function(b,l){var f="",r,w,z=0,A,C=[],D=0,E=b.vu,F=b.Au,G=b.uu/100,H=!1;-1!==b.Eb.indexOf("|")&&(H=!0);if(2>=b.a.h&&!b.a.If)C[0]="b",C[1]="o",D=2;else for(b.a.If?D=2:D=b.a.h,C[0]=".",w=0;w<D-1;w+=1)C[w+1]=24<=w?String.fromCharCode(112+(w/24|0)-1)+String.fromCharCode(65+w%24):String.fromCharCode(65+w);-1!==b.a.Nd&&(E=1);for(r=0;r<E;r+=1){var J=this.Sb.random()<=G?(this.Sb.random()*(D-1)|0)+1:0;for(w=A=1;w<F;w+=1)z=this.Sb.random()<=G?(this.Sb.random()*
(D-1)|0)+1:0,z!==J&&(1<A&&(f+=A),f+=C[J],A=0,J=z),A+=1;0!==z&&(1<A&&(f+=A),f+=C[z]);r<E-1&&(f+="$\n")}f+="!\n";b.tr||l||(b.a.Y||(b.a.ia||b.a.G?(b.Eb=b.iC(b.a.G),H&&(b.Eb+="|"+b.iC(b.a.G))):b.a.za?b.nB?(b.Eb=b.gC(),H&&(b.Eb+="|"+b.gC())):(b.Eb=b.fC(),H&&(b.Eb+="|"+b.fC())):-1!==b.a.Nd?(b.Eb=b.jC(),H&&(b.Eb+="|"+b.jC())):(b.Eb=b.hC(H),H&&(b.Eb+="|"+b.hC(H)))),b.a.rb&&(b.Eb+="History"),l=AliasManager.gq(b.Eb),null!==l?b.pd=l:b.pd="");l=b.a.sc;l+="x = "+v.Zo+", y = "+v.Zo+", rule = ";l+=(""===b.pd?b.Eb:
b.pd)+b.em+"\n";l=l+f+b.a.Xf;if(b.Wj.locked||window.confirm("Create new random pattern?"))b.ke&&(b.C=b.Wq,b.B=b.Vq),b.ci(l,!1),b.Pz(b)};k.prototype.GD=function(b){var l=window.prompt("Create new pattern with rule",(""===b.pd?b.Eb:b.pd)+b.em);null!==l&&(b.PE(l)?(""===l&&(l="Life"),b.ke&&(b.C=b.Wq,b.B=b.Vq),b.ci("x = 1, y = 1, rule = "+(l+"\nb!"),!1)):b.s.notification.L("Invalid rule",180,!0))};k.prototype.rF=function(){this.Qh.icon=this.a.R?this.a.te?[this.O.icon("hexagongrid")]:[this.O.icon("hexgrid")]:
this.a.$?[this.O.icon("trianglegrid")]:[this.O.icon("grid")]};k.prototype.Hv=function(b,l){b.s.hasFocus&&(b.Qm||(b.wheelDelta=-l.deltaY,1===l.deltaMode&&(b.wheelDelta*=45),b.s.Qg(!0)),l.preventDefault())};k.prototype.YA=function(){var b=this.S.KB(0===this.Kr?0:this.Wg/this.Kr),l=this.tm,f=this.mo;this.a.xa=this.a.width/2-(this.um+b*(this.ik-this.um));this.a.pa=this.a.height/2-(this.vm+b*(this.an-this.vm));this.a.zoom=this.Ln*Math.pow(this.El/this.Ln,b);180<f-l?l+=360:-180>f-l&&(f+=360);this.a.angle=
(l+b*(f-l))%360;this.at&&(this.a.le=this.gA+b*(this.mx-this.gA),this.Zc.current=this.Wk([this.a.le,this.a.le],!1,this));this.Lt&&(this.a.M=this.hA+b*(this.nx-this.hA),this.Wd.current=this.cs([this.a.M,this.a.M],!1,this));this.Wg+=1;this.Wg>this.Kr&&(this.Wg=-1,this.a.zoom=this.El,this.a.angle=f%360,this.a.xa=this.a.width/2-this.ik,this.a.pa=this.a.height/2-this.an,this.at&&(this.a.le=this.mx,this.Zc.current=this.Wk([this.a.le,this.a.le],!1,this)),this.Lt&&(this.a.M=this.nx,this.Wd.current=this.cs([this.a.M,
this.a.M],!1,this)));this.Cc&&(this.Cc.current=this.Zj([this.a.zoom,this.a.zoom],!1,this));this.Bd&&(this.Bd.current=this.bs([this.a.angle,this.a.angle],!1,this))};k.prototype.Xz=function(b,l){var f=b.S.oc[l];b.um=b.a.width/2-b.a.xa;b.vm=b.a.height/2-b.a.pa;b.Ln=b.a.zoom;b.tm=b.a.angle;f.ug?b.ik=f.x:b.ik=b.um;f.Wf?b.an=f.y:b.an=b.vm;f.ue?b.El=f.zoom:b.El=b.Ln;f.Eh?b.mo=f.angle:b.mo=b.tm;b.a.R&&(b.ik+=b.a.pa/2);b.at=f.Lh;b.at&&(b.gA=b.a.le,b.mx=f.depth/v.Um);b.Lt=f.Vh;b.Lt&&(b.hA=b.a.M,b.nx=f.M);b.Wg=
0;b.Kr=f.Hj;b.YA();f.Dn&&b.FE(b);f.Hg===WaypointConstants.play?b.Fb.current=b.Yd(v.yk,!0,b):f.Hg===WaypointConstants.stop&&b.Wa&&(b.Fb.current=b.Yd(v.$e,!0,b));f.Uf&&b.om(f.wc,b.a.sl,b);b.s.notification.L("POI "+(l+1),60,!0);""!==f.Ef?b.s.notification.L(f.Ef,180,!1):b.s.notification.clear(!1,!0);f.wm&&(b.Tb=f.Tb);f.Ql&&(b.Xa=f.Xa);f.Ph&&(b.eg=Math.sqrt((f.uc-v.Fg)/(v.Sl-v.Fg)),b.ac.current=b.Xj([b.eg,b.eg],!0,b));f.ei&&(b.Da=f.step,b.Kd.current=b.Fm([b.Da,b.Da],!0,b));f.Jr&&(b.a.v>f.lc&&b.FE(b),b.a.v<
f.lc&&(b.Qm=!0,b.Iw=f.lc,b.Hw=!1));f.nk&&(b.a.Wb=f.$c);f.Vu&&(this.bi=f.sm)};k.prototype.Ih=function(b,l,f){var r=l/b.a.Jc;f&&(l=1<=l?Math.round(l):1/Math.round(1/l),r=l/b.a.Jc);b.Cd||(b.um=b.a.width/2-b.a.xa,b.vm=b.a.height/2-b.a.pa,b.Ln=b.a.zoom,b.tm=b.a.angle,b.ik=b.um,b.an=b.vm,b.El=r,b.mo=b.tm,b.Wg=0)};k.prototype.rB=function(b){b.XA(b)};k.prototype.Uv=function(b){b.Dz(b)};k.prototype.ws=function(b){b.Kk||b.Lk||b.Mk||b.Nk||b.Oj?(b.Kk=!1,b.Lk=!1,b.Mk=!1,b.Nk=!1,b.Oj=!1):b.Qc.current=[!1]};k.prototype.Ov=
function(b){b.Mk=!0};k.prototype.qu=function(b){b.Kk=!0};k.prototype.Pv=function(b){b.Nk=!0};k.prototype.rv=function(b){b.Lk=!0};k.prototype.Av=function(b){b.GD(b)};k.prototype.Tv=function(b){b.vz(b,!1)};k.prototype.Wv=function(b){b.Pz(b);b.s.notification.L("Saved",120,!0)};k.prototype.hs=function(b){b.bD(b)};k.prototype.Vv=function(b){b.TB(b)};k.prototype.dw=function(b){b.Oj=!0};k.prototype.re=function(b,l,f){f&&(l[0]?(this.om(v.Nr[b],1,this),this.Qc.current[0]&&(this.Qc.current=this.Tr([!1],!0,
this))):(this.Qc.current[0]&&(this.Qc.current=this.Tr([!1],!0,this)),l[0]=!0));return l};k.prototype.uw=function(b,l,f){return f.re(0,b,l)};k.prototype.xw=function(b,l,f){return f.re(1,b,l)};k.prototype.Cy=function(b,l,f){return f.re(2,b,l)};k.prototype.ez=function(b,l,f){return f.re(3,b,l)};k.prototype.qz=function(b,l,f){return f.re(4,b,l)};k.prototype.Bz=function(b,l,f){return f.re(5,b,l)};k.prototype.Rz=function(b,l,f){return f.re(6,b,l)};k.prototype.pA=function(b,l,f){return f.re(7,b,l)};k.prototype.WA=
function(b,l,f){return f.re(8,b,l)};k.prototype.cB=function(b,l,f){return f.re(9,b,l)};k.prototype.Vw=function(b,l,f){return f.re(10,b,l)};k.prototype.lx=function(b,l,f){return f.re(11,b,l)};k.prototype.rx=function(b,l,f){return f.re(12,b,l)};k.prototype.zx=function(b,l,f){return f.re(13,b,l)};k.prototype.Gx=function(b,l,f){return f.re(14,b,l)};k.prototype.Px=function(b,l,f){return f.re(15,b,l)};k.prototype.Sx=function(b,l,f){return f.re(16,b,l)};k.prototype.fy=function(b,l,f){return f.re(17,b,l)};
k.prototype.iy=function(b,l,f){return f.re(18,b,l)};k.prototype.ry=function(b,l,f){return f.re(19,b,l)};k.prototype.Hx=function(b){b.Qi=!1};k.prototype.nv=function(b){b.Sc=!1;b.Hl.current=b.fB([b.Sc],!0,b)};k.prototype.Ku=function(b){b.fd.length?(b.fd=[],b.$b=0,b.Yz(b.td.current)):t()};k.prototype.vE=function(b){--b.wg;0>b.wg&&(b.wg=b.S.oc.length-1);b.Xz(b,b.wg)};k.prototype.HD=function(b){b.wg+=1;b.wg>=b.S.oc.length&&(b.wg=0);b.Xz(b,b.wg)};k.prototype.Cv=function(b){b.Wc+=1;b.Wc>=B.pe.length&&(b.Wc=
0);b.ci(B.pe[b.Wc].pattern,!1)};k.prototype.Qv=function(b){--b.Wc;0>b.Wc&&(b.Wc=B.pe.length-1);b.ci(B.pe[b.Wc].pattern,!1)};k.prototype.cw=function(b){b.oA();b.ha&&(b.ha=0);b.Qc.current[0]=!1;b.s.wh=!0};k.prototype.Yv=function(b){b.Dr=!0};k.prototype.oB=function(b){b.th(v.Xk,b)};k.prototype.TG=function(b,l){var f=0;if(b.a.rb&&l)for(;f<b.ob.length;)1<b.ob[f]&&(b.ob[f]&=1),f+=1;else for(;f<b.ob.length;)b.ob[f]=0,f+=1};k.prototype.XB=function(b){var l=b.Gb,f=l.f,r=l.l,w=l.g;l=l.o;var z=b.a.H,A=z.f,C=
z.l,D=z.g;z=z.o;var E=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1);var F=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1);if(!b.Ia&&b.vb){if(f>r){var G=r;r=f;f=G}w>l&&(G=l,l=w,w=G);f+=E;r+=E;w+=F;l+=F;for(G=D;G<=z;G+=1)for(D=A;D<=C;D+=1)G>=w&&G<=l&&D>=f&&D<=r||(E=b.a.getState(D,G,!1),0!==E&&b.Vc(D,G,0));b.yb("clear cells outside selection")}};k.prototype.UG=function(b,l){var f=b.Gb,r=f.f,w=f.l,z=f.g;f=f.o;var A=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),C=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1);if(!b.Ia&&b.vb){if(r>w){var D=w;w=r;
r=D}z>f&&(D=f,f=z,z=D);if(b.a.rb&&l){for(D=z;D<=f;D+=1)for(z=r;z<=w;z+=1){var E=b.a.getState(z+A,D+C,!1);1<E&&b.Vc(z+A,D+C,E&1)}this.a.zn()}else for(D=z;D<=f;D+=1)for(z=r;z<=w;z+=1)E=b.a.getState(z+A,D+C,!1),0!==E&&b.Vc(z+A,D+C,0);b.a.uh=!0;b.a.Mh();b.Dh=!1;b.a.rb&&l?b.yb("clear [R]History cells in selection"):b.yb("clear cells in selection")}};k.prototype.dx=function(b,l){b.Ia||(b.bd?b.TG(b,l):b.UG(b,l))};k.prototype.Ft=function(b){b.dx(b,!1)};k.prototype.nq=function(b){b.XB(b)};k.prototype.Et=function(b){b.dx(b,
!0)};k.prototype.TE=function(b){var l=b.Gb,f=b.a.H,r=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),w=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1);0<b.a.ma?(l.f=f.f-r,l.g=f.g-w,l.l=f.l-r,l.o=f.o-w,b.vb=!0,b.Dh=!1,f=l.l<l.f?l.f-l.l+1:l.l-l.f+1,l=l.o<l.g?l.g-l.o+1:l.o-l.g+1,b.yb("select all ("+f+" x "+l+")")):b.Eu(b)};k.prototype.yE=function(b,l,f){b.Ia||(!b.Bk&&b.wj&&(l?b.Lp(b,!0):b.Ia?b.Lp(b,!0):f?b.Cs(b,!0):b.Cs(b,!1)),b.Uw(b,b.ag,!1,!1))};k.prototype.mC=function(b){b.yE(b,!1,!1)};k.prototype.Uw=function(b,l,f,r){var w=
b.Gb,z=w.f,A=w.l,C=w.g;w=w.o;var D,E=b.a.h,F=2<E&&!(this.a.bb||this.a.G||this.a.Y),G=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),H=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1);if(b.vb){if(z>A){var J=A;A=z;z=J}C>w&&(J=w,w=C,C=J);var O=A-z+1;var K=w-C+1;var M=b.a.m.I(Uint8,O*K,"View.pasteBuffer"+l);J=0;for(D=C;D<=w;D+=1)for(C=z;C<=A;C+=1){var I=b.a.getState(C+G,D+H,!1);0<I&&F&&(I=E-I);M[J]=I;b.Vc(C+G,D+H,0);J+=1}b.zf[l]={buffer:M,width:O,height:K};b.ob=M;b.cf=O;b.bf=K;b.Fs();b.a.uh=!0;b.a.Mh();b.Gp=!0;b.ie=!1;b.Dh=!0;
r||(f?b.yb("advance outside"):b.yb("cut"))}};k.prototype.xE=function(b,l,f){b.Bk||!b.wj&&b.vb||(l?b.Lp(b,!0):b.Ia?b.Lp(b,!0):f?b.Cs(b,!0):b.Cs(b,!1));b.vb&&(b.cH(b,b.ag),b.Xu||(b.Xu=!0,b.s.notification.L("For external clipboard enable Sync",180,!0)))};k.prototype.Xt=function(b){b.xE(b,!1,!1)};k.prototype.cH=function(b,l){var f=b.Gb,r=f.f,w=f.g,z=f.l;f=f.o;var A,C=b.a.h,D=2<C&&!(this.a.bb||this.a.G||this.a.Y),E=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),F=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1);if(b.vb){if(r>
z){var G=r;r=z;z=G}w>f&&(G=w,w=f,f=G);var H=z-r+1;var J=f-w+1;var O=b.a.m.I(Uint8,H*J,"View.pasteBuffer"+l);G=0;for(A=w;A<=f;A+=1)for(w=r;w<=z;w+=1){var K=b.a.getState(w+E,A+F,!1);0<K&&D&&(K=C-K);O[G]=K;G+=1}b.zf[l]={buffer:O,width:H,height:J};b.ob=O;b.cf=H;b.bf=J;b.Fs();b.Gp=!0;b.ie=!1;b.Dh=!0}};k.prototype.ys=function(b){b.bd=!1;b.s.notification.clear(!0,!1);b.ie&&b.XA(b);b.ie=!1};k.prototype.VH=function(b,l){var f=this.Rc;l?b.vb?(b.Uw(b,b.ag,!0,!1),b.a.af(!0,b.oe,b.Fc,b.Ub),b.a.Xe(),b.yb(""),this.Rc=
v.Ny,b.pu(b,!0,!0),this.Rc=f):b.s.notification.L("Advance Outside needs a selection",180,!0):b.ie?b.sC(b):b.vb?(b.Dh||b.mC(b),b.Gp&&b.sC(b)):b.s.notification.L("Advance Selection needs a selection",180,!0)};k.prototype.sC=function(b){var l,f,r,w=b.cf,z=b.bf,A=b.ob,C=b.Gb,D=b.a.H,E=b.no,F=b.a.$c,G=b.a.lg,H=b.a.Z,J=b.a.dk,O=b.a.da,K=b.a.oa,M=b.a.Ha,I=b.a.Aa,X=b.a.width,R=b.a.height,U=b.a.qb,Y=b.a.dc,da=b.a.We,V=b.a.Ep,ka=b.a.md,ma=b.a.ld,ea=b.a.va,aa=b.a.qa,ca=b.a.xb,ba=b.a.Ab,na=b.a.v,ja=new BoundingBox(0,
0,0,0);ja.f=D.f;ja.g=D.g;ja.l=D.l;ja.o=D.o;b.a.wG();var T=Math.round((b.a.width-b.pb)/2);var S=Math.round((b.a.height-b.sb)/2)-2;for(r=l=0;r<z;r+=1)for(f=0;f<w;f+=1){var W=A[l];0<W&&b.a.Vi(f+T,r+S,W,!1);l+=1}b.a.af(!1,!0,!0,b.Ub);b.a.Xe();if(b.a.aa){b.cf=D.l-D.f+1;b.bf=D.o-D.g+1;b.ob=b.a.m.I(Uint8,b.cf*b.bf,"View.pasteBuffer");l=0;for(r=D.g;r<=D.o;r+=1)for(f=D.f;f<=D.l;f+=1)b.ob[l]=b.a.getState(f,r,!1),l+=1;b.ie?(E.f+=D.f-T,E.g+=D.g-S,E.l=E.f+b.cf-1,E.o=E.g+b.bf-1):(E.f=C.f+D.f-T,E.g=C.g+D.g-T,E.l=
E.f+b.cf-1,E.o=E.g+b.bf-1);b.ie=!0}else b.ie=!1;b.a.$c=F;b.a.lg=G;b.a.Z=H;b.a.dk=J;b.a.da=O;b.a.oa=K;b.a.Ha=M;b.a.Aa=I;b.a.width=X;b.a.height=R;b.a.qb=U;b.a.dc=Y;b.a.H.f=ja.f;b.a.We=da;b.a.Ep=V;b.a.md=ka;b.a.ld=ma;b.a.va=ea;b.a.qa=aa;b.a.xb=ca;b.a.Ab=ba;b.a.v=na;D.f=ja.f;D.g=ja.g;D.l=ja.l;D.o=ja.o};k.prototype.gz=function(b,l,f,r){var w,z=b.cf,A=b.bf,C=b.ob;var D=b.Tl;var E=b.a.width;switch(b.ng+.5|0){case v.eE:l-=z>>1;break;case v.fE:l-=z-1;break;case v.jE:f-=A>>1;break;case v.dE:l-=z>>1;f-=A>>1;
break;case v.cE:l-=z-1;f-=A>>1;break;case v.iE:f-=A-1;break;case v.gE:l-=z>>1;f-=A-1;break;case v.hE:l-=z-1,f-=A-1}D.f=l;D.g=f;D.l=l+z;D.o=f+A;for(b.zw(b,D);E!==b.a.width;)l+=E>>1,f+=E>>1,E<<=1;switch(b.Rc){case v.$q:for(w=D=0;w<A;w+=1)for(E=0;E<z;E+=1){var F=C[D];0<F&&b.Vc(l+E,f+w,F);D+=1}break;case v.Ny:for(w=D=0;w<A;w+=1)for(E=0;E<z;E+=1)F=C[D],b.Vc(l+E,f+w,F),D+=1;break;case v.Yy:for(w=D=0;w<A;w+=1)for(E=0;E<z;E+=1){F=C[D];var G=this.a.getState(l+E,f+w,!1);b.Vc(l+E,f+w,G^F);D+=1}break;case v.Ly:for(w=
D=0;w<A;w+=1)for(E=0;E<z;E+=1)F=C[D],G=this.a.getState(l+E,f+w,!1),b.Vc(l+E,f+w,G&F),D+=1}b.bd=!1;b.ie=!1;b.s.notification.clear(!0,!1);r&&b.yb("paste")};k.prototype.bm=function(b,l,f){var r=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),w=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1),z=b.Gb,A=z.f,C=z.g,D=z.l,E=z.o;var F=0;var G=b.a.width-1;var H=0;var J=b.a.height-1;if(!b.Ia&&b.vb){if(A>D){var O=D;D=A;A=O}C>E&&(O=E,E=C,C=O);O=D-A+1;var K=E-C+1;-1!==b.a.sa&&(0!==b.a.ua?(F=Math.round((b.a.width-b.a.ua)/2)-1,G=F+b.a.ua-
1+2):(F=0,G=b.a.width-1),0!==b.a.ra?(H=Math.round((b.a.height-b.a.ra)/2)-1,J=H+b.a.ra-1+2):(H=0,J=b.a.height-1));if(A+r+l>F&&D+r+l<G&&C+w+f>H&&E+w+f<J){b.Uw(b,b.ag,!1,!0);r+=l;w+=f;F=0;D=b.zf[b.ag].buffer;for(H=0;H<K;H+=1)for(G=0;G<O;G+=1)E=D[F],b.Vc(A+G+r,C+H+w,E),F+=1;z.f+=l;z.l+=l;z.g+=f;z.o+=f;b.yb("nudge "+(0===l?-1===f?"up":"down":-1===l?"left":"right"))}else b.s.notification.L("No room to nudge selection",180,!0)}};k.prototype.pu=function(b,l,f){var r=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),w=(b.a.height>>
1)-(b.sb>>1)+(b.Nb<<1),z=b.Gb,A=b.no,C=z.f,D=z.g,E=z.l;z=z.o;var F;if(!b.Ia&&null!==b.zf[b.ag])if(l)if(b.vb)if(b.ie&&(C=A.f,D=A.g,E=A.l,z=A.o),C>E&&(l=C,C=E,E=l),D>z&&(l=D,D=z,z=l),E=E-C+1,z=z-D+1,b.cf>E||b.bf>z)b.s.notification.L("Paste does not fit in selection",180,!0);else{l=b.ng;b.ng=v.Qo;for(F=D;F<=D+z-b.bf;F+=b.bf)for(A=C;A<=C+E-b.cf;A+=b.cf)b.gz(b,A+r,F+w,!1);b.ng=l;b.oj&&b.us(b);f?b.yb("advance outside"):b.yb("paste to selection");b.ie=!1}else b.s.notification.L("Paste to Selection needs a selection",
180,!0);else b.cz(b,b.ag),b.ie=!1,b.s.notification.L("Now click to paste",180,!0)};k.prototype.jJ=function(b){b.ie?b.pu(b,!0,!1):b.gz(b,b.tj,b.uj,!0)};k.prototype.kE=function(b){b.pu(b,!1,!1)};k.prototype.cz=function(b,l){0<=l&&l<b.zf.length&&(null!==b.zf[l]?(b.bd=!0,b.ie=!1,b.ob=b.zf[l].buffer,b.cf=b.zf[l].width,b.bf=b.zf[l].height,b.td.current!==v.Ho&&(b.td.current=b.Yj(v.Ho,!0,b))):(b.bd=!1,b.ie=!1,b.s.notification.L("Clipboard empty",180,!0)))};k.prototype.JJ=function(b,l){var f,r=b.a.h;-1===
r&&(r=2);for(f=0;f<b.ob.length;f+=1){var w=100*b.Sb.random()<=b.An?2===r||l?r-1:(b.Sb.random()*(r-1)|0)+1:0;b.ob[f]=w}};k.prototype.KJ=function(b,l){var f=b.Gb,r=f.f,w=f.l,z=f.g;f=f.o;var A=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),C=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1),D=b.a.h;if(b.vb){if(r>w){var E=w;w=r;r=E}z>f&&(E=f,f=z,z=E);-1===D&&(D=2);for(E=z;E<=f;E+=1)for(z=r;z<=w;z+=1){var F=100*b.Sb.random()<=b.An?2===D||l?D-1:(b.Sb.random()*(D-1)|0)+1:0;b.Vc(z+A,E+C,F)}b.a.uh=!0;b.a.Mh();b.yb("random "+b.An+"%")}};
k.prototype.tu=function(b,l){b.Ia||(b.bd?b.JJ(b,l):b.KJ(b,l))};k.prototype.Sv=function(b){b.Ia||b.tu(b,!1)};k.prototype.Rv=function(b){b.tu(b,!0)};k.prototype.ZH=function(b){var l=b.cf,f=b.bf,r=l>>1,w,z,A;for(z=A=0;z<f;z+=1){if(b.a.G)for(w=0;w<r;w+=1){var C=b.ob[A+w];var D=b.ob[A+l-w-1];b.ob[A+w]=D&5|(D&2)<<2|(D&8)>>2;b.ob[A+l-w-1]=C&5|(C&2)<<2|(C&8)>>2}else for(w=0;w<r;w+=1)C=b.ob[A+w],b.ob[A+w]=b.ob[A+l-w-1],b.ob[A+l-w-1]=C;A+=l}};k.prototype.$H=function(b){var l=b.Gb,f=l.f,r=l.l,w=l.g;l=l.o;var z,
A=b.a.h,C=2<A&&!(this.a.bb||this.a.G||this.a.Y),D=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),E=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1);if(b.vb){if(f>r){var F=r;r=f;f=F}w>l&&(F=l,l=w,w=F);F=b.a.m.I(Uint8,r-f+1,"View.flipRow");for(z=w;z<=l;z+=1){for(w=f;w<=r;w+=1){var G=b.a.getState(w+D,z+E,!1);C&&0<G&&(G=A-G);F[w-f]=G}if(b.a.G)for(w=f;w<=r;w+=1)G=F[r-w],b.Vc(w+D,z+E,G&5|(G&2)<<2|(G&8)>>2);else for(w=f;w<=r;w+=1)b.Vc(w+D,z+E,F[r-w])}b.a.uh=!0;b.a.Mh();b.yb("flip horizontally")}};k.prototype.aI=function(b){var l=
b.cf,f=b.bf,r=f>>1,w,z,A;for(w=A=0;w<l;w+=1){if(b.a.G)for(z=0;z<r;z+=1){var C=b.ob[A+z*l];var D=b.ob[A+(f-z-1)*l];b.ob[A+z*l]=D&10|(D&1)<<2|(D&4)>>2;b.ob[A+(f-z-1)*l]=C&10|(C&1)<<2|(C&4)>>2}else for(z=0;z<r;z+=1)C=b.ob[A+z*l],b.ob[A+z*l]=b.ob[A+(f-z-1)*l],b.ob[A+(f-z-1)*l]=C;A+=1}};k.prototype.bI=function(b){var l=b.Gb,f=l.f,r=l.l,w=l.g;l=l.o;var z,A=b.a.h,C=2<A&&!(this.a.bb||this.a.G||this.a.Y),D=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),E=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1);if(b.vb){if(f>r){var F=r;r=
f;f=F}w>l&&(F=l,l=w,w=F);for(F=b.a.m.I(Uint8,l-w+1,"View.flipColumn");f<=r;f+=1){for(z=w;z<=l;z+=1){var G=b.a.getState(f+D,z+E,!1);C&&0<G&&(G=A-G);F[z-w]=G}if(b.a.G)for(z=w;z<=l;z+=1)G=F[l-z],b.Vc(f+D,z+E,G&10|(G&1)<<2|(G&4)>>2);else for(z=w;z<=l;z+=1)b.Vc(f+D,z+E,F[l-z])}b.a.uh=!0;b.a.Mh();b.yb("flip vertically")}};k.prototype.NE=function(b,l){var f=b.cf,r=b.bf,w,z,A=b.a.m.I(Uint8,f*r,"View.pasteBuffer");for(z=0;z<r;z+=1)for(w=0;w<f;w+=1)if(b.a.G)if(l){var C=b.ob[z*f+w];A[w*r+(r-z-1)]=C<<1&15|(C&
8)>>3}else C=b.ob[z*f+w],A[(f-w-1)*r+z]=C>>1&15|(C&1)<<3;else l?A[w*r+(r-z-1)]=b.ob[z*f+w]:A[(f-w-1)*r+z]=b.ob[z*f+w];b.ob=A;b.cf=r;b.bf=f};k.prototype.OE=function(b,l,f){var r=b.Gb,w=r.f,z=r.l,A=r.g,C=r.o,D=0,E=b.a.h;var F=!0;var G=2<E&&!(this.a.bb||this.a.G||this.a.Y),H=b.a.ia?-1:0;var J=Math.round((b.a.width-b.a.ua)/2)+H;var O=Math.round((b.a.height-b.a.ra)/2)+H;var K=J+b.a.ua-1;var M=O+b.a.ra-1;H=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1);var I=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1);if(b.vb){if(w>z){var X=
z;z=w;w=X}A>C&&(X=C,C=A,A=X);X=w+(z-w+1-1>>1);var R=A+(C-A+1-1>>1);var U=X+A-R;var Y=R+w-X;var da=X+C-R;R=R+z-X;var V=r.f;var ka=r.g;var ma=r.l;var ea=r.o;r.f=U;r.g=Y;r.l=da;r.o=R;r.f>r.l&&(X=r.f,r.f=r.l,r.l=X);r.g>r.o&&(X=r.g,r.g=r.o,r.o=X);if(-1!==b.a.sa){if(r.f+H<J||r.l+H>K||r.g+I<O||r.o+I>M)b.s.notification.L("Rotation does not fit in bounded grid",180,!0),F=!1}else b.VB(b)?(b.s.notification.L("Rotation does not fit on grid",180,!0),F=!1):(H=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),I=(b.a.height>>1)-
(b.sb>>1)+(b.Nb<<1));if(F){l?(F=Y,M=da,K=1,O=-1):(F=R,M=U,K=-1,O=1);J=b.a.m.I(Int16,3*(z-w+1)*(C-A+1),"View.rotateCells");for(da=A;da<=C;da+=1){X=F;for(U=w;U<=z;U+=1)Y=b.a.getState(U+H,da+I,!1),G?0<Y&&(Y=E-Y):b.a.G&&(Y=l?Y<<1&15|(Y&8)>>3:Y>>1&15|(Y&1)<<3),J[D]=M,J[D+1]=X,J[D+2]=Y,D+=3,X+=K;M+=O}H=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1);I=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1);for(D=0;D<J.length;)U=J[D],da=J[D+1],Y=J[D+2],b.Vc(U+H,da+I,Y),D+=3;for(U=w;U<r.f;U+=1)for(da=A;da<=C;da+=1)b.Vc(U+H,da+I,0);for(U=
r.l+1;U<=z;U+=1)for(da=A;da<=C;da+=1)b.Vc(U+H,da+I,0);for(da=A;da<r.g;da+=1)for(U=w;U<=z;U+=1)b.Vc(U+H,da+I,0);for(da=r.o+1;da<=C;da+=1)for(U=w;U<=z;U+=1)b.Vc(U+H,da+I,0);b.a.uh=!0;b.a.Mh();b.yb(f)}else r.f=V,r.g=ka,r.l=ma,r.o=ea}};k.prototype.Iv=function(b){b.Ia||b.bm(b,-1,0)};k.prototype.Jv=function(b){b.Ia||b.bm(b,1,0)};k.prototype.Nv=function(b){b.Ia||b.bm(b,0,-1)};k.prototype.Gv=function(b){b.Ia||b.bm(b,0,1)};k.prototype.wC=function(b){b.Ia||(b.bd?b.ZH(b):b.$H(b))};k.prototype.xC=function(b){b.Ia||
(b.bd?b.aI(b):b.bI(b))};k.prototype.ME=function(b){b.Ia||(b.bd?b.NE(b,!0):b.OE(b,!0,"rotate clockwise"))};k.prototype.LE=function(b){b.Ia||(b.bd?b.NE(b,!1):b.OE(b,!1,"rotate counter-clockwise"))};k.prototype.AI=function(b){var l=0,f=b.a.h;if(!b.Ia)for(-1===f&&(f=2);l<b.ob.length;){var r=b.ob[l];b.ob[l]=f-r-1;l+=1}};k.prototype.BI=function(b){var l=b.Gb,f=l.f,r=l.l,w=l.g;l=l.o;var z=(b.a.width>>1)-(b.pb>>1)+(b.Mb<<1),A=(b.a.height>>1)-(b.sb>>1)+(b.Nb<<1),C=b.a.h;if(!b.Ia&&b.vb){if(f>r){var D=r;r=f;
f=D}w>l&&(D=l,l=w,w=D);-1===C&&(C=2);for(D=w;D<=l;D+=1)for(w=f;w<=r;w+=1){var E=b.a.getState(w+z,D+A,!1);!b.a.G&&2<C&&0<E&&(E=C-E);b.Vc(w+z,D+A,C-E-1)}b.a.uh=!0;b.a.Mh();b.yb("invert cells in selection")}};k.prototype.TC=function(b){b.Ia||(b.bd?b.AI(b):b.BI(b))};k.prototype.cx=function(b){b.a.Uc=b.a.Uc?!1:!0;b.Qu(b.Wa);var l=b.a.Tc;b.a.Uc&&(l=!l);b.s.notification.L("Playback "+(l?"Reverse":"Forward"),40,!0)};k.prototype.Yu=function(b){b.zg(!0,!0,v.kk);b.Wa||(b.Dg=!0)};k.prototype.Ix=function(b){b.a.Bw=
!1;b.a.Aw=0;b.a.aa?(b.Ub?(b.Ub=!1,b.s.notification.L("Identify Cancelled",120,!1)):(b.Ub=!0,b.Qi=!1,b.sq?b.s.notification.L("Identifying (fast)...",216E3,!1):b.s.notification.L("Identifying...",216E3,!1)),b.yb("")):(b.s.notification.L("Empty Pattern",120,!1),b.Ub=!1,b.Qi=!1);b.a.Bt(b.Ub);b.ha=0;b.ws(b);b.ws(b);b.s.wh=!0;b.i.locked=!1};k.prototype.tp=function(b,l,f){l&&(f.a.Wb=b[0]);return[f.a.Wb]};k.prototype.iF=function(b,l,f){l&&(f.Lg=b[0]);return[f.Lg]};k.prototype.uv=function(b,l,f){l&&(f.fu=
b[0]);return[f.fu]};k.prototype.CA=function(b,l,f){l&&(f.Oi=b[0]);return[f.Oi]};k.prototype.EA=function(b,l,f){l&&(f.pl=b[0]);return[f.pl]};k.prototype.Tr=function(b,l,f){l&&(0!==f.ha&&b[0]&&(f.ha=0,f.qk.current=f.up([f.ha],!0,f)),b[0]||f.ws(f));return b};k.prototype.DA=function(b,l,f){l&&(f.Kn=b[0]);return[f.Kn]};k.prototype.ml=function(b,l,f){l&&(f.Er=b[0]);return[f.Er]};k.prototype.Tj=function(b,l,f){l&&(f.Gj=b[0],f.Gj?f.jr?f.s.notification.L("Replace: Now click on a cell",180,!0):f.s.notification.L("Pick: Now click on a cell",
180,!0):(f.Qx||f.s.notification.clear(!0,!1),f.Qx=!1,f.jr=!1));return[f.Gj]};k.prototype.hF=function(b,l,f){l&&(f.rc=b[0],f.rc&&!f.Wa&&f.zg(!0,!0,v.kk));return[f.rc]};k.prototype.gw=function(b,l,f){l&&-1!==f.Xa&&(f.Hc=!b[0],f.Xc?(f.Ke=f.Hc,f.s.notification.L("Loop and Waypoints "+(f.Hc?"Off":"On"),40,!0)):f.yd?(f.df=f.Hc,f.s.notification.L("Loop and Track "+(f.Hc?"Off":"On"),40,!0),f.AB(f.df)):f.s.notification.L("Loop "+(f.Hc?"Off":"On"),40,!0));return[f.Hc]};k.prototype.fw=function(b,l,f){l&&f.Ue&&
(f.$f=!b[0]);return[f.$f]};k.prototype.hw=function(b,l,f){l&&-1!==f.RL&&(f.Je=!b[0]);return[f.Je]};k.prototype.FA=function(b,l,f){l&&(f.yd?(f.df=!b[0],f.AB(f.df),-1!==f.Xa?(f.Hc=f.df,f.s.notification.L("Loop and Track "+(f.Hc?"Off":"On"),40,!0)):f.s.notification.L("Track "+(f.df?"Off":"On"),40,!0)):f.Xc&&(f.Ke=!b[0],f.Ke&&(f.s.notification.clear(!1,!1),f.Lq=""),-1!==f.Xa?(f.Hc=f.Ke,f.s.notification.L("Loop and Waypoints "+(f.Hc?"Off":"On"),40,!0)):f.s.notification.L("Waypoints "+(f.Ke?"Off":"On"),
40,!0)));return f.yd?[f.df]:[f.Ke]};k.prototype.up=function(b,l,f){l&&(f.ha=b[0],f.ha?(f.fd.length&&f.th(v.Tz,f),f.Qc.current[0]&&(f.Qc.current=f.Tr([!1],!0,f))):(f.th(v.Xk,f),f.ha=0));f.Yz(f.td.current);return[f.ha]};k.prototype.IF=function(b,l,f){l&&(f.mk=b[0]);return[f.mk]};k.prototype.GF=function(b,l,f){l&&(f.a.Ng=b[0],f.a.Lx());return[f.a.Ng]};k.prototype.lv=function(b,l,f){l&&(f.Vg=b[0],f.Vg&&(f.a.aa?0<f.a.v&&-1===f.a.h&&(--f.a.v,f.a.af(!0,f.oe,f.Fc,f.Ub),f.Ki()):(f.a.ma=0,f.a.Ib=0,f.a.Zb=0)));
f.s.Qg(!0);return[f.Vg]};k.prototype.Mu=function(b,l){1<b.$b&&(b.$b-=l,1>b.$b&&(b.$b=1))};k.prototype.Lu=function(b,l){b.$b<b.fd.length-b.dd+1&&(b.$b+=l,b.$b>b.fd.length-b.dd+1&&(b.$b=b.fd.length-b.dd+1))};k.prototype.Ou=function(b,l){1<b.ha&&(b.ha-=l,1>b.ha&&(b.ha=1))};k.prototype.Nu=function(b,l){b.ha<b.Ko-b.dd&&(b.ha+=l,b.ha>b.Ko-b.dd&&(b.ha=b.Ko-b.dd))};k.prototype.AJ=function(b){for(var l=b.ba.length-1,f=!1;0<=l&&!f;)b.ha<=b.ba[l][0]?--l:f=!0;f&&(b.ha=b.ba[l][0])};k.prototype.bJ=function(b){for(var l=
0,f=!1;l<b.ba.length&&!f;)b.ha>=b.ba[l][0]?l+=1:f=!0;f&&(b.ha=b.ba[l][0])};k.prototype.sK=function(b){for(;this.a.v<b-1;)this.a.aa?(this.a.af(!1,!1,this.Fc,this.Ub),0===this.a.aa&&2<this.a.h||this.a.Xe(),0===this.a.aa&&2>=this.a.h&&(this.a.aa=1,this.a.af(!1,!1,this.Fc,this.Ub),--this.a.v)):(this.a.v+=1,this.a.Xe()),this.Ki();this.a.v<b&&(this.a.aa?(this.a.af(this.Vg,!1,this.Fc,this.Ub),0===this.a.aa&&2<this.a.h||this.a.Xe(),0===this.a.aa&&2>=this.a.h&&(this.a.aa=1,this.a.af(!1,!1,this.Fc,this.Ub),
--this.a.v)):(this.a.v+=1,this.a.Xe()),this.Ki());this.elapsedTime=this.Ba[b];this.mh=this.nb=b};k.prototype.xr=function(b){var l=this.J+(0<this.a.h?this.a.h:0);!this.oe&&this.s.pz&&(this.s.pz=!1,0>b&&(b=0),this.elapsedTime=this.Ba[b],this.mh=this.nb=b,-1!==this.Bi&&b>this.Bi+l?this.a.v=b:this.a.xr(b,this.Vg,this.Fc,this),this.S.WK(this.elapsedTime),this.Dg=!0,b!==this.a.v&&(this.Qm=!0,this.Iw=b,this.a.Iu(!1),this.s.notification.L("Computing previous generations",1E4,!0),this.Hw=!0))};k.prototype.Dx=
function(b){b.style.width="2em";b.style.height="2em";b.style.padding=0;b.style.CL="none";b.style.outline="none";b.style.boxShadow="none";b.style.background="transparent";b.style.position="fixed";b.style.left="-100px";b.style.top="0px"};k.prototype.Es=function(b,l,f){var r="textarea";b.Lr=l;b.Rj=0;b.Pn=l.length;if(f){var w=performance.now()-b.Ds;w<v.fH&&b.Pn<v.dH?f=!1:b.Ct||(r="div")}b.On=document.createElement("div");b.On.contentEditable=!0;b.Dx(b.On);b.zm=document.createElement(r);b.Dx(b.zm);b.zm.contentEditable=
!0;b.On.appendChild(b.zm);document.body.appendChild(b.On);f?(b.Jw=v.gH,b.s.notification.L("Copying...",1E4,!0),b.Jp=!0,b.Bs=!1,b.i.locked=!0):(b.zm.innerHTML=l,b.aC(b,f))};k.prototype.aC=function(b,l){b.Ct?b.zm.focus():b.On.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(f){}document.body.removeChild(b.On);b.Lr="";b.vc.canvas.focus();b.s.notification.L("Copied to external clipboard",180,!0);l&&(b.Jp=!1,b.i.locked=!1);b.Ds=-1};k.prototype.ui=function(b){var l=ColourManager.ze,
f=Object.keys(l),r=b.red,w=b.green;b=b.blue;for(var z="",A=!1,C=null,D=0;D<f.length&&!A;)C=l[f[D]],C[1]===r&&C[2]===w&&C[3]===b?(A=!0,D=f.length):D+=1;A?z=C[0]:z=r+" "+w+" "+b;return z};k.prototype.ao=function(b,l){return b.red===l.red&&b.green===l.green&&b.blue===l.blue};k.prototype.bC=function(b,l){var f="#C "+Keywords.Gn+" ",r=String(-(b.a.width/2-b.a.xa-b.a.Rb|0)),w=String(-(b.a.height/2-b.a.pa-b.a.Pb|0)),z=b.a.zoom,A=b.a.angle|0,C=b.a.eb[b.a.pf];0!==b.a.v&&(f+=Keywords.Ir+b.a.v+" ");f+=Keywords.gf+
" "+r+" "+Keywords.hf+" "+w+" ";f+=Keywords.Od+" "+(z===(z|0)?String(z):String(z.toFixed(2)))+" ";f+=Keywords.kl+" "+A+" ";f+=Keywords.ip+"\n";if(l){f+="#C "+Keywords.Gn+" ";if(b.eh){if(2<b.a.h){if(f+=Keywords.Ea+" "+Keywords.$u+" "+b.ui(C.hi),f+=" "+Keywords.Ea+" "+Keywords.Zu+" "+b.ui(C.Yf),b.ao(C.yc.U,C.hi)||(f+=" "+Keywords.Ea+" "+Keywords.bv+" "+b.ui(C.yc.U)),b.ao(C.yc.T,C.yc.U)||(f+=" "+Keywords.Ea+" "+Keywords.av+" "+b.ui(C.yc.T)),C.Cl||(f+=" "+Keywords.Ea+" "+Keywords.uA+" "+b.ui(C.Qb.U)),
C.Cl||!b.ao(C.Qb.T,C.Qb.U))f+=" "+Keywords.Ea+" "+Keywords.tA+" "+b.ui(C.Qb.T)}else f+=Keywords.Ea+" "+Keywords.$u+" "+b.ui(C.Za),f+=" "+Keywords.Ea+" "+Keywords.Zu+" "+b.ui(C.mb.T),b.ao(C.mb.T,C.mb.U)||(f+=" "+Keywords.Ea+" "+Keywords.sA+" "+b.ui(C.mb.U)),b.ao(C.ab.U,C.Za)||(f+=" "+Keywords.Ea+" "+Keywords.bv+" "+b.ui(C.ab.U)),b.ao(C.ab.T,C.ab.U)||(f+=" "+Keywords.Ea+" "+Keywords.av+" "+b.ui(C.ab.T));f+=" "+Keywords.ip+"\n#C "+Keywords.Gn+" "}f+=Keywords.Sk+" "+C.name+" ";b.J!==b.Ot&&(f+=Keywords.vt+
" "+b.J+" ");f+=Keywords.wp+" "+b.C+" ";f+=Keywords.so+" "+b.B+" ";f+=Keywords.ip+"\n"}b.Es(b,f,!1)};k.prototype.Pz=function(b){b.element.innerHTML=b.a.sw(b,b.a,!0);b.element.value=b.element.innerHTML};k.prototype.Lp=function(b,l){b.Ds=performance.now();y.Ja?b.Es(b,B.pe[b.Wc].pattern,l):b.Es(b,e(b.element),l)};k.prototype.Cs=function(b,l){b.Ds=performance.now();b.Es(b,b.a.sw(b,b.a,l),!0)};k.prototype.fs=function(b,l){var f=l.charCode||l.keyCode;if(b.Qm?KeyProcessor.FJ(b,f,l):b.Ub?KeyProcessor.GJ(b,
f,l):b.Jp?KeyProcessor.EJ(b,f,l):KeyProcessor.DJ(b,f,l))b.s.Qg(!0),l.preventDefault()};k.prototype.oL=function(){this.a.rb?(this.Ma.setPosition(Menu.ib,-85,-130),this.W.setPosition(Menu.ib,-130,-130),this.W.w="random fill",this.Fk.setPosition(Menu.ib,-235,-130)):2>=this.a.h?(this.Ma.setPosition(Menu.ib,-40,-130),this.W.setPosition(Menu.ib,-85,-130),this.W.w="random fill",this.Fk.setPosition(Menu.ib,-190,-130)):(this.Ma.setPosition(Menu.ib,-40,-130),this.a.G?(this.W.setPosition(Menu.ib,-85,-130),this.W.w=
"random multi-state fill",this.Fk.setPosition(Menu.ib,-190,-130)):(this.W.setPosition(Menu.ib,-130,-130),this.W.w="random multi-state fill",this.kd.setPosition(Menu.ib,-85,-130),this.Fk.setPosition(Menu.ib,-235,-130)))};k.prototype.qL=function(){if(this.B<v.Ul)this.Pe.setPosition(Menu.od,10,50),this.Qe.setPosition(Menu.ka,0,50),this.Oe.setPosition(Menu.nc,-160,50),this.Re.setPosition(Menu.od,10,100),this.Ne.setPosition(Menu.ka,0,100),this.we.setPosition(Menu.nc,-160,100),0<this.S.Jo()?(this.hd.setPosition(Menu.od,
10,150),this.xe.setPosition(Menu.nc,-160,150)):this.hd.setPosition(Menu.ka,0,150);else{var b=0<this.S.Jo()?-175:-150;this.Pe.setPosition(Menu.Db,0,b);this.Qe.setPosition(Menu.Db,0,b+50);this.Oe.setPosition(Menu.Db,0,b+100);this.Re.setPosition(Menu.Db,0,b+150);this.Ne.setPosition(Menu.Db,0,b+200);this.we.setPosition(Menu.Db,0,b+250);this.hd.setPosition(Menu.Db,0,b+300);this.xe.setPosition(Menu.Db,0,b+350)}};k.prototype.EK=function(){var b="white",l="black",f="rgb(0,240,32)",r="blue",w="grey",z="white";
var A=this.la[v.Up];-1!==A?(b="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")",this.O.Cu=!0,this.O.Cz=this.a.jg?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255):(this.O.Cu=!0,A=16777215,this.O.Cz=this.a.jg?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255);A=this.la[v.Sp];-1!==A?l="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=0;this.Zn=A;A=this.la[v.Vp];-1!==A&&(f="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.la[v.Xp];-1!==A&&
(r="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.la[v.Wp];-1!==A?w="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=8421504;this.O.IC=this.a.jg?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255;A=this.la[v.Tp];-1!==A&&(z="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");this.s.Br(b,l,f,r,w,z)};k.prototype.gu=function(){var b,l=0;this.i=this.s.mH(this.tB,this.iB,this);this.i.ex=this.vv;this.i.lB=this.Dv;this.qq=this.i.ya(Menu.ka,0,52,480,48,"Banner");this.qq.Qa("32px Arial");
this.Se=this.i.ya(Menu.ka,-160,100,160,32,"Type");this.li=this.i.ya(Menu.ka,-160,140,160,32,"Cells");this.ki=this.i.ya(Menu.ka,-160,180,160,32,"Bounding Box");this.mi=this.i.ya(Menu.ka,-160,240,160,32,"Direction");this.pi=this.i.ya(Menu.ka,-160,280,160,32,"Period");this.ri=this.i.ya(Menu.ka,-160,320,160,32,"Slope");this.si=this.i.ya(Menu.ka,-160,360,160,32,"Speed");this.ni=this.i.ya(Menu.ka,-160,400,160,32,"Heat");this.fj=this.i.ya(Menu.ka,-160,440,160,32,"Volatility");this.oi=this.i.ya(Menu.ka,-160,
460,160,32,"Mod");this.ej=this.i.ya(Menu.ka,-160,500,160,32,"Active Cells");this.ti=this.i.ya(Menu.ka,-160,540,160,32,"Temperature");this.wq=this.i.ya(Menu.ka,80,100,320,32,"");this.rq=this.i.ya(Menu.ka,80,140,320,32,"");this.wt=this.i.ya(Menu.ka,80,180,320,32,"");this.xt=this.i.ya(Menu.ka,80,220,320,32,"");this.zt=this.i.ya(Menu.ka,80,260,320,32,"");this.At=this.i.ya(Menu.ka,80,300,320,32,"");this.uq=this.i.ya(Menu.ka,80,340,320,32,"");this.tq=this.i.ya(Menu.ka,80,380,320,32,"");this.Jx=this.i.ya(Menu.ka,
80,420,320,32,"");this.yt=this.i.ya(Menu.ka,80,460,320,32,"");this.pq=this.i.ya(Menu.ka,80,500,320,32,"");this.vq=this.i.ya(Menu.ka,80,540,320,32,"");this.Te=this.i.ya(Menu.od,0,40,16,20,"X");this.Te.Qa(v.Rg);this.Te.Mr=Menu.Ce;this.kf=this.i.ya(Menu.od,70,40,16,20,"Y");this.kf.Qa(v.Rg);this.kf.Mr=Menu.Ce;this.Le=this.i.ya(Menu.od,140,40,16,20,"A");this.Le.Qa(v.Rg);this.Le.Mr=Menu.Ce;this.ec=this.i.ya(Menu.od,16,40,54,20,"");this.ec.Qa(v.Rg);this.ec.textAlign=Menu.right;this.ec.w="camera X position";
this.mc=this.i.ya(Menu.od,86,40,54,20,"");this.mc.Qa(v.Rg);this.mc.textAlign=Menu.right;this.mc.w="camera Y position";this.Pa=this.i.ya(Menu.od,156,40,40,20,"");this.Pa.Qa(v.Rg);this.Pa.textAlign=Menu.right;this.Pa.w="camera angle";this.gj=this.i.ya(Menu.od,196,40,4,20,"");this.kh=this.i.ya(Menu.nc,-280,40,20,20,"E");this.kh.Qa(v.Rg);this.nh=this.i.ya(Menu.nc,-210,40,20,20,"S");this.nh.Qa(v.Rg);this.ph=this.i.ya(Menu.nc,-140,40,20,20,"W");this.ph.Qa(v.Rg);this.lh=this.i.ya(Menu.nc,-70,40,20,20,"N");
this.lh.Qa(v.Rg);this.cb=this.i.ya(Menu.nc,-260,40,50,20,"");this.cb.Qa(v.Rg);this.cb.textAlign=Menu.right;this.cb.w="bounding box east edge velocity";this.tb=this.i.ya(Menu.nc,-190,40,50,20,"");this.tb.Qa(v.Rg);this.tb.textAlign=Menu.right;this.tb.w="bounding box south edge velocity";this.Hb=this.i.ya(Menu.nc,-120,40,50,20,"");this.Hb.Qa(v.Rg);this.Hb.textAlign=Menu.right;this.Hb.w="bounding box west edge velocity";this.hb=this.i.ya(Menu.nc,-50,40,50,20,"");this.hb.Qa(v.Rg);this.hb.textAlign=Menu.right;
this.hb.w="bounding box north edge velocity";this.Jm=this.i.fb(this.fw,Menu.nc,-210,0,38,20,["START"],[!1],Menu.Ja);this.Jm.Qa(v.Tu);this.Jm.w=["autostart"];this.xm=this.i.fb(this.hw,Menu.nc,-210,20,38,20,["STOP"],[!1],Menu.Ja);this.xm.Qa(v.Tu);this.xm.w=["stop"];this.Yg=this.i.fb(this.FA,Menu.nc,-172,0,38,20,["WAYPT"],[!1],Menu.Ja);this.Yg.Qa(v.Tu);this.Yg.w=["toggle waypoint mode"];this.Rl=this.i.fb(this.gw,Menu.nc,-172,20,38,20,["LOOP"],[!1],Menu.Ja);this.Rl.Qa(v.Tu);this.Rl.w=["toggle loop mode"];
this.td=this.i.fb(this.Yj,Menu.od,90,0,120,40,["","",""],v.Wl,Menu.rm);this.td.icon=[this.O.icon("draw"),this.O.icon("select"),this.O.icon("pan")];this.td.w=["draw","select","pan"];this.fa=this.i.fb(this.xv,Menu.nc,-80,100,80,60,["1","2"],0,Menu.rm);this.fa.orientation=Menu.vertical;this.fa.w=["",""];this.fa.Qa("14px Arial");this.qk=this.i.fb(this.up,Menu.nc,-40,0,40,40,["Help"],[!1],Menu.Ja);this.qk.w=["toggle help display"];this.qk.Qa("16px Arial");this.yh=this.i.Ga(this.oB,Menu.nc,-40,50,40,["^"]);
this.yh.w=["show help topics"];this.sh=this.i.Ga(this.Yv,Menu.nc,-40,100,40,["<"]);this.sh.w=["show help sections"];this.Pe=this.i.Ga(this.gs,Menu.ka,0,50,150,["Keys"]);this.Pe.w=["show keyboard shortcuts"];this.Qe=this.i.Ga(this.Xv,Menu.ka,0,100,150,["Scripts"]);this.Qe.w=["show script commands"];this.Oe=this.i.Ga(this.sv,Menu.ka,0,150,150,["Info"]);this.Oe.w=["show pattern and engine information"];this.Re=this.i.Ga(this.ew,Menu.ka,0,200,150,["Themes"]);this.Re.w=["show colour Themes"];this.Ne=this.i.Ga(this.Mt,
Menu.ka,0,250,150,["Colours"]);this.Ne.w=["show colour names"];this.we=this.i.Ga(this.bn,Menu.ka,0,300,150,["Aliases"]);this.we.w=["show rule aliases"];this.hd=this.i.Ga(this.js,Menu.ka,0,350,150,["Memory"]);this.hd.w=["show memory usage"];this.xe=this.i.Ga(this.cn,Menu.ka,0,350,150,["Annotations"]);this.xe.w=["show annotations"];this.vi=this.i.fb(this.hF,Menu.od,0,0,40,40,["Auto"],[!1],Menu.Ja);this.vi.icon=[this.O.icon("autofit")];this.vi.w=["toggle autofit"];this.vi.Qa("16px Arial");this.jk=this.i.Ga(this.Yu,
Menu.od,45,0,40,"");this.jk.icon=this.O.icon("fit");this.jk.w="fit pattern to display";this.Qh=this.i.fb(this.tp,Menu.nc,-85,0,40,40,["Grid"],[!1],Menu.Ja);this.Qh.icon=[this.O.icon("grid")];this.Qh.w=["toggle gridlines"];this.Qh.Qa("16px Arial");this.Og=this.i.qG();this.Og.locked=!0;this.dn=this.i.ya(Menu.Wi,0,-130,42,30,"Gen");this.dn.textAlign=Menu.left;this.dn.Qa(v.Ug);this.dn.w="generation";this.Lf=this.i.ya(Menu.Wi,42,-130,98,30,"");this.Lf.textAlign=Menu.right;this.Lf.Qa(v.Ug);this.Lf.w="generation";
this.Qd=this.i.ya(Menu.Wi,0,-100,70,30,"Time");this.Qd.textAlign=Menu.left;this.Qd.Qa(v.Ug);this.Qd.w="elapsed time";this.Zm=this.i.ya(Menu.Wi,70,-100,70,30,"");this.Zm.textAlign=Menu.right;this.Zm.Qa(v.Ug);this.Zm.w="elapsed time";this.mm=this.i.ya(Menu.Wi,166,-70,130,30,"");this.mm.textAlign=Menu.left;this.mm.Qa(v.Ug);this.mm.w="selection size";this.cj=this.i.ya(Menu.Wi,0,-70,166,30,"");this.cj.textAlign=Menu.left;this.cj.Qa(v.Ug);this.cj.w="cell state at cursor position";this.Ye=this.i.fb(this.lv,
Menu.Wi,0,-40,100,40,[""],[this.Vg],Menu.Ja);this.Ye.w=["toggle generation statistics\ngeneration "+(this.a.v+this.Oh)];this.Gk=this.i.ya(Menu.Wi,0,-40,this.C-40,40,"");this.Gk.textAlign=Menu.left;this.Gk.c=!0;this.jd=this.i.ya(Menu.ib,-70,-130,70,30,"Alive");this.jd.textAlign=Menu.left;this.jd.Qa(v.Ug);this.jd.w="current population";this.fm=this.i.ya(Menu.ib,-140,-130,70,30,"");this.fm.textAlign=Menu.right;this.fm.Qa(v.Ug);this.fm.w="alive";this.rj=this.i.ya(Menu.ib,-70,-100,70,30,"Births");this.rj.textAlign=
Menu.left;this.rj.Qa(v.Ug);this.rj.w="cells born this generation";this.sj=this.i.ya(Menu.ib,-140,-100,70,30,"");this.sj.textAlign=Menu.right;this.sj.Qa(v.Ug);this.sj.w="births";this.gd=this.i.ya(Menu.ib,-70,-70,70,30,"Deaths");this.gd.textAlign=Menu.left;this.gd.Qa(v.Ug);this.gd.w="cells died this generation";this.zl=this.i.ya(Menu.ib,-140,-70,70,30,"");this.zl.textAlign=Menu.right;this.zl.Qa(v.Ug);this.zl.w="deaths";this.lm=this.i.ya(Menu.Wi,0,-160,140,30,this.Eb);this.lm.Qa(v.Ug);this.Cc=this.i.nj(this.Zj,
Menu.ka,0,0,v.wB,40,0,1,.1,"Zoom ","",1);this.Cc.w="camera zoom";this.Wd=this.i.nj(this.cs,Menu.pB,30,0,40,292,v.Pt,v.Vt,1,"Layers ","",0);this.Wd.w="number of layers";this.Zc=this.i.nj(this.Wk,Menu.kx,-70,0,40,292,1,0,.1,"Depth ","",2);this.Zc.w="depth between layers";this.Bd=this.i.nj(this.bs,Menu.ka,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Bd.w="camera angle";this.hg=this.i.Ga(this.cw,Menu.ib,-40,-90,40,"");this.hg.icon=this.O.icon("shrink");this.hg.w="shrink to thumbnail";this.xh=this.i.ya(Menu.ka,
0,100,120,40,"");this.Ll=this.i.fb(this.BF,Menu.Db,-100,-75,180,40,["Hexagons"],[this.a.te],Menu.Ja);this.Ll.w=["toggle hexagonal cells"];this.Fp=this.i.fb(this.yF,Menu.Db,100,-75,180,40,["Cell Borders"],[this.a.nd],Menu.Ja);this.Fp.w=["toggle cell borders"];this.Cj=this.i.fb(this.FF,Menu.Db,-100,-25,180,40,["Major GridLines"],[this.a.pk],Menu.Ja);this.Cj.w=["toggle major gridlines"];this.np=this.i.fb(this.JF,Menu.Db,100,-25,180,40,["Starfield"],[this.bi],Menu.Ja);this.np.w=["toggle starfield display"];
this.Pl=this.i.fb(this.EF,Menu.Db,-100,25,180,40,["Annotations"],[this.ai],Menu.Ja);this.Pl.w=["toggle annotations"];this.Yo=this.i.fb(this.zv,Menu.Db,100,25,180,40,["[R]History"],[this.a.If],Menu.Ja);this.Yo.w=["toggle [R]History display"];this.bo=this.i.fb(this.xF,Menu.Db,-100,75,180,40,["Auto GridLines"],[this.Fh],Menu.Ja);this.bo.w=["automatically turn on gridlines for Draw and Select and off for Pan"];this.Gm=this.i.fb(this.wF,Menu.Db,100,75,180,40,["Alt GridLines"],[this.a.il],Menu.Ja);this.Gm.w=
["toggle alternating gridlines"];this.vo=this.i.fb(this.CF,Menu.Db,-100,-50,180,40,["AutoFit History"],[this.Rh],Menu.Ja);this.vo.w=["toggle AutoFit History"];this.Am=this.i.fb(this.EA,Menu.Db,100,-50,180,40,["Throttle"],[this.pl],Menu.Ja);this.Am.w=["toggle playback throttling"];this.qm=this.i.fb(this.CA,Menu.Db,-100,0,180,40,["Perf. Warning"],[this.Oi],Menu.Ja);this.qm.w=["toggle performance warning display"];this.Ao=this.i.fb(this.yv,Menu.Db,100,0,180,40,["Kill Gliders"],[this.a.xi],Menu.Ja);this.Ao.w=
["toggle kill escaping gliders"];this.Cp=this.i.fb(this.uB,Menu.Db,0,50,180,40,["AutoHide UI"],[this.zj],Menu.Ja);this.Cp.w=["toggle hide UI on playback"];this.kj=this.i.Ga(this.Vv,Menu.Db,0,-125,180,"Change Rule");this.kj.w="change rule";this.jj=this.i.Ga(this.Av,Menu.Db,0,-75,180,"New Pattern");this.jj.w="new pattern";this.ij=this.i.Ga(this.hs,Menu.Db,0,-25,180,"Load Pattern");this.ij.w="load last saved pattern";this.lj=this.i.Ga(this.Wv,Menu.Db,0,25,180,"Save Pattern");this.lj.w="save pattern";
this.$o=this.i.Ga(this.Tv,Menu.Db,0,75,180,"Randomize");this.$o.w="randomize pattern and rule";this.wo=this.i.Ga(this.Ix,Menu.Db,0,125,180,"Identify");this.wo.w=["identify oscillator or spaceship period"];this.po=this.i.fb(this.$n,Menu.Db,0,-100,180,40,["Frame Times"],[this.s.Ok],Menu.Ja);this.po.w=["toggle timing display"];this.Qr=this.i.fb(this.kB,Menu.Db,0,-50,180,40,["Timing Details"],[this.s.pm],Menu.Ja);this.Qr.w=["toggle timing details"];this.xo=this.i.fb(this.DF,Menu.Db,0,0,180,40,["Display Info Bar"],
[this.ad],Menu.Ja);this.xo.w=["toggle Information Bar"];this.cp=this.i.fb(this.IF,Menu.Db,0,50,180,40,["Relative Gen"],[this.mk],Menu.Ja);this.cp.w=["toggle absolute/relative generation display"];this.sr=this.i.fb(this.GF,Menu.Db,0,100,180,40,["Render Quality"],[this.a.Ng],Menu.Ja);this.sr.w=["toggle anti-aliased cell display"];this.qr=this.i.Ga(this.Qv,Menu.mp,-135,-90,120,"Prev");this.qr.w="go to previous universe";this.Qq=this.i.Ga(this.Cv,Menu.mp,135,-90,120,"Next");this.Qq.w="go to next universe";
this.K=this.i.Ga(this.Ku,Menu.ib,-40,-85,40,"Esc");this.K.w="close errors";this.K.Qa("16px Arial");this.pr=this.i.Ga(this.vE,Menu.pB,10,0,40,"<");this.pr.w="go to previous POI";this.Pq=this.i.Ga(this.HD,Menu.kx,-50,0,40,">");this.Pq.w="go to next POI";this.Mo=this.i.nj(this.kv,Menu.ka,0,45,172,40,0,1,this.qd,"Opacity ","%",0);this.Mo.w="graph opacity";this.Go=this.i.fb(this.iF,Menu.nc,-85,45,40,40,[""],[!1],Menu.Ja);this.Go.icon=[this.O.icon("lines")];this.Go.w=["toggle graph lines/points"];this.Cg=
this.i.Ga(this.Hx,Menu.nc,-40,45,40,"X");this.Cg.w="close results";this.dj=this.i.Ga(this.nv,Menu.nc,-40,45,40,"X");this.dj.w="close graph";this.oh=this.i.fb(this.Tj,Menu.od,0,45,40,40,[""],[this.Gj],Menu.Ja);this.oh.icon=[this.O.icon("pick")];this.oh.w=["pick state"];this.ig=this.i.fb(this.ml,Menu.od,45,45,40,40,[""],[this.Er],Menu.Ja);this.ig.icon=[this.O.icon("states")];this.ig.w=["toggle states display"];this.qh=this.i.fb(this.uv,Menu.od,90,45,40,40,[""],[this.fu],Menu.Ja);this.qh.icon=[this.O.icon("drawpause")];
this.qh.w=["toggle pause playback while drawing"];this.lp=this.i.fb(this.DA,Menu.od,135,45,40,40,[""],[this.Kn],Menu.Ja);this.lp.icon=[this.O.icon("smart")];this.lp.w=["toggle smart drawing"];this.Qc=this.i.fb(this.Tr,Menu.ib,-40,-40,40,40,[""],[!1],Menu.Ja);this.Qc.icon=[this.O.icon("menu")];this.Qc.w=["toggle settings menu"];this.br=this.i.Ga(this.Ov,Menu.Db,0,-125,150,"Pattern");this.br.w="pattern settings";this.ll=this.i.Ga(this.ws,Menu.mp,0,-100,120,"Back");this.ll.w="";this.fi=this.i.Ga(this.dw,
Menu.Db,0,-75,150,"Theme");this.fi.w="choose colour theme";this.Hl=this.i.fb(this.fB,Menu.Db,0,-25,150,40,["Graph"],[this.Sc],Menu.Ja);this.Hl.w=["toggle population graph display"];this.xq=this.i.Ga(this.rv,Menu.Db,0,25,150,"Advanced");this.xq.w="advanced settings";this.Zp=this.i.Ga(this.qu,Menu.Db,0,75,150,"Display");this.Zp.w="display settings";this.hu=this.i.Ga(this.Pv,Menu.Db,0,125,150,"Playback");this.hu.w="playback settings";var f=-1;for(b=0;b<=this.a.Ee;b+=1){var r=v.Nr[b];var w=v.bL[b];w!==
f?(l=120,f=w):l+=60;this.A[b]=this.i.fb(null,Menu.ka,140*w-210,l,120,40,[this.cv(r)],[!1],Menu.Ja);this.A[b].w=["select "+this.cv(r)+" theme"];this.A[b].Qa("20px Arial")}this.A[0].Cb=this.uw;this.A[1].Cb=this.xw;this.A[2].Cb=this.Cy;this.A[3].Cb=this.ez;this.A[4].Cb=this.qz;this.A[5].Cb=this.Bz;this.A[6].Cb=this.Rz;this.A[7].Cb=this.pA;this.A[8].Cb=this.WA;this.A[9].Cb=this.cB;this.A[10].Cb=this.Vw;this.A[11].Cb=this.lx;this.A[12].Cb=this.rx;this.A[13].Cb=this.zx;this.A[14].Cb=this.Gx;this.A[15].Cb=
this.Px;this.A[16].Cb=this.Sx;this.A[17].Cb=this.fy;this.A[18].Cb=this.iy;this.A[19].Cb=this.ry;this.dl=this.i.ya(Menu.ka,-210,60,120,40,"Default");this.bl=this.i.ya(Menu.ka,-70,60,120,40,"Classic");this.el=this.i.ya(Menu.ka,70,60,120,40,"Program");this.cl=this.i.ya(Menu.ka,210,60,120,40,"Basic");this.ac=this.i.nj(this.Xj,Menu.ib,-365,-40,75,40,0,1,0,"","",-1);this.ac.w="steps per second";this.Kd=this.i.nj(this.Fm,Menu.ib,-285,-40,75,40,v.qn,v.kg,1,"x","",0);this.Kd.w="generations per step";this.zd=
this.i.ya(Menu.ib,-285,-60,75,20,0);this.zd.Qa(v.Ug);this.zd.c=!0;this.Wj=this.i.Ga(this.rB,Menu.ib,-455,-40,40,"");this.Wj.icon=this.O.icon("undo");this.Wj.w="undo";this.Bn=this.i.Ga(this.Uv,Menu.ib,-410,-40,40,"");this.Bn.icon=this.O.icon("redo");this.Bn.w="redo";this.ho=this.i.fb(this.eB,Menu.nc,-130,0,40,40,["Sync"],[this.wj],Menu.Ja);this.ho.w=["sync cut and copy with external clipboard"];this.ho.Qa("15px Arial");this.Fb=this.i.fb(this.Yd,Menu.ib,-205,-40,160,40,["","","",""],v.$e,Menu.rm);this.Fb.icon=
[this.O.icon("tostart"),this.O.icon("stepback"),this.O.icon("stepforward"),this.O.icon("play")];this.Fb.w=["reset","previous generation","next generation","play"];this.vd=this.i.fb(this.jB,Menu.nc,-280,45,280,20,"0123456".split(""),this.cg,Menu.rm);this.vd.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.vd.Qa("14px Arial");this.j=this.i.fb(this.Bv,Menu.nc,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.Ja);this.j.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");
this.j.ye=1;this.vh=this.i.nj(this.Dl,Menu.od,180,45,100,40,0,1,0,"","",-1);this.vh.w="select drawing states range";this.Nf=this.i.Ga(this.TE,Menu.od,0,45,40,"All");this.Nf.icon=this.O.icon("select");this.Nf.w="select all cells";this.Nf.Qa("16px Arial");this.Im=this.i.fb(this.dB,Menu.od,45,45,40,40,["Auto"],[this.oj],Menu.Ja);this.Im.icon=[this.O.icon("autoshrink")];this.Im.w=["toggle auto shrink selection"];this.Im.Qa("16px Arial");this.pn=this.i.fb(null,Menu.od,90,45,40,40,[""],[!1],Menu.Ja);this.pn.icon=
[this.O.icon("selectlibrary")];this.pn.w=["clipboard library"];this.Kp=this.i.fb(this.zF,Menu.ka,0,90,400,40,"0123456789".split(""),this.ag,Menu.rm);this.Fs();this.xn=this.i.fb(this.gB,Menu.nc,-160,45,160,40,["AND","CPY","OR","XOR"],v.pF[this.am],Menu.rm);this.xn.w=["paste mode","paste mode","paste mode","paste mode"];this.xn.Qa("16px Arial");this.ce=this.i.Ga(this.mC,Menu.od,135,45,40,"");this.ce.icon=this.O.icon("cut");this.ce.w="cut";this.be=this.i.Ga(this.Xt,Menu.od,180,45,40,"");this.be.icon=
this.O.icon("copy");this.be.w="copy";this.uf=this.i.Ga(this.kE,Menu.od,225,45,40,"");this.uf.icon=this.O.icon("paste");this.uf.w="paste";this.qf=this.i.Ga(this.Iv,Menu.ib,-175,-175,40,"");this.qf.icon=this.O.icon("nudgeleft");this.qf.w="nudge left";this.rf=this.i.Ga(this.Jv,Menu.ib,-130,-175,40,"");this.rf.icon=this.O.icon("nudgeright");this.rf.w="nudge right";this.sf=this.i.Ga(this.Nv,Menu.ib,-85,-175,40,"");this.sf.icon=this.O.icon("nudgeup");this.sf.w="nudge up";this.lf=this.i.Ga(this.Gv,Menu.ib,
-40,-175,40,"");this.lf.icon=this.O.icon("nudgedown");this.lf.w="nudge down";this.de=this.i.Ga(this.wC,Menu.ib,-265,-85,40,"");this.de.icon=this.O.icon("flipx");this.de.w="flip horizontally";this.ve=this.i.Ga(this.xC,Menu.ib,-220,-85,40,"");this.ve.icon=this.O.icon("flipy");this.ve.w="flip vertically";this.Mf=this.i.Ga(this.ME,Menu.ib,-175,-85,40,"");this.Mf.icon=this.O.icon("rotatecw");this.Mf.w="rotate clockwise";this.wf=this.i.Ga(this.LE,Menu.ib,-130,-85,40,"");this.wf.icon=this.O.icon("rotateccw");
this.wf.w="rotate counter-clockwise";this.ae=this.i.Ga(this.Ft,Menu.ib,-85,-85,40,"");this.ae.icon=this.O.icon("inside");this.ae.w="clear cells in selection";this.$d=this.i.Ga(this.nq,Menu.ib,-40,-85,40,"");this.$d.icon=this.O.icon("outside");this.$d.w="clear cells outside selection";this.Ec=this.i.Ga(this.Et,Menu.ib,-40,-130,40,"R");this.Ec.icon=this.O.icon("select");this.Ec.w="clear [R]History cells";this.Ec.Qa("16px Arial");this.Ma=this.i.Ga(this.TC,Menu.ib,-85,-130,40,"");this.Ma.icon=this.O.icon("invertselection");
this.Ma.w="invert cells in selection";this.W=this.i.Ga(this.Sv,Menu.ib,-130,-130,40,"");this.W.icon=this.O.icon("random");this.W.w="random fill";this.kd=this.i.Ga(this.Rv,Menu.ib,-175,-130,40,"2");this.kd.icon=this.O.icon("random");this.kd.w="random 2-state fill";this.Fk=this.i.nj(this.HF,Menu.ib,-275,-130,100,40,1,100,this.An,"","%",0);this.Fk.w="random fill density";this.yn=this.i.nj(this.hB,Menu.nc,-265,45,100,40,0,v.KD-1,this.ng,"","",-1);this.yn.w="paste location";this.yn.Qa("16px Arial");this.Yp=
this.i.Ga(this.cx,Menu.ib,-40,-85,40,"");this.Yp.icon=this.O.icon("uturn");this.Yp.w="reverse playback direction";this.pn.ls([this.Kp]);this.Qc.ls([this.xh,this.Wd,this.Zc,this.Bd,this.ll,this.fi,this.br,this.xq,this.Zp,this.hu,this.Am,this.qm,this.hg,this.K,this.Cp,this.bo,this.Gm,this.Ll,this.Fp,this.Pl,this.Ao,this.Hl,this.po,this.Qr,this.xo,this.np,this.vo,this.Cj,this.qr,this.Qq,this.Yo]);this.Ye.ls([this.jd,this.fm,this.rj,this.sj,this.gd,this.zl,this.dn,this.Lf,this.Qd,this.Zm,this.lm]);this.qk.ls([this.fa,
this.yh,this.sh])};k.prototype.hn=function(b){var l=this,f=0,r=0;this.Oc=b;this.Oc.getContext&&(f=this.Oc.width,r=this.Oc.height,f!==this.Dj&&y.Mq&&(f=this.Dj),f<v.Gd&&(f=v.Gd),r<v.xk&&(r=v.xk),f&=-8,this.Oc.width!==f&&(this.Oc.width=f),this.Oc.height!==r&&(this.Oc.height=r),this.vc=this.Oc.getContext("2d",{alpha:!1}),this.vc.globalAlpha=1,this.vc.fillStyle="black",this.vc.imageSmoothingEnabled=!1,this.vc.IL="low",this.vc.fillRect(0,0,this.Oc.width,this.Oc.height),this.vc.textAlign="left",this.vc.textBaseline=
"middle",this.C=this.Oc.width,this.B=this.Oc.height,this.a=new Life(this.vc,this.C,this.B,512,512,this.P),this.a.xI(this.vc,this.C,this.B),this.Ba=this.a.m.I(Float32,v.JD,"View.elapsedTimes"),this.Pk=new Stars(v.au,this.a.m),this.cu(this.vc),this.s=new MenuManager(this.Oc,this.vc,"24px Arial",this.O,this,this.iv),this.s.Ok=!1,this.a.jH(),this.gu(),this.hz=this.Fb.km,this.tx=this.ac.km,this.lA=this.Kd.km,registerEvent(this.Oc,"wheel",function(w){l.Hv(l,w)},!1),this.s.notification.enabled=!0,this.s.kG(this.i),
registerEvent(this.Oc,"keydown",function(w){l.fs(l,w)},!1))};k.prototype.cv=function(b){var l=this.a.eb,f="";b|=0;b<l.length&&(f=l[b].name);return f};k.prototype.$K=function(b){var l=!1,f=this.a.eb,r=0;for(b=b.toLowerCase();r<f.length-1&&!l;)f[r].name.toLowerCase()===b?l=!0:r+=1;l||(r=-1);return r};k.prototype.vL=function(b){var l=this.S.fq();l.ug||(l.x=this.a.width/2-this.a.xa);l.Wf||(l.y=this.a.height/2-this.a.pa);l.ue||(l.zoom=this.a.zoom);l.Eh||(l.angle=this.a.angle);l.Vh||(l.M=this.a.M);l.Lh||
(l.depth=this.a.le);l.Ph||(l.uc=this.eg);l.ei||(l.step=this.Da);l.Uf||(l.wc=this.a.pf);this.S.zJ(b)};k.prototype.YH=function(b){var l=b,f=this.vc,r=b.length;f.font=(18*this.i.Bh|0)+"px "+v.bB;var w=f.measureText(b).width;if(500<w){--r;for(w=f.measureText(b.substr(0,r)+"...").width;500<w;)--r,w=f.measureText(b.substr(0,r)+"...").width;l=l.substr(0,r)+"..."}return l};k.prototype.LJ=function(b,l){ScriptParser.iJ(this,b,l)};k.prototype.fK=function(){this.a.ga=1<<v.vH;this.Tm=this.vA=-1;this.xz=this.Bk=
this.xy=this.Zt=this.Ic=!1;this.a.Rb=0;this.a.Pb=0;this.a.Jc=1;this.ad=this.ss=this.rc=this.RC=!1;this.fk=this.dh=this.fc=null;this.Ci=v.Ci;this.a.Fi=this.a.pI;this.a.Ei=this.a.oI;this.a.Di=this.a.nI;this.a.Gi=this.a.qI;this.a.Hi=this.a.rI;this.$f=this.Ue=this.pt=!1;this.Tb=-1;this.Je=!1;this.Xa=-1;this.Vg=this.df=this.Wn=this.yd=this.Un=this.Xc=this.Ke=this.Hc=!1;this.J=this.Ot=2<this.a.h?63<=256-this.a.h?63:256-this.a.h:63;this.he=!1;this.a.xi=!1;this.a.Sq=0};k.prototype.nA=function(){this.$i?(n(this.element),
this.s.hasFocus=!1):(this.C=this.$k,this.B=this.xA,this.rc?(this.jb=!1,this.zg(!0,!1,v.kk)):this.a.zoom=this.gl,this.Cc&&(this.Cc.current=this.Zj([this.a.zoom,this.a.zoom],!1,this)),this.ha=this.fl,this.jb=!1,this.s.jb=!1,this.i.c=!1,this.s.notification.L("Shrink with hotkey N",100,!0),this.resize())};k.prototype.iv=function(b){b.jb?b.nA():b.Ic&&(b.Bk||b.Lp(b,!1));b.Bs=!1};k.prototype.resize=function(){this.lu&&(B.mu.Hz=this.hj-this.C,this.hj=this.C,this.lu=!1);this.Oc.width=this.C;this.Oc.height=
this.B;this.vc.textBaseline="middle";this.a.IE(this.C,this.B)};k.prototype.oA=function(){this.$k=this.C;this.xA=this.B;this.gl=this.a.zoom;this.fl=this.ha;this.C=this.C/this.se|0;this.B=this.B/this.se|0;this.a.zoom=this.a.zoom/this.se;this.C&=-8;this.i.c=!0;this.s.jb=!0;this.s.se=this.se;this.jb=!0;this.resize()};k.prototype.ql=function(){var b=this.a.h,l,f="";b>this.Wh&&(b=this.Wh);this.vd.lower=[];this.vd.w=[];this.vd.Nj(40*b);this.j.lower=[];this.j.w=[];this.j.current=[];this.j.Nj(40*b);this.j.ye=
1;for(l=0;l<b;l+=1){var r=l+this.Sg;this.vd.lower[l]=String(r);0===r?f="dead":this.a.G?f=this.ux(r):f=this.a.Y?"state "+String(r):1===r?"alive":"dying "+String(r-1);this.vd.w[l]=f;this.j.lower[l]="";this.j.w[l]=f;this.j.current[l]=!1}r=this.cg;0<r&&(this.a.G||this.a.Y||(r=this.a.h-r));this.vd.current=r-this.Sg};k.prototype.RK=function(){var b=this.a.h,l=this.i.ff;this.cg=1;this.Sg=0;this.ig.current=[this.ml([!0],!0,this)];this.Wh=7+((this.C/l-v.Gd)/(40*l)|0);this.Wh>b&&(this.Wh=b);this.a.rb?(this.vd.lower=
"0123456".split(""),this.vd.Nj(280),this.vd.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.vd.current=this.cg,this.j.lower="      ".split(" "),this.j.Nj(280),this.j.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.j.ye=1,this.j.current=[!1,!1,!1,!1,!1,!1,!1]):2>=b?(this.vd.lower=["0","1"],this.vd.Nj(80),this.vd.w=["dead","alive"],this.vd.current=this.cg,this.j.lower=["",""],this.j.Nj(80),this.j.w=["dead","alive"],this.j.ye=1,this.j.current=[!1,!1]):(this.cg=this.a.G||
this.a.Y?1:b-1,this.ql(),this.vd.Nj(40*this.Wh),this.j.Nj(40*this.Wh),this.vh.current=this.Dl([0,0],!0,this));this.vd.setPosition(Menu.nc,-this.vd.ur,45);this.j.setPosition(Menu.nc,-this.j.ur,65)};k.prototype.AK=function(b){var l=this.a.Ee;-1===b&&(this.eh?b=l:b=this.a.rb?10:2<this.a.h&&!this.a.G&&!this.a.Y?11:this.a.ia?17:this.a.G||this.a.Y?18:1);this.Ms&&b!==l&&(this.a.eb[l].set(this.a.eb[b]),b=l,this.a.eb[l].fn=this.a.vf,this.eh=!0);this.om(b,1,this)};k.prototype.SE=function(){var b=window.innerWidth,
l=window.innerHeight,f=this.C,r=this.B+80;f*=this.devicePixelRatio;r*=this.devicePixelRatio;var w=this.devicePixelRatio;this.ef=1;if(f>b||r>l)if(w=f/b,r/l>w&&(w=r/l),f/=w,r=this.B*this.devicePixelRatio/w,w=f/this.C,r/this.B<w&&(w=r/this.B),f<v.Gd||r<v.xk)w=f/v.Gd,r/v.xk<w&&(w=r/v.xk),f/=w,r/=w,this.ef=w,w=1;this.C=f&-8;this.B=r|0;this.s.ef=this.ef;B.mu.ef=this.ef;this.i.hK(w);this.O.IK(w);this.lq=18*w|0;this.to=this.lq+"px "+v.vC;this.Kl=this.lq+"px "+v.bB;this.C!==this.hj&&(this.lu=!0)};k.prototype.YB=
function(){this.lk=!1;this.Oh=0;this.Mg=!1;this.hm=this.gm=0;this.cr=this.So=this.em=this.pd=this.Eb="";this.er=this.Ck=this.sb=this.pb=0;this.Li="(none)";this.a.bb=!1;this.a.ia=!1;this.a.G=!1;this.a.rb=!1;this.a.Gc=!1;this.a.If=!1;this.a.R=!1;this.a.$=!1;this.a.Ld=this.P.Bm;this.a.De=!1;this.a.Nd=-1;this.a.du=!1;this.a.h=-1;this.a.sa=-1;this.ta=this.cd=this.a.za=!1;this.a.Y=!1;this.a.Lj=null;this.a.Mj=null;this.a.Xd=null;this.a.Id=null;this.a.pg=[];this.a.Jd=null;this.a.og=0;this.a.Ti=0;this.a.Hk=
0};k.prototype.ci=function(b,l){b=this.P.create("",b,this.a.m,this.bj,this.bj,[l],this);this.P.Nt||this.bj(b,[l],this)};k.prototype.bj=function(b,l,f){var r=!1;var w=0;var z=l[0];f.Ct=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;f.a.il=!0;f.a.Ng=!1;f.a.ek=null;f.$m=!1;f.Bi=-1;f.Am.current=f.EA([!0],!0,f);f.Oj=!1;f.Lk=!1;f.Kk=!1;f.Nk=!1;f.Mk=!1;f.a.pf=-1;f.s.HE();f.wj=!1;f.oj=!1;f.vb=!1;f.xj=!1;f.zf=[];for(l=0;10>l;l+=1)f.zf[l]=null;f.ag=0;f.Gp=!1;f.ob=null;f.bd=!1;f.cf=0;f.bf=0;f.ie=!1;f.Dh=
!1;f.xn.current=f.gB(2,!0,f);f.Uo=!1;f.Kj=[];f.ap=[];f.fd=[];f.Ri=[];f.Jf=[];f.Rm=[];f.Yc=0;f.qc=0;f.tn=0;f.a.uh=!1;f.mg=[];f.Rc=v.$q;f.Po=0;f.Yq=-1;f.Oo=[];f.Zq=0;f.Aj=!1;f.Fy=0;f.Gy=0;f.vk=0;f.Dt=!1;f.$l=v.pj;f.cm=-v.pj;f.Zl=v.pj;f.dm=-v.pj;f.s.notification.clear(!0,!0);f.s.notification.clear(!1,!0);f.a.Tc=!1;f.a.Uc=!1;f.nB=!1;if(b){f.lk=f.P.lk;f.Oh=f.P.sx;f.Mg=f.P.Mg;f.gm=f.P.nu;f.hm=f.P.ou;f.Qj=f.P.Qj;f.Pj=f.P.Pj;f.pb=b.width;f.sb=b.height;f.So=b.name;f.cr=b.ND;f.Li=b.Li;""===f.Li&&(f.Li="(none)");
f.Ck=b.ud;f.er=b.Uq;f.Eb=b.ca;f.pd=b.Gf;f.em=b.co;f.a.sc=b.sc;f.a.Xf=b.Xf;f.ta=f.P.ta;f.a.rb=b.hc;f.a.If=b.hc;f.a.Gc=b.Gc;f.a.h=b.h;!f.ta&&2<b.ud&&(f.a.h=b.ud);f.a.Jd=null;f.a.pg=null;-1!==b.qe?(f.a.Sf=b.Sf,f.a.qe=b.qe,f.a.h=b.qe,f.a.$h=b.$h,f.a.Jk=b.Jk,f.a.Lj=b.Lj,f.a.Mj=b.Mj,f.a.Xd=b.Xd,f.a.Id=b.Id,f.a.Y=!0):f.a.Y=!1;null!==b.Jd&&(f.a.pg=b.pg,f.a.Jd=b.Jd,f.a.og=b.og,f.a.Ti=b.Ti,f.a.Hk=b.Hk,f.a.h=b.Rf,f.a.Xd=b.Xd,f.a.Id=b.Id,f.a.Y=!0);f.a.CJ(b.Id);if(f.a.za=b.za)f.a.Yb.Ib=b.Ve,f.a.Yb.Wu=b.Cf,f.a.Yb.Fn=
b.h,f.a.Yb.MK(b.Jg,b.Hd),f.P.pc?(f.a.Yb.os=b.zp,f.a.Yb.ps=b.Ap,f.a.Yb.pc=!0):f.a.Yb.pc=!1,f.nB=b.Fd;f.a.bb=b.bb;f.a.ia=b.ia;f.a.G=b.G;f.a.te=!0;f.a.R=b.R;f.a.du=b.R;f.a.$=b.$;f.a.Ld=b.Ld;f.a.De=b.De;f.a.Nd=b.Nd;f.a.sa=b.bc;f.a.ua=b.Be;f.a.ra=b.fg;f.a.Lm=b.hq;f.a.Mm=b.ro;f.a.xs=b.xx;f.a.vw=b.ot;f.dr=new Uint32Array(f.Ck);for(l=0;l<f.Ck;l+=1)f.dr[l]=f.P.Mn[l]}else f.YB();f.a.QK();f.ai=!0;f.Sc=!1;f.Lg=!0;f.qd=v.pC;f.Fc=b?!1:!0;f.qo=!0;f.mk=!1;f.u=f.P.u;f.a.aa=1;f.a.vr=v.oC;f.Mb=0;f.Nb=0;f.wg=-1;f.Wg=
-1;f.Qm=!1;f.Jp=!1;f.i.locked=!1;f.Rh=!1;f.di=!1;f.a.eI();f.a.fI();f.a.rb&&(f.a.nH(),f.a.pH());f.ji="";f.bi=!1;ColourManager.Ze();f.a.Ip(!1);f.a.Ud=v.nt;f.a.gg=v.mt;f.a.vf=10;f.a.xH=10;f.a.pk=!0;f.lC=-1;f.kC=-1;f.eg=60;f.Da=1;f.a.M=1;f.a.le=.1;f.a.angle=0;f.a.zoom=6;f.a.bK(f.wH,f.uH);f.a.xa=f.a.width/2;f.a.pa=f.a.height/2;f.ax=!1;f.Zw=!1;f.$w=!1;f.Ae=0;f.Ai=0;f.Ge=-1;f.Pg=-1;f.Bf=-1;f.Zh=-1;f.la[v.xg]=-1;f.la[v.zi]=-1;f.la[v.Ns]=-1;f.la[v.Kh]=-1;f.la[v.Np]=-1;f.la[v.Op]=-1;f.la[v.Pp]=-1;f.la[v.Ws]=
-1;f.la[v.Xs]=-1;f.la[v.Os]=-1;f.la[v.Ts]=-1;f.la[v.Ss]=-1;f.la[v.Rs]=-1;f.la[v.Us]=-1;f.la[v.Vs]=-1;f.la[v.Qs]=-1;f.la[v.Qp]=-1;f.la[v.Ps]=-1;f.la[v.Rw]=-1;f.la[v.Up]=-1;f.la[v.Sp]=-1;f.la[v.Vp]=-1;f.la[v.Xp]=-1;f.la[v.Wp]=-1;f.la[v.Tp]=-1;f.la[v.Mp]=-1;f.la[v.Rp]=-1;f.la[v.Qw]=-1;f.la[v.Tw]=-1;f.la[v.Sw]=-1;f.la[v.Pw]=-1;f.Nw=v.YC;f.Mw=v.rs;f.Ow=v.rE;f.jb&&f.nA();f.Tk=!1;f.s.jb=!1;f.se=v.qC;f.$i=!1;f.s.$i=!1;f.dv=!1;f.cd=b?!1:!0;f.Ia=!1;f.a.Wb=!1;f.a.nd=!1;f.Fb.c=!1;f.td.c=!1;f.Ye.c=!1;f.ac.c=!1;
f.Kd.c=!1;f.Qc.c=!1;f.Wd.c=!1;f.Zc.c=!1;f.fi.c=!1;f.Am.c=!1;f.qm.c=!1;f.i.c=!1;f.Og.c=!1;f.Wj.c=!1;f.Bn.c=!1;f.br.c=!1;f.xq.c=!1;f.hu.c=!1;f.Zp.c=!1;f.ll.c=!1;f.Qc.current=[!1];f.Ye.current=[!1];f.ha=0;f.$b=0;f.pn.current=[!1];f.Im.current=f.dB([f.oj],!0,f);f.ho.current=f.eB([f.wj],!0,f);f.Xu=!1;f.td.current=f.Yj(v.Wl,!0,f);f.Fk.current=f.HF([50,50],!0,f);f.yn.current=f.hB([v.Qo,v.Qo],!0,f);f.qk.current=f.up([f.ha],!0,f);f.vl=[96,96,96];f.a.nl=f.a.jg?4284506208:1616929023;f.wl=[128,128,128];f.a.ol=
f.a.jg?4286611584:2155905279;f.yl=[0,255,0];f.a.Vz="rgb(0,255,0)";f.xl=[255,0,0];f.a.Dy="rgb(255,0,0)";f.ul=[255,255,0];f.a.ms="rgb(255,255,0)";f.S.reset();f.Xc=!1;f.S.QG();f.zj=!1;f.oe=!1;f.Oi=!0;f.eh=!1;f.Ms=!1;f.a.yg=!1;f.Au=v.Zo;f.vu=v.Zo;f.uu=50;f.tr=!1;f.wu=!1;f.zu=!1;f.Dk=-1;f.Ek=-1;f.jm=-1;f.rh=[];f.Pi=[];f.Ju=!1;if(b){if(b.bb||!f.ta&&2<f.a.h)f.ze=ColourManager.Ys,f.eo="(default)";else if(f.P.yj||b.hc)b.hc?(f.ze=ColourManager.ZB("LifeHistory"),f.ze[2]=96):f.ze=ColourManager.ZB(b.ca),f.ze.length?
f.eo=b.ca:(f.ze=ColourManager.Ys,f.eo="(default)");f.fK();f.yu=Date.now().toString();b.title&&(l=b.ud,f.a.rb&&(l=7),f.a.G&&(l=16),f.a.Gc&&(l=26),f.LJ(b.title,l),f.fd.length&&(f.$b=1),f.jb&&z&&(f.jb=!1),-1<f.Ge&&(f.Ge&=-8,f.Ge!==f.C&&(f.C=f.Ge,r=!0)),-1<f.Pg&&f.Pg!==f.B&&(f.B=f.Pg,r=!0),f.ke&&(-1<f.Bf?(f.Bf&=-8,f.Bf!==f.C&&(f.C=f.Bf,r=!0)):f.C<v.Gd&&(f.C=v.Gd),-1<f.Zh&&f.Zh!==f.B&&(f.B=f.Zh,r=!0)));if(!f.ta||f.a.Y)f.J=0;f.Sb.Ze(f.yu);f.ke&&(f.Wq=f.C,f.Vq=f.B,f.SE());b.rg&&0===f.mg.length&&(f.ta=!1);
f.RK();f.EK();f.qL();f.oL();f.a.IJ();f.a.J=f.J;f.$i&&!f.Sc&&(f.Fc=!0,f.Sc=!1);f.a.vG(!f.Fc);if(b.width>f.a.ga||b.height>f.a.ga)f.u="Pattern too big (maximum "+f.a.ga+"x"+f.a.ga+")",f.rg=!0,f.ta=!1,f.YB();-1!==b.bc&&(b.za&&(w=6*b.Hd),b.Fd&&(w=6*b.Mc),b.Be>=f.a.ga-w||b.fg>=f.a.ga-w)&&(f.u="Bounded grid is too big",f.ta=!1,f.a.sa=-1);f.a.jL(f);f.Dt&&(f.a.cC(),f.BJ());f.mB=!1;if(-1!==f.a.sa){z=f.a.ua;var A=f.a.ra;0===z&&(z=b.width);0===A&&(A=b.height)}else z=b.width,A=b.height,0<f.mg.length&&(z=f.YG(z),
A=f.XG(A));w=v.kg;f.a.za&&(w=4*f.a.Yb.ed+1,-1!==f.a.sa&&(w+=2*f.a.Yb.ed),f.a.Yb.type===f.P.sg&&(w=-1!==f.a.sa?w+f.a.ra/2:w+(f.a.H.o-f.a.H.g+1)/2),w<v.kg&&(w=v.kg));l=f.a.ga/2-w;f.Mg&&(f.gm<-l?f.gm=-l:f.gm>=l&&(f.gm=l-1),f.hm<-l?f.hm=-l:f.hm>=l&&(f.hm=l-1),f.Mb+=f.gm,f.Nb+=f.hm);f.Mb<-l?f.Mb=-l:f.Mb>=l&&(f.Mb=l-1);f.Nb<-l?f.Nb=-l:f.Nb>=l&&(f.Nb=l-1);for(;f.a.width<f.a.ga&&(z+w+2*Math.abs(f.Mb)>=f.a.width||A+w+2*Math.abs(f.Nb)>=f.a.height);)f.a.kq(),f.Ae+=f.a.width>>2,f.Ai+=f.a.height>>2,f.He+=f.a.width>>
2,f.Ui+=f.a.height>>2,f.a.R&&(f.Ae-=f.a.height>>3,f.He-=f.a.height>>3);b.za&&f.a.Yb.resize(f.a.width,f.a.height);f.ZG(b.width,b.height);(f.a.rb||f.a.Gc)&&f.P.Mn[6]&&f.a.yJ(b,f.Kc,f.Lc);f.dh?f.s.notification.vg="rgb("+f.dh[0]+","+f.dh[1]+","+f.dh[2]+")":f.s.notification.vg=f.s.notification.wE;if(null===f.fc)for(l=0;l<f.ze.length;l+=1)f.Sm[l]=f.P.Mn[l]?v.bF:v.jA;f.a.ic?(f.a.kH(f.ze,f.fc),f.a.yg=!0):f.a.yg=!1;b.rg||f.bH(b);f.lm.Oa=""!==f.pd?f.pd:f.Eb;f.lm.w=f.Eb;""!==f.pd&&(f.lm.w+=" alias "+f.pd)}f.Qi=
!1;f.cy="none";f.wb="none";f.Eo="none";f.Iq="none";f.Fo="none";f.Hq="none";f.Ht="none";f.Bo="none";f.Jq="none";f.Co="none";f.Kq="none";f.Do="none";f.Ub=!1;f.wo.current=[f.Ub];f.a.Bt(f.Ub);f.qm.current=f.CA([f.Oi],!0,f);f.a.cC();f.AK(f.vA);f.a.fc=f.fc;f.a.bb||!f.ta&&2<f.a.h?f.a.eC(f.ze,f.fc):f.a.dC();f.a.Ed(1);f.a.zK();f.lp.current=f.DA([f.Kn],!0,f);f.Mo.current=f.kv([f.qd,f.qd],!1,f);f.Go.current=[f.Lg];f.vi.current=[f.rc];f.Qh.current=[f.a.Wb];f.a.v=0;f.a.Hf=0;f.a.Ji=0;f.nb=0;f.mh=0;f.elapsedTime=
0;f.td.Ag=[!1,!1,!1];f.cd?(b&&(f.a.Gz(f.di),f.fc&&(f.ze=f.fc)),f.VG=f.ze.length,f.a.eC(f.ze,f.fc),f.a.qg.reset(),f.Fc=!0,f.Sc=!1):(f.a.Gz(f.di),f.a.Hu(),2>=f.a.h&&f.a.EE(f.a.qb),f.a.rb&&f.P.Mn[2]&&f.a.eH(b,f.Kc,f.Lc),f.Ki(),0<f.mg.length&&(f.a.Gz(f.di),f.a.Hu(),2>=f.a.h&&f.a.EE(f.a.qb)),f.a.dK(f.a.qb,f.a.Z),b&&0===f.a.ma&&!f.Aj?(f.$m=!0,f.a.bb||(b.rg?f.s.notification.L("Pattern too big!",v.gt,!1):f.s.notification.L("New pattern",300,!1))):f.$m=!1,-1!==f.a.sa&&f.a.Wz(),f.a.wK(f.oe),f.a.Iu(f.oe));f.cj.width=
9999<f.a.ga?166:140;f.mm.Jn(f.cj.ur);f.Yo.locked=!f.a.rb;f.Yo.current=[f.a.If];f.Hl.locked=f.Fc;f.Hl.current=[f.Sc];f.qm.current=[f.Oi];f.Am.current=[f.pl];f.Ao.current=[f.a.xi];f.Cp.current=[f.zj];f.bo.current=[f.Fh];f.Gm.current=[f.a.il];f.Gm.locked=!f.a.ia;f.Ll.current=[f.a.te];f.Ll.locked=f.a.$;f.Yp.c=(f.a.ia||f.a.G)&&null!==f.a.zc?!1:!0;0===f.S.Jo()?(f.Pl.locked=!0,f.ai=!1):(f.Pl.locked=!1,f.ai=!0);f.Pl.current=[f.ai];f.xo.current=[f.ad];f.cp.current=[f.mk];f.sr.current=[f.a.Ng];f.np.current=
[f.bi];f.vo.current=[f.Rh];f.S.oc.length?(f.pr.c=!1,f.Pq.c=!1):(f.pr.c=!0,f.Pq.c=!0);0===f.a.vf?(f.Cj.current=[!1],f.Cj.locked=!0):(f.Cj.current=[f.a.pk],f.Cj.locked=!1);f.Fc||f.a.GE();l=f.a.zoom;w=f.a.xa;z=f.a.pa;A=f.jb;f.jb=!1;f.zg(!0,!1,v.kk);f.jb=A;f.ax?f.a.zoom=l:!f.rc&&f.a.zoom>v.kD&&(f.a.zoom=v.kD);f.Zw&&(f.a.xa=w);f.$w&&(f.a.pa=z);f.Xc&&f.vL(f.fd);f.jb&&f.dv&&(f.a.zoom=f.zA);f.rC=f.a.zoom;f.Cc.current=f.Zj([f.a.zoom,f.a.zoom],!1,f);f.Ae=f.a.xa;f.Ai=f.a.pa;f.ko=f.a.angle;f.Bd.current=[f.ko,
f.ko];f.$s=f.a.pf;f.om(f.$s,f.a.sl,f);f.Yw=f.eg;l=Math.sqrt((f.Yw-v.Fg)/(v.Sl-v.Fg));f.ac.current=f.Xj([l,l],!0,f);f.Zs=f.Da;f.Kd.current=f.Fm([f.Zs,f.Zs],!0,f);f.lo=f.a.M;f.Wd.current=[f.lo,f.lo];f.Xw=f.a.le;l=Math.sqrt(f.Xw);f.Zc.current=f.Wk([l,l],!0,f);f.a.aa=1;f.Ue&&!f.$f?(f.Wa=!0,f.Fb.current=v.yk):(f.Wa=!1,f.Fb.current=v.$e);f.Qu(f.Wa);f.B<v.Ul?(f.Qc.c=!0,f.Fb.Jn(f.hz+45),f.ac.Jn(f.tx+45),f.Kd.Jn(f.lA+45)):(f.Fb.Jn(f.hz),f.ac.Jn(f.tx),f.Kd.Jn(f.lA));f.C>v.Gd&&!f.ke?(l=f.C-v.Gd+v.wB,l>v.PF&&
(l=v.PF),f.Cc.Nj(l)):f.Cc.Nj(v.wB);if(r||f.jb)f.jb?f.oA():f.resize();b||(f.P.rg?f.s.notification.L("Pattern too big!",v.gt,!1):f.s.notification.L("Invalid pattern!",v.gt,!1));f.fd.length?f.ha=0:f.$b=0;f.ta||(f.Ia=!0,f.a.yg=!1,f.a.bb=!0,f.a.rb=!1,f.a.Gc=!1);if(f.Ia||f.a.bb)f.td.Ag[v.Vl]=!0;f.Ia?(f.Fb.c=!0,f.Ye.c=!0,f.Og.c=!0,f.ac.c=!0,f.Kd.c=!0,f.Wj.c=!0,f.Bn.c=!0,f.cd&&(f.Wd.c=!0,f.Zc.c=!0,f.fi.c=!0,f.a.M=1),f.Gk.c=!1,""===f.u?(f.Gk.Oa=Keywords.ds,f.Gk.Kf=v.uo):(f.Gk.Oa=f.u,f.Gk.Kf=f.Ci)):f.Gk.c=
!0;540>f.B?f.ll.setPosition(Menu.mp,0,-85):f.ll.setPosition(Menu.mp,0,-100);f.rF();f.Dg=!1;f.Lq="";f.RE(f);f.ht()?(f.rj.Oa="Density",f.rj.w="cell density"):(f.rj.Oa="Births",f.rj.w="cells born this generation");f.s.wh=!0;f.s.Qg(!0);f.ke&&f.ev&&(""===f.ji?f.ev.nodeValue="LifeViewer":f.ev.nodeValue=f.YH(f.ji));y.Ja?(b=f.So,""===b&&(b="Universe "+(f.Wc+1)),f.s.notification.L(b,120,!0),f.qr.c=!1,f.Qq.c=!1):(f.qr.c=!0,f.Qq.c=!0);f.yb("");f.Yt&&g(f);8===f.a.zoom&&0<f.un&&0===(f.un&3)&&1===(this.Ri.length&
5)?(f.aq=!0,f.a.PC()):f.aq=!1;f.a.Lx();(f.a.ia||f.a.G)&&null!==f.a.zc&&f.Ju&&(f.a.Uc=!0,f.Qu(f.Wa))};registerEvent(window,"load",x,!1);window.DocConfig=y;window.Controller=B;window.ViewConstants=v;window.startAllViewers=x;window.updateViewer=n;window.updateMe=c;window.hideViewer=t;window.lifeViewerBuild=v.jv}(),function(){window.Help={$z:0,SJ:function(d,k,p,h,t,a,e,c,g,n){var m=c,q=!1,u=d.V,x=d.i.ff;a&&(a.fillStyle===ViewConstants.mq&&(q=!0),u>=n&&u<=n+d.dd&&(a.font=d.to,q||(a.fillStyle=1<(d.ha|0)?
ViewConstants.uo:ViewConstants.kt),a.fillText(k,e,c),q||(a.fillStyle=ViewConstants.uo),a.fillText(p,e+a.measureText(k).width,c),q||(a.fillStyle=(d.ha|0)<d.Ko-d.dd?ViewConstants.uo:ViewConstants.kt),a.fillText(h,e+a.measureText(k+p).width,c),q||(a.fillStyle=ViewConstants.uo),a.font=d.Kl,a.fillText(t,e+d.X[0]*x,c),m+=g));d.V+=1;return m},qw:function(d){d/=1048576;return 10>d?String(d.toFixed(1)):String(d.toFixed(0))},Va:function(d,k,p,h,t,a,e,c,g){var n=d.V;t&&(c-=6,n>=g&&n<=g+d.dd&&(d=t.fillStyle,
d!==ViewConstants.mq&&(t.fillStyle="rgb("+k+","+p+","+h+")"),t.fillRect(a,e-(c>>1)-1,c,c),t.fillStyle=d))},measureText:function(d,k,p,h){var t=h?d.st:d.rt;t[d.V]?k=t[d.V]:(k.font=0===h?d.to:d.Kl,k=k.measureText(p).width,t[d.V]=k);return k},b:function(d,k,p,h,t,a,e,c){var g=a,n=String(p).indexOf("\t"),m=0,q=d.V>=c&&d.V<=c+d.dd,u=d.i.ff;if(k.length){q&&(h.font=d.to,h.fillText(k,t,a));k=this.measureText(d,h,k,0);k>d.X[m]*u&&(q&&(a+=e,g+=e),d.V+=1,q=d.V>=c&&d.V<=c+d.dd);q&&(h.font=d.Kl);for(;-1!==n;)q&&
h.fillText(p.substr(0,n),t+d.X[m]*u,a),m+=1,p=p.substr(n+1),n=p.indexOf("\t");n=!1;d.tg&&(k=this.measureText(d,h,p,1),t+d.X[m]*u+k+this.$z>h.canvas.width&&(k=p.toLowerCase().indexOf("|"),-1===k&&(k=p.toLowerCase().indexOf("s"),-1===k&&(k=p.indexOf("/"),-1!==k&&(k+=1))),-1!==k&&(q&&(h.fillText(p.substr(0,k),t+d.X[m]*u,a),a+=e,g+=e),d.V+=1,(q=d.V>=c&&d.V<=c+d.dd)&&h.fillText("  "+p.substr(k),t+d.X[m]*u,a),n=!0)));n||q&&h.fillText(p,t+d.X[m]*u,a)}else h.font=d.Kl,q&&h.fillText(p,t,a);q&&(g+=e);d.V+=
1;return g},jc:function(d,k,p){for(var h=ColourManager.ze,t=Object.keys(h),a="    "+d+"\t"+k+"\t"+p,e=!1,c,g=0;g<t.length&&!e;)c=h[t[g]],c[1]===d&&c[2]===k&&c[3]===p?(a+="\t"+c[0],e=!0,g=t.length):g+=1;return a},Qf:function(d){return this.jc(d.red,d.green,d.blue)},BG:function(d){var k=0,p=0;d.a.aa&&(k=d.a.H.l-d.a.H.f+1,p=d.a.H.o-d.a.H.g+1);-1!==d.a.sa&&(0!==d.a.ua&&(k=d.a.ua),0!==d.a.ra&&(p=d.a.ra));return k+" x "+p},IG:function(d){var k="AutoFit";d.Rh&&(k+=" History");d.di&&(k+=" State 1");return k},
OD:function(d,k){k-=d.length;for(var p="";0<k;)p+=" ",--k;return p+d},Fw:function(d){var k=d.indexOf(","),p=d.lastIndexOf(",");return[d.substring(4,k),d.substring(k+1,p),d.substring(p+1,d.length-1)]},CE:function(d,k,p,h,t,a){var e=h;switch(d.Jl){case ViewConstants.Xk:this.YJ(d,k,p,h,t,a);break;case ViewConstants.VC:this.UJ(d,k,p,h,t,a);break;case ViewConstants.Tz:this.WJ(d,k,p,h,t,a);break;case ViewConstants.yq:this.TJ(d,k,p,h,t,a);break;case ViewConstants.fF:this.XJ(d,k,p,h,t,a);break;case ViewConstants.$B:this.PJ(d,
k,p,h,t,a);break;case ViewConstants.CB:this.NJ(d,k,p,h,t,a);break;case ViewConstants.uD:this.VJ(d,k,p,h,t,a);break;case ViewConstants.IB:this.OJ(d,k,p,h,t,a)}d.Ko=d.V-1;d.V=1;d.X[0]=120;h=e+t*(d.dd+2);h=d.Jl!==ViewConstants.Xk?this.SJ(d,"Up"," / ","Down","scroll help",k,p,h,t,0):h+t;d.ke?this.b(d,"H","close help",k,p,h,t,0):this.b(d,"H / Esc","close help",k,p,h,t,0)},YJ:function(d,k,p,h,t,a){d.V=1;d.tg=!1;d.ba=[];d.X[0]=108;d.ba[0]=[d.V,"Top"];this.b(d,"",ViewConstants.vF+" build "+ViewConstants.jv+
" by "+ViewConstants.uF,k,p,h,t,a)},OJ:function(d,k,p,h,t,a){var e,c=0,g=d.i.ff;d.V=1;d.tg=!1;d.ba=[];d.ba[c]=[d.V,"Top"];c+=1;d.X[0]=128;d.X[1]=208;d.X[2]=288;d.X[3]=368;h=this.b(d,"","Annotations",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Labels"];c+=1;h=this.b(d,"","Labels:",k,p,h,t,a);h=this.b(d,"Number",d.S.yf.length,k,p,h,t,a);for(e=0;e<d.S.yf.length;e+=1){var n="Label "+String(e+1);h=this.b(d,n,d.S.DI(e),k,p,h,t,a);h=this.b(d," ",d.S.EI(e),k,p,h,t,a);h=this.b(d," ",d.S.FI(e),k,p,
h,t,a);n=this.Fw(d.S.GI(e));this.Va(d,n[0],n[1],n[2],k,p+d.X[0]*g,h,t,a);h=this.b(d,"Colour",this.jc(n[0],n[1],n[2]),k,p,h,t,a)}h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Arrows"];c+=1;h=this.b(d,"","Arrows:",k,p,h,t,a);h=this.b(d,"Number",d.S.jf.length,k,p,h,t,a);for(e=0;e<d.S.jf.length;e+=1)n="Arrow "+String(e+1),h=this.b(d,n,d.S.CG(e),k,p,h,t,a),h=this.b(d," ",d.S.DG(e),k,p,h,t,a),h=this.b(d," ",d.S.EG(e),k,p,h,t,a),n=this.Fw(d.S.rs(e)),this.Va(d,n[0],n[1],n[2],k,p+d.X[0]*g,h,t,a),h=this.b(d,"Colour",
this.jc(n[0],n[1],n[2]),k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Polygons"];h=this.b(d,"","Polygons:",k,p,h,t,a);h=this.b(d,"Number",d.S.Af.length,k,p,h,t,a);for(e=0;e<d.S.Af.length;e+=1)n="Polygon "+String(e+1),h=this.b(d,n,d.S.uJ(e),k,p,h,t,a),h=this.b(d," ",d.S.vJ(e),k,p,h,t,a),h=this.b(d," ",d.S.wJ(e),k,p,h,t,a),n=this.Fw(d.S.xJ(e)),this.Va(d,n[0],n[1],n[2],k,p+d.X[0]*g,h,t,a),h=this.b(d,"Colour",this.jc(n[0],n[1],n[2]),k,p,h,t,a)},UJ:function(d,k,p,h,t,a){var e,c=0;d.V=1;d.ba=[];
d.tg=!0;d.X[0]=124;d.ba[c]=[d.V,"Top"];c+=1;h=this.b(d,"","Keyboard commands",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Playback"];c+=1;h=this.b(d,"","Playback controls:",k,p,h,t,a);if(d.cd)h=this.b(d,"R","reset",k,p,h,t,a);else{h=this.b(d,"Enter","toggle play / pause",k,p,h,t,a);h=this.b(d,"Space","pause / next generation",k,p,h,t,a);h=this.b(d,"B","pause / previous generation",k,p,h,t,a);h=this.b(d,"Backspace","pause / previous generation",k,p,h,t,a);h=this.b(d,"Tab","pause / next step",
k,p,h,t,a);h=this.b(d,"Shift Tab","pause / previous step",k,p,h,t,a);if(d.a.ia||d.a.G)h=this.b(d,"U","toggle playback direction",k,p,h,t,a);h=d.ke?this.b(d,"Esc","close LifeViewer",k,p,h,t,a):this.b(d,"Esc","pause if playing",k,p,h,t,a);h=this.b(d,"R","reset to generation 0",k,p,h,t,a);h=this.b(d,"-","decrease generation speed",k,p,h,t,a);h=this.b(d,"+","increase generation speed",k,p,h,t,a);h=this.b(d,"Shift -","minimum generation speed",k,p,h,t,a);h=this.b(d,"Shift +","maximum generation speed",
k,p,h,t,a);h=this.b(d,"D","decrease step size",k,p,h,t,a);h=this.b(d,"E","increase step size",k,p,h,t,a);h=this.b(d,"Shift D","minimum step size",k,p,h,t,a);h=this.b(d,"Shift E","maximum step size",k,p,h,t,a);h=this.b(d,"0","reset step and speed",k,p,h,t,a);h=this.b(d,"Alt T","toggle throttling",k,p,h,t,a);d.Xc?-1!==d.Xa?(h=this.b(d,"W","toggle waypoint playback and loop",k,p,h,t,a),h=this.b(d,"Shift P","toggle just loop",k,p,h,t,a)):h=this.b(d,"W","toggle waypoint playback",k,p,h,t,a):-1!==d.Xa&&
(h=this.b(d,"W","toggle loop",k,p,h,t,a));d.Ue&&(h=this.b(d,"Alt O","toggle autostart",k,p,h,t,a));-1!==d.Tb&&(h=this.b(d,"Alt P","toggle stop",k,p,h,t,a))}h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Multi"];c+=1;h=this.b(d,"","Multi-Viewer controls:",k,p,h,t,a);DocConfig.Ja&&(h=this.b(d,"Page Up","previous universe",k,p,h,t,a),h=this.b(d,"Page Down","next universe",k,p,h,t,a),h=this.b(d,"Home","first universe",k,p,h,t,a),h=this.b(d,"End","last universe",k,p,h,t,a));h=this.b(d,"Shift R","reset all LifeViewers to generation 0",
k,p,h,t,a);h=this.b(d,"Z","stop playback in all other LifeViewers",k,p,h,t,a);h=this.b(d,"Shift Z","stop playback in all LifeViewers",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Camera"];c+=1;h=this.b(d,"","Camera controls:",k,p,h,t,a);if(d.B>=ViewConstants.Ul||(d.jb&&d.xA)>=ViewConstants.Ul)h=this.b(d,"M","toggle settings menu",k,p,h,t,a);h=this.b(d,"V","restore saved camera position",k,p,h,t,a);h=this.b(d,"Shift V","save current camera position",k,p,h,t,a);var g=d.S.oc.length;if(0<g&&(h=
this.b(d,"J","jump to next point of interest",k,p,h,t,a),h=this.b(d,"Shift J","jump to previous point of interest",k,p,h,t,a),9<g&&(g=9),!d.he&&!d.Tf))for(e=1;e<=g;e+=1)h=this.b(d,"Alt "+String(e),"jump to POI #"+String(e),k,p,h,t,a);h=this.b(d,"F","fit pattern to display",k,p,h,t,a);h=this.b(d,"Shift F","toggle autofit",k,p,h,t,a);h=this.b(d,"Shift H","toggle autofit history mode",k,p,h,t,a);h=this.b(d,"Ctrl F","fit selection to display",k,p,h,t,a);h=this.b(d,"Ctrl M","center pattern on display",
k,p,h,t,a);d.a.rb&&(h=this.b(d,"Shift S","toggle autofit state 1 mode",k,p,h,t,a));h=this.b(d,"[","zoom out",k,p,h,t,a);h=this.b(d,"]","zoom in",k,p,h,t,a);h=this.b(d,"Shift [","halve zoom",k,p,h,t,a);h=this.b(d,"Shift ]","double zoom",k,p,h,t,a);h=this.b(d,"1","1x zoom",k,p,h,t,a);h=this.b(d,"2","2x zoom",k,p,h,t,a);h=this.b(d,"4","4x zoom",k,p,h,t,a);h=this.b(d,"8","8x zoom",k,p,h,t,a);h=this.b(d,"6","16x zoom",k,p,h,t,a);h=this.b(d,"3","32x zoom",k,p,h,t,a);h=this.b(d,"Shift 3","64x zoom",k,p,
h,t,a);h=this.b(d,"Shift 1","integer zoom",k,p,h,t,a);h=this.b(d,"Shift 2","-2x zoom",k,p,h,t,a);h=this.b(d,"Shift 4","-4x zoom",k,p,h,t,a);h=this.b(d,"Shift 8","-8x zoom",k,p,h,t,a);h=this.b(d,"Shift 6","-16x zoom",k,p,h,t,a);h=this.b(d,"Left","pan left",k,p,h,t,a);h=this.b(d,"Right","pan right",k,p,h,t,a);h=this.b(d,"Up","pan up",k,p,h,t,a);h=this.b(d,"Down","pan down",k,p,h,t,a);h=this.b(d,"Shift Left","pan north west",k,p,h,t,a);h=this.b(d,"Shift Right","pan south east",k,p,h,t,a);h=this.b(d,
"Shift Up","pan north east",k,p,h,t,a);h=this.b(d,"Shift Down","pan south west",k,p,h,t,a);h=this.b(d,"<","rotate left",k,p,h,t,a);h=this.b(d,">","rotate right",k,p,h,t,a);h=this.b(d,"Shift <","rotate left 90 degrees",k,p,h,t,a);h=this.b(d,"Shift >","rotate right 90 degrees",k,p,h,t,a);h=this.b(d,"5","reset angle",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.cd||(d.ba[c]=[d.V,"View"],c+=1,h=this.b(d,"","View controls:",k,p,h,t,a),h=this.b(d,"Q","increase number of layers",k,p,h,t,a),h=this.b(d,"A","decrease number of layers",
k,p,h,t,a),h=this.b(d,"P","increase layer depth",k,p,h,t,a),h=this.b(d,"L","decrease layer depth",k,p,h,t,a),h=this.b(d,"C","next colour theme",k,p,h,t,a),h=this.b(d,"Shift C","previous colour theme",k,p,h,t,a),h=this.b(d,"Alt C","default theme",k,p,h,t,a),h=this.b(d,"","",k,p,h,t,a));d.ba[c]=[d.V,"Display"];c+=1;h=this.b(d,"","Display controls:",k,p,h,t,a);d.cd||(h=this.b(d,"G","toggle generation statistics",k,p,h,t,a),h=this.b(d,"Shift G","toggle generation display mode",k,p,h,t,a),d.Fc||(h=this.b(d,
"Y","toggle population graph",k,p,h,t,a),h=this.b(d,"Shift Y","toggle graph lines",k,p,h,t,a),h=this.b(d,"7","decrease graph opacity",k,p,h,t,a),h=this.b(d,"9","increase graph opacity",k,p,h,t,a)),h=this.b(d,"Shift W","toggle performance warning",k,p,h,t,a));h=this.b(d,"/","toggle hexagons for hex view",k,p,h,t,a);h=this.b(d,"T","toggle timing information",k,p,h,t,a);h=this.b(d,"Shift T","toggle extended timing information",k,p,h,t,a);h=this.b(d,"I","toggle pattern and engine information",k,p,h,t,
a);h=this.b(d,"Shift I","toggle information bar",k,p,h,t,a);h=this.b(d,"Ctrl Q","toggle cell anti-aliasing",k,p,h,t,a);h=this.b(d,"Alt B","toggle cell borders",k,p,h,t,a);h=this.b(d,"X","toggle gridlines",k,p,h,t,a);0<d.a.vf&&(h=this.b(d,"Shift X","toggle major gridlines",k,p,h,t,a));h=this.b(d,"Ctrl G","toggle auto gridlines",k,p,h,t,a);d.a.ia&&(h=this.b(d,"Alt D","toggle alternating gridlines",k,p,h,t,a));d.a.rb&&(h=this.b(d,"Alt H","[R]History display on",k,p,h,t,a),h=this.b(d,"Alt J","[R]History display off",
k,p,h,t,a));0<d.S.Jo()&&(h=this.b(d,"Shift L","toggle annotation display",k,p,h,t,a));h=this.b(d,"Alt G","toggle kill escaping gliders",k,p,h,t,a);d.Tk&&(h=this.b(d,"N","toggle thumbnail view",k,p,h,t,a));h=this.b(d,"S","toggle stars",k,p,h,t,a);h=this.b(d,"O","open screenshot in separate window",k,p,h,t,a);h=this.b(d,"Shift O","open population graph in separate window",k,p,h,t,a);h=this.b(d,"Shift U","toggle UI",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Pattern"];c+=1;h=this.b(d,"","Pattern controls:",
k,p,h,t,a);h=this.b(d,"Alt N","new pattern",k,p,h,t,a);h=this.b(d,"Alt R","change rule",k,p,h,t,a);h=this.b(d,"Ctrl O","open original or last saved pattern",k,p,h,t,a);h=this.b(d,"Ctrl S","save pattern",k,p,h,t,a);h=this.b(d,"Alt Z","randomize pattern and rule",k,p,h,t,a);h=this.b(d,"Ctrl+Alt Z","randomize pattern only",k,p,h,t,a);h=this.b(d,"F6","toggle oscillator and spaceship identification",k,p,h,t,a);h=this.b(d,"Ctrl+F6","fast identification",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,
"Clipboard"];c+=1;h=this.b(d,"","External clipboard controls:",k,p,h,t,a);h=this.b(d,"Alt S","toggle sync cut and copy with external clipboard",k,p,h,t,a);h=this.b(d,"Ctrl+Shift C","copy original pattern",k,p,h,t,a);h=this.b(d,"Ctrl C","copy current selection",k,p,h,t,a);h=this.b(d,"Ctrl+Alt C","copy current selection with comments",k,p,h,t,a);h=this.b(d,"Ctrl+Shift X","copy original pattern",k,p,h,t,a);h=this.b(d,"Ctrl X","copy current selection",k,p,h,t,a);h=this.b(d,"Ctrl+Alt X","copy current selection with comments",
k,p,h,t,a);h=this.b(d,"K","copy camera position",k,p,h,t,a);h=this.b(d,"Shift K","copy camera position and view",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Edit"];c+=1;h=this.b(d,"","Edit controls:",k,p,h,t,a);h=this.b(d,"F1","toggle draw/pan mode",k,p,h,t,a);h=this.b(d,"F2","draw mode",k,p,h,t,a);h=this.b(d,"Shift F2","toggle smart drawing",k,p,h,t,a);h=this.b(d,"F3","pick mode",k,p,h,t,a);h=this.b(d,"F4","select mode",k,p,h,t,a);h=this.b(d,"F5","pan mode",k,p,h,t,a);h=this.b(d,"Ctrl A",
"select all",k,p,h,t,a);h=this.b(d,"Shift A","shrink selection",k,p,h,t,a);h=this.b(d,"Alt A","toggle auto-shrink selection",k,p,h,t,a);h=this.b(d,"Ctrl C","copy",k,p,h,t,a);h=this.b(d,"Ctrl I","invert selection",k,p,h,t,a);h=this.b(d,"Ctrl K","remove selection",k,p,h,t,a);h=this.b(d,"Ctrl V","paste",k,p,h,t,a);h=this.b(d,"Ctrl+Shift V","paste to selection",k,p,h,t,a);h=this.b(d,"Ctrl X","cut",k,p,h,t,a);h=this.b(d,"Ctrl Y","redo edit",k,p,h,t,a);h=this.b(d,"Ctrl Z","undo edit",k,p,h,t,a);h=this.b(d,
"Ctrl+Shift Z","redo edit",k,p,h,t,a);h=this.b(d,"Ctrl Space","advance selection",k,p,h,t,a);h=this.b(d,"Shift Space","advance outside",k,p,h,t,a);h=this.b(d,"Shift L","cycle paste location",k,p,h,t,a);h=this.b(d,"Shift M","cycle paste mode",k,p,h,t,a);2<d.a.h?(h=this.b(d,"Shift 5","multi-state random fill",k,p,h,t,a),d.a.G||(h=this.b(d,"Ctrl+Shift 5","2-state random fill",k,p,h,t,a))):h=this.b(d,"Shift 5","random fill",k,p,h,t,a);h=this.b(d,"Alt K","pick cell state to replace with drawing state",
k,p,h,t,a);h=this.b(d,"Ctrl+Alt K","clear current drawing state cells",k,p,h,t,a);h=this.b(d,"Del","clear cells in selection",k,p,h,t,a);h=this.b(d,"Shift Del","clear outside selection",k,p,h,t,a);d.a.rb&&(h=this.b(d,"Ctrl Del","clear [R]History cells",k,p,h,t,a),h=this.b(d,"Alt Del","clear [R]History marked cells",k,p,h,t,a));h=this.b(d,">","rotate selection clockwise",k,p,h,t,a);h=this.b(d,"<","rotate selection counter-clockwise",k,p,h,t,a);h=this.b(d,"Alt X","flip selection horizontally",k,p,h,
t,a);h=this.b(d,"Alt Y","flip selection vertically",k,p,h,t,a);h=this.b(d,"Alt Left","nudge selection 1 cell left",k,p,h,t,a);h=this.b(d,"Alt Right","nudge selection 1 cell right",k,p,h,t,a);h=this.b(d,"Alt Up","nudge selection 1 cell up",k,p,h,t,a);h=this.b(d,"Alt Down","nudge selection 1 cell down",k,p,h,t,a);h=this.b(d,"Esc","hide paste",k,p,h,t,a);h=this.b(d,"Enter","perform paste",k,p,h,t,a);d.a.rb?g=7:(g=-1===d.a.h?2:d.a.h,10<g&&(g=10));for(e=0;e<g;e+=1)h=this.b(d,"Ctrl "+e,"select state "+
e+" for drawing",k,p,h,t,a);for(e=0;10>e;e+=1)h=this.b(d,"Alt "+e,"make clipboard "+e+" active",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Help"];h=this.b(d,"","Help controls:",k,p,h,t,a);h=this.b(d,"Up","scroll up one line",k,p,h,t,a);h=this.b(d,"Down","scroll down one line",k,p,h,t,a);h=this.b(d,"Page Up","scroll up one page",k,p,h,t,a);h=this.b(d,"Page Down","scroll down one page",k,p,h,t,a);h=this.b(d,"Shift Page Up","scroll up one section",k,p,h,t,a);h=this.b(d,"Shift Page Down","scroll down one section",
k,p,h,t,a);h=this.b(d,"Home","go to first help page",k,p,h,t,a);this.b(d,"End","go to last help page",k,p,h,t,a)},WJ:function(d,k,p,h,t,a){var e=0;d.V=1;d.tg=!1;d.ba=[];d.X[0]=252;d.ba[e]=[d.V,"Top"];e+=1;h=this.b(d,"","Scripts",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);h=this.b(d,"","Scripts must be embedded in pattern comments",k,p,h,t,a);h=this.b(d,"","Commands must be surrounded by whitespace",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Params"];e+=1;h=this.b(d,"","Parameter conventions:",
k,p,h,t,a);h=this.b(d,"A|B","either A or B",k,p,h,t,a);h=this.b(d,"(A)","A is optional",k,p,h,t,a);h=this.b(d,"A*","zero or more A",k,p,h,t,a);h=this.b(d,"A+","one or more A",k,p,h,t,a);h=this.b(d,"<1..3>","integer range",k,p,h,t,a);h=this.b(d,"<1.0..3.0>","decimal range",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"General"];e+=1;h=this.b(d,"","General:",k,p,h,t,a);h=this.b(d,Keywords.Gn,"start script section",k,p,h,t,a);h=this.b(d,Keywords.ip,"end script section",k,p,h,t,a);h=this.b(d,Keywords.mA,
"suppress overwrite warning",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Playback"];e+=1;h=this.b(d,"","Playback:",k,p,h,t,a);h=this.b(d,Keywords.vs+" ("+Keywords.Ob+")","start play automatically",k,p,h,t,a);h=this.b(d,Keywords.Ii+" <1..>|"+Keywords.Ob,"loop at generation",k,p,h,t,a);h=this.b(d,Keywords.Yi+" <1..>|"+Keywords.Ob,"stop at generation",k,p,h,t,a);h=this.b(d,Keywords.en+" <"+ViewConstants.Fg+".."+ViewConstants.Sl+">","set steps per second",k,p,h,t,a);h=this.b(d,Keywords.Nn+" <"+
ViewConstants.qn+".."+ViewConstants.kg+">","set generations per step",k,p,h,t,a);(d.a.ia||d.a.G)&&d.a.zc&&(h=this.b(d,Keywords.Iz,"set initial playback to Reverse",k,p,h,t,a));h=this.b(d,Keywords.yx,"always use hard reset",k,p,h,t,a);h=this.b(d,Keywords.ds,"disable playback",k,p,h,t,a);h=this.b(d,Keywords.uy,"disable step back",k,p,h,t,a);h=this.b(d,Keywords.wy,"disable stop messages",k,p,h,t,a);h=this.b(d,Keywords.vy,"disable performance warning",k,p,h,t,a);h=this.b(d,Keywords.zy,"disable playback throttling",
k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Camera"];e+=1;h=this.b(d,"","Camera:",k,p,h,t,a);h=this.b(d,Keywords.kl+" <0..359>","set camera angle",k,p,h,t,a);h=this.b(d,Keywords.gf+" <-"+(d.a.ga>>1)+".."+(d.a.ga>>1)+">","set camera x position",k,p,h,t,a);h=this.b(d,Keywords.hf+" <-"+(d.a.ga>>1)+".."+(d.a.ga>>1)+">","set camera y position",k,p,h,t,a);h=this.b(d,Keywords.Od+" <"+Number(-1/ViewConstants.wa).toFixed(1)+".."+ViewConstants.Na.toFixed(1)+">","set camera zoom",k,p,h,t,a);h=this.b(d,
Keywords.iw,"same as "+Keywords.Od,k,p,h,t,a);h=this.b(d,Keywords.ts+" ("+Keywords.Ob+")","fit pattern to display",k,p,h,t,a);h=this.b(d,Keywords.Fx+" ("+Keywords.Ob+")","autofit uses pattern history",k,p,h,t,a);h=this.b(d,Keywords.iA+" ("+Keywords.Ob+")","autofit only uses state 1",k,p,h,t,a);h=this.b(d,Keywords.Vr+" X Y","camera tracking",k,p,h,t,a);h=this.b(d," X ","horizontal speed cells/gen",k,p,h,t,a);h=this.b(d," Y ","vertical speed cells/gen",k,p,h,t,a);h=this.b(d,Keywords.Vn+" E S W N","camera box tracking",
k,p,h,t,a);h=this.b(d," E ","east edge speed cells/gen",k,p,h,t,a);h=this.b(d," S ","south edge speed cells/gen",k,p,h,t,a);h=this.b(d," W ","west edge speed cells/gen",k,p,h,t,a);h=this.b(d," N ","north edge speed cells/gen",k,p,h,t,a);h=this.b(d,Keywords.Ur+" P X Y","camera tracking with loop",k,p,h,t,a);h=this.b(d," P ","period",k,p,h,t,a);h=this.b(d," X ","horizontal speed cells/gen",k,p,h,t,a);h=this.b(d," Y ","vertical speed cells/gen",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Waypoints"];
e+=1;h=this.b(d,"","Waypoints:",k,p,h,t,a);h=this.b(d,Keywords.Ir+" <0..>","waypoint at generation",k,p,h,t,a);h=this.b(d,Keywords.dz+" <0.0..>","pause for time",k,p,h,t,a);h=this.b(d,Keywords.ih+" "+Keywords.Zf+"|"+Keywords.gf+"|"+Keywords.hf+"|"+Keywords.Od,"linear motion",k,p,h,t,a);h=this.b(d,Keywords.wi+" "+Keywords.Zf+"|"+Keywords.gf+"|"+Keywords.hf+"|"+Keywords.Od,"bezier motion (default)",k,p,h,t,a);h=this.b(d,Keywords.gF,"save timing at waypoint start",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,
a);d.ba[e]=[d.V,"POIs"];e+=1;h=this.b(d,"","Points of interest:",k,p,h,t,a);h=this.b(d,Keywords.ju,"define point of interest",k,p,h,t,a);h=this.b(d,Keywords.iu+" <0..>","start POI at generation",k,p,h,t,a);h=this.b(d,Keywords.kr,"reset generation at POI",k,p,h,t,a);h=this.b(d,Keywords.Wo,"start playback at POI",k,p,h,t,a);h=this.b(d,Keywords.Xo,"stop playback at POI",k,p,h,t,a);h=this.b(d,Keywords.lr+" <"+WaypointConstants.qE+".."+WaypointConstants.pE+">","set POI transition speed",k,p,h,t,a);h=this.b(d,
"<command>|ALL "+Keywords.cc,"use initial value for POI",k,p,h,t,a);h=this.b(d,Keywords.rd+"<string>"+Keywords.rd,"define message",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Annotations"];e+=1;h=this.b(d,"","Annotations:",k,p,h,t,a);h=this.b(d,Keywords.Gq+" X Y ZOOM","define label at position",k,p,h,t,a);h=this.b(d,"  (MAXZOOM) ("+Keywords.je+")","... zoom range and fixed position",k,p,h,t,a);h=this.b(d," "+Keywords.rd+"<string>"+Keywords.rd,"... label text",k,p,h,t,a);h=this.b(d,Keywords.Wx+
" <"+ViewConstants.xD+".."+ViewConstants.oD+">","define label font size",k,p,h,t,a);h=this.b(d,Keywords.Ux+" <0.0..1.0>","define label font alpha",k,p,h,t,a);h=this.b(d,Keywords.Xx+" <0..> <0..> <0..>","generation range / fade",k,p,h,t,a);h=this.b(d,Keywords.Vx+" <0..359>","label angle",k,p,h,t,a);h=this.b(d," ("+Keywords.je+")","... optionally fix angle",k,p,h,t,a);h=this.b(d,Keywords.Yx+" X Y D|"+Keywords.Ob,"label target and distance",k,p,h,t,a);h=this.b(d,Keywords.Zx+" DX DY|"+Keywords.je,"label move per generation",
k,p,h,t,a);h=this.b(d,Keywords.Bp+" X1 Y1 X2 Y2 ZOOM","define arrow at position",k,p,h,t,a);h=this.b(d," (MAXZOOM) ("+Keywords.je+")","... zoom range and fix position",k,p,h,t,a);h=this.b(d,Keywords.mw+" <"+ViewConstants.Wt+".."+ViewConstants.Qt+"> <0.0..1.0>","line width and head multiple",k,p,h,t,a);h=this.b(d,Keywords.kw+" <0.0..1.0>","define arrow alpha",k,p,h,t,a);h=this.b(d,Keywords.nw+" <0..> <0..> <0..>","generation range / fade",k,p,h,t,a);h=this.b(d,Keywords.lw+" <0..359>","arrow angle",
k,p,h,t,a);h=this.b(d," ("+Keywords.je+")","... optionally fix angle",k,p,h,t,a);h=this.b(d,Keywords.ow+" X Y D|"+Keywords.Ob,"arrow target and distance",k,p,h,t,a);h=this.b(d,Keywords.pw+" DX DY|"+Keywords.je,"arrow move per generation",k,p,h,t,a);h=this.b(d,Keywords.kz+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",k,p,h,t,a);h=this.b(d," (MAXZOOM) ("+Keywords.je+")","... zoom range and fix position",k,p,h,t,a);h=this.b(d,Keywords.ku+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",k,p,h,t,a);h=
this.b(d," (MAXZOOM) ("+Keywords.je+")","... zoom range and fix position",k,p,h,t,a);h=this.b(d,Keywords.lz+" <"+ViewConstants.Wt+".."+ViewConstants.Qt+">","line width",k,p,h,t,a);h=this.b(d,Keywords.iz+" <0.0..1.0>","define polygon alpha",k,p,h,t,a);h=this.b(d,Keywords.mz+" <0..> <0..> <0..>","generation range / fade",k,p,h,t,a);h=this.b(d,Keywords.jz+" <0..359>","polygon angle",k,p,h,t,a);h=this.b(d," ("+Keywords.je+")","... optionally fix angle",k,p,h,t,a);h=this.b(d,Keywords.nz+" X Y D|"+Keywords.Ob,
"polygon target and distance",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Display"];e+=1;h=this.b(d,"","Display:",k,p,h,t,a);h=this.b(d,Keywords.wp+" <"+ViewConstants.Gd+".."+d.Dj+">","set LifeViewer width",k,p,h,t,a);h=this.b(d,Keywords.so+" <"+ViewConstants.xk+".."+ViewConstants.Rt+">","set LifeViewer height",k,p,h,t,a);h=this.b(d,Keywords.nr+" <"+ViewConstants.Gd+".."+d.Dj+">","set popup width",k,p,h,t,a);h=this.b(d,Keywords.mr+" <"+ViewConstants.xk+".."+ViewConstants.Rt+">","set popup height",
k,p,h,t,a);h=this.b(d,Keywords.sp+" "+Keywords.rd+"<string>"+Keywords.rd,"set popup window title",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"B","program build number",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"N","pattern name",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"O","pattern originator",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"R","rule name",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"A","rule alias",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"T","program title",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"0..9","saved timing as average fps",
k,p,h,t,a);h=this.b(d," "+Keywords.Vf+Keywords.Vf,Keywords.Vf+" symbol",k,p,h,t,a);h=this.b(d,Keywords.on+" <"+ViewConstants.Vt+".."+ViewConstants.Pt+">","set number of layers",k,p,h,t,a);h=this.b(d,Keywords.Vm+" <"+ViewConstants.Ut.toFixed(1)+".."+ViewConstants.mD.toFixed(1)+">","set layer depth",k,p,h,t,a);h=this.b(d,Keywords.jq+" ("+Keywords.Ob+")","display gridlines",k,p,h,t,a);h=this.b(d,Keywords.iq+" <0..16>","set major grid line interval",k,p,h,t,a);h=this.b(d,Keywords.vt+" <0.."+(2<d.a.h?
1:63)+">","number of history states",k,p,h,t,a);h=this.b(d,Keywords.Gr+" ("+Keywords.Ob+")","display stars",k,p,h,t,a);h=this.b(d,Keywords.Ax,"hexagonal cells for hex",k,p,h,t,a);h=this.b(d,Keywords.eA,"square cells for hex",k,p,h,t,a);h=this.b(d,Keywords.ty,"disable menus and hotkeys",k,p,h,t,a);h=this.b(d,Keywords.Ex,"hide menus during playback",k,p,h,t,a);h=this.b(d,Keywords.cA,"show timing information",k,p,h,t,a);h=this.b(d,Keywords.px,"extended timing information",k,p,h,t,a);h=this.b(d,Keywords.aA,
"show generation statistics",k,p,h,t,a);h=this.b(d,Keywords.bA,"show information bar",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Thumb"];e+=1;h=this.b(d,"","Thumbnails:",k,p,h,t,a);h=this.b(d,Keywords.BA+" ("+Keywords.Ob+")","start at 1/"+d.se+" size",k,p,h,t,a);h=this.b(d,Keywords.yA+" <"+ViewConstants.CD+".."+ViewConstants.tD+">","set thumbnail divisor",k,p,h,t,a);h=this.b(d,Keywords.wA+" ("+Keywords.Ob+")","thumbnail launches viewer",k,p,h,t,a);h=this.b(d,Keywords.AA+" <"+Number(-1/ViewConstants.wa).toFixed(1)+
".."+ViewConstants.Na.toFixed(1)+">","set thumbnail zoom",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Graph"];e+=1;h=this.b(d,"","Population Graph:",k,p,h,t,a);h=this.b(d,Keywords.jt,"display population graph",k,p,h,t,a);h=this.b(d,Keywords.vx+" <0.0..1.0>","population graph opacity",k,p,h,t,a);h=this.b(d,Keywords.wx,"population graph use points",k,p,h,t,a);h=this.b(d,Keywords.$t,"disable population graph",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Colours"];e+=1;h=this.b(d,"",
"Colours:",k,p,h,t,a);h=this.b(d,Keywords.Sk+" <0.."+(d.a.Ee-1)+">|name","set theme",k,p,h,t,a);h=this.b(d," name = "+Keywords.rp,"set custom theme",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.$u+" R G B","set theme background",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.Zu+" R G B","set theme alive color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.sA+" R G B","set theme alive ramp",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.bv+" R G B","set theme dead color",k,p,h,t,a);h=this.b(d,Keywords.Ea+
" "+Keywords.av+" R G B","set theme dead ramp",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.uA+" R G B","set theme dying color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.tA+" R G B","set theme dying ramp",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.NB+" R G B","set boundary color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" <0.."+String(d.Ck-1)+"> R G B","set state color",k,p,h,t,a);d.a.rb&&(h=this.b(d,Keywords.Ea+" "+Keywords.LD+" R G B","set [R]History state color "+ViewConstants.fJ,k,p,h,t,a),
h=this.b(d,Keywords.Ea+" "+Keywords.MD+" R G B","set [R]History state color "+ViewConstants.gJ,k,p,h,t,a),h=this.b(d,Keywords.Ea+" "+Keywords.OC+" R G B","set [R]History state color "+ViewConstants.vI,k,p,h,t,a),h=this.b(d,Keywords.Ea+" "+Keywords.eD+" R G B","set [R]History state color "+ViewConstants.fD,k,p,h,t,a),h=this.b(d,Keywords.Ea+" "+Keywords.iD+" R G B","set [R]History state color "+ViewConstants.jD,k,p,h,t,a),h=this.b(d,Keywords.Ea+" "+Keywords.gD+" R G B","set [R]History state color "+
ViewConstants.hD,k,p,h,t,a),h=this.b(d,Keywords.Ea+" "+Keywords.WC+" R G B","set [R]History state color "+ViewConstants.XC,k,p,h,t,a));d.a.G&&(h=this.b(d,Keywords.Ea+" N*E*S*W* R G B","set PCA state color",k,p,h,t,a));h=this.b(d,Keywords.Ea+" "+Keywords.PB+" R G B","set bounded color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.WE+" R G B","set select color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.Ro+" R G B","set paste color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.BB+" R G B","set advance color",
k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.jq+" R G B","set grid color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.iq+" R G B","set grid major color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.Gr+" R G B","set star color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.qA+" R G B","set waypoint message color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.ox+" R G B","set error message color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.EC+" R G B","set graph background color",k,p,h,
t,a);h=this.b(d,Keywords.Ea+" "+Keywords.DC+" R G B","set graph axis color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.CC+" R G B","set graph alive color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.FC+" R G B","set graph birth color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.GC+" R G B","set graph death color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.Gq+" R G B","set label text color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.Bp+" R G B","set arrow line color",k,p,h,t,a);h=
this.b(d,Keywords.Ea+" "+Keywords.uE+" R G B","set polygon color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.mF+" R G B","set UI foreground color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.kF+" R G B","set UI background color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.nF+" R G B","set UI highlight text color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.qF+" R G B","set UI selected color",k,p,h,t,a);h=this.b(d,Keywords.Ea+" "+Keywords.oF+" R G B","set UI locked color",k,p,h,t,a);h=
this.b(d,Keywords.Ea+" "+Keywords.lF+" R G B","set UI border color",k,p,h,t,a);h=this.b(d,Keywords.Gw,"same as "+Keywords.Ea,k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Pattern"];e+=1;h=this.b(d,"","Pattern:",k,p,h,t,a);h=this.b(d,Keywords.ov+" <-"+(d.a.ga>>1)+".."+(d.a.ga>>1)+">","set pattern x offset",k,p,h,t,a);h=this.b(d,Keywords.qv+" <-"+(d.a.ga>>1)+".."+(d.a.ga>>1)+">","set pattern y offset",k,p,h,t,a);h=this.b(d,Keywords.bx+" <"+ViewConstants.vD+".."+ViewConstants.lD+">","set boundary delete range",
k,p,h,t,a);h=this.b(d,Keywords.sy,"disable pattern source copy",k,p,h,t,a);h=this.b(d,Keywords.yy,"hide pattern source",k,p,h,t,a);h=this.b(d,Keywords.hy+" <"+ViewConstants.wD+".."+ViewConstants.nD+">","set maximum grid size 2^n",k,p,h,t,a);h=this.b(d,Keywords.bp+" name X Y (<1..>)+","create a named recipe",k,p,h,t,a);h=this.b(d,Keywords.En+" name rle","create a named rle",k,p,h,t,a);h=this.b(d," (X Y) (TRANS)","... X Y and transformation",k,p,h,t,a);h=this.b(d," "+Keywords.QA,"identity",k,p,h,t,
a);h=this.b(d," "+Keywords.NA,"flip",k,p,h,t,a);h=this.b(d," "+Keywords.OA,"flip X",k,p,h,t,a);h=this.b(d," "+Keywords.PA,"flip Y",k,p,h,t,a);h=this.b(d," "+Keywords.TA,"swap X and Y",k,p,h,t,a);h=this.b(d," "+Keywords.UA,"swap X and Y and flip",k,p,h,t,a);h=this.b(d," "+Keywords.SA,"rotate clockwise",k,p,h,t,a);h=this.b(d," "+Keywords.RA,"rotate counter-clockwise",k,p,h,t,a);h=this.b(d,Keywords.Ro+" name|rle (X Y)","paste rle at optional X Y",k,p,h,t,a);h=this.b(d," (TRANS)","... optional transformation",
k,p,h,t,a);h=this.b(d,Keywords.ar+" <0..>","set paste generation",k,p,h,t,a);h=this.b(d,"(recipe|<1..>+)*","... optional delta list",k,p,h,t,a);h=this.b(d,Keywords.ar+" "+Keywords.bq+" <1..>","set paste interval",k,p,h,t,a);h=this.b(d," (<0..> (<1..>))","... optional start and end",k,p,h,t,a);h=this.b(d,Keywords.Ey+" X Y","set position delta for "+Keywords.ar+" "+Keywords.bq,k,p,h,t,a);h=this.b(d,Keywords.Vy+" <0..15>|mode","set paste mode",k,p,h,t,a);h=this.b(d," 0   0000  "+Keywords.az,"",k,p,h,
t,a);h=this.b(d," 1   0001  "+Keywords.My,"",k,p,h,t,a);h=this.b(d," 2   0010  "+Keywords.Hy,"",k,p,h,t,a);h=this.b(d," 3   0011  "+Keywords.Xy+"|"+Keywords.Oy,"",k,p,h,t,a);h=this.b(d," 4   0100  "+Keywords.Iy,"",k,p,h,t,a);h=this.b(d," 5   0101  "+Keywords.$y,"",k,p,h,t,a);h=this.b(d," 6   0110  "+Keywords.Zy,"",k,p,h,t,a);h=this.b(d," 7   0111  "+Keywords.Uy,"",k,p,h,t,a);h=this.b(d," 8   1000  "+Keywords.Qy,"",k,p,h,t,a);h=this.b(d," 9   1001  "+Keywords.Wy,"",k,p,h,t,a);h=this.b(d," 10  1010  "+
Keywords.Sy,"",k,p,h,t,a);h=this.b(d," 11  1011  "+Keywords.Jy,"",k,p,h,t,a);h=this.b(d," 12  1100  "+Keywords.Ry,"",k,p,h,t,a);h=this.b(d," 13  1101  "+Keywords.Ky,"",k,p,h,t,a);h=this.b(d," 14  1110  "+Keywords.Py,"",k,p,h,t,a);h=this.b(d," 15  1111  "+Keywords.Ty,"",k,p,h,t,a);h=this.b(d,Keywords.Tx,"suppress escaping gliders",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Randomize"];h=this.b(d,"","Randomize:",k,p,h,t,a);h=this.b(d,Keywords.yz+" <string>","set random seed",k,p,h,t,a);h=
this.b(d,Keywords.Az+" <"+ViewConstants.BD+".."+ViewConstants.sD+">","set random pattern width",k,p,h,t,a);h=this.b(d,Keywords.uz+" <"+ViewConstants.AD+".."+ViewConstants.rD+">","set random pattern height",k,p,h,t,a);h=this.b(d,Keywords.sz+" <"+ViewConstants.zD+".."+ViewConstants.qD+">","set random pattern fill percentage",k,p,h,t,a);h=this.b(d,Keywords.su+" "+Keywords.je,"keep rule fixed",k,p,h,t,a);d.a.ia||d.a.G?(h=this.b(d,Keywords.wz,"only generate reversible rules",k,p,h,t,a),this.b(d,Keywords.zz,
"only generate fixed population rules",k,p,h,t,a)):d.a.za||-1!==d.a.Nd||(h=this.b(d,Keywords.su+" <item> <0..100>","set percentage change for <item>",k,p,h,t,a),h=this.b(d," "+Keywords.Zf,"all conditions",k,p,h,t,a),h=this.b(d," "+Keywords.ru,"all birth conditions",k,p,h,t,a),h=this.b(d," "+Keywords.xu,"all survival conditions",k,p,h,t,a),h=this.b(d," "+Keywords.ru+"<0..n>","specified birth condition",k,p,h,t,a),this.b(d," "+Keywords.xu+"<0..n>","specified survival condition",k,p,h,t,a))},TJ:function(d,
k,p,h,t,a){var e,c=Controller.Md.length;var g=d.ze;var n=d.a.eb[d.a.pf];var m=0;var q=d.i.ff;d.V=1;d.tg=!1;d.ba=[];d.X[0]=128;d.ba[m]=[d.V,"Top"];m+=1;h=this.b(d,"","Information",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Display"];m+=1;h=this.b(d,"","Display:",k,p,h,t,a);h=this.b(d,"Size",d.C+" x "+d.B,k,p,h,t,a);h=this.b(d,"Scale",d.i.ff.toFixed(2),k,p,h,t,a);h=this.b(d,"Pixel Ratio",d.devicePixelRatio.toFixed(2),k,p,h,t,a);h=this.b(d,"Window Zoom",d.ef.toFixed(2),k,p,h,t,a);DocConfig.Mq&&
(h=this.b(d,"Limit Width",d.Dj,k,p,h,t,a));var u=d.a.ja;1>u&&(u=-1/u);h=this.b(d,"View","X "+-(d.a.width/2-(d.a.xa+d.a.Rb)|0)+"  Y "+-(d.a.height/2-(d.a.pa+d.a.Pb)|0)+"  Z "+u.toFixed(2)+"  ANGLE "+d.a.angle.toFixed(0),k,p,h,t,a);u=d.hp;1>u&&(u=1/u);h=this.b(d,"Saved View","X "+-(d.a.width/2-d.He|0)+"  Y "+-(d.a.height/2-d.Ui|0)+"  Z "+u.toFixed(2)+"  ANGLE "+d.Qz.toFixed(0),k,p,h,t,a);h=this.b(d,"Origin","X "+d.a.Rb.toFixed(2)+"  Y "+d.a.Pb.toFixed(2)+"  Z "+d.a.Jc.toFixed(3),k,p,h,t,a);var x=d.Ia?
d.cd?"Multi-State Viewer":"Viewer":d.a.rb?"History Player":"Player";x=d.ke?x+" (PopUp)":x+" (InLine)";h=this.b(d,"Type",x,k,p,h,t,a);x=d.a.R?"Hexagonal":d.a.$?"Triangular":"Square";h=this.b(d,"Mode",x,k,p,h,t,a);x=d.a.R&&d.a.te?"Hexagonal":d.a.$?"Triangular":"Square";h=this.b(d,"Cells",x,k,p,h,t,a);h=this.b(d,"Quality",d.a.Ng?"High":"Standard",k,p,h,t,a);d.Tk&&(h=this.b(d,"Thumbnail","1/"+d.se,k,p,h,t,a));h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Pattern"];m+=1;h=this.b(d,"","Pattern:",k,p,h,t,a);
""!==d.So&&(h=this.b(d,"Name",d.So,k,p,h,t,a));""!==d.cr&&(h=this.b(d,"Originator",d.cr,k,p,h,t,a));h=this.b(d,"Actual Size",d.pb+" x "+d.sb,k,p,h,t,a);-1!==d.Qj&&-1!==d.Pj&&(h=this.b(d,"Specified",d.Qj+" x "+d.Pj,k,p,h,t,a));0<d.mg.length&&(h=this.b(d,"Pastes",d.mg.length,k,p,h,t,a),h=this.b(d,"Paste Size",d.cm-d.$l+1+" x "+(d.dm-d.Zl+1)+" from ("+d.$l+", "+d.Zl+") to ("+d.cm+", "+d.dm+")",k,p,h,t,a),h=this.b(d,"Paste Max T",d.vk+(d.Aj?" + "+Keywords.bq:""),k,p,h,t,a));0<d.Ri.length&&(h=this.b(d,
"RLEs",d.Ri.length,k,p,h,t,a));0<d.Kj.length&&(h=this.b(d,"Recipes",d.Kj.length,k,p,h,t,a));h=this.b(d,"Offset","X "+d.Mb+"  Y "+d.Nb,k,p,h,t,a);d.lk&&(h=this.b(d,"CXRLE Gen",d.Oh,k,p,h,t,a));d.Mg&&(h=this.b(d,"CXRLE Pos","X "+d.gm+"  Y "+d.hm,k,p,h,t,a));d.mB&&(h=this.b(d,"Clipped",(0===d.a.ua?"Inf":d.a.ua)+" x "+(0===d.a.ra?"Inf":d.a.ra)+" "+d.P.OB(d.a.sa),k,p,h,t,a));d.ta?x=d.Eb:(x=d.Eb,""===x&&(x="(none)"));if("MAP"===x.substr(0,3)&&x.length===d.P.dD+3)for(h=this.b(d,"Rule","MAP",k,p,h,t,a),u=
3;u<d.P.dD+3;)h=this.b(d,"  "+(u-3),x.substr(u,16),k,p,h,t,a),u+=16;else d.tg=!0,h=this.b(d,"Rule",x,k,p,h,t,a),d.tg=!1;""!==d.pd&&(h=this.b(d,"Alias",d.pd,k,p,h,t,a));d.a.Y&&(h=null===d.a.Jd?this.b(d,"Type","@TREE",k,p,h,t,a):this.b(d,"Type","@TABLE ["+d.a.og+(0<d.a.Hk?" / "+d.a.Hk:"")+"]",k,p,h,t,a));if(d.a.ia)x="Margolus";else if(-1!==d.a.Nd)x="1D";else if(d.a.du)x="Hex";else if(d.a.za)x=d.a.Yb.type===d.P.Pf?"Moore":d.a.Yb.type===d.P.sg?"von Neumann":"Circular",1<d.a.Yb.ed&&(x+=" range "+d.a.Yb.ed);
else if(d.a.$)x="Triangular",d.a.Ld===d.P.Xn?x+=" Edges":d.a.Ld===d.P.Yn&&(x+=" Vertices");else if(d.a.Y)if(null===d.a.Jd)x=4===d.a.Sf?"von Neumann":"Moore";else switch(d.a.Ti){case PatternConstants.gp:x="von Neumann";break;case PatternConstants.ep:x="Moore";break;case PatternConstants.Ik:x="Hex";break;case PatternConstants.fp:x="1D";break;default:x="unknown"}else x=d.a.De||d.a.G?"von Neumann":"Moore";h=this.b(d,"N'hood",x,k,p,h,t,a);x=d.Ck;2<d.Ck&&d.er!==d.Ck&&(x=d.er+" of "+x);h=this.b(d,"States",
x,k,p,h,t,a);if(d.dr)for(e=1;e<d.Ck;e+=1)d.dr[e]&&(h=this.b(d,"State "+e,d.dr[e],k,p,h,t,a));if(d.a.Id)if(d.X[1]=200,d.X[2]=280,d.X[3]=360,d.X[4]=440,d.a.Id[0].ww!==PatternConstants.Lz)h=this.b(d,"Icons",PatternConstants.qK[d.a.Id[0].ww],k,p,h,t,a);else for(h=this.b(d,"Icons","Size\tNumber\tColours\tGrayScale",k,p,h,t,a),e=0;e<d.a.Id.length;e+=1)u=d.a.Id[e].width,x=u+"x"+u+"\t"+d.a.Id[e].height/u+"\t"+d.a.Id[e].ID+"\t"+(d.a.Id[e].HC?"Yes":"No"),h=this.b(d,"  Set "+e,x,k,p,h,t,a);h=this.b(d,"Decoder",
d.Li,k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Identify"];m+=1;h=this.b(d,"","Identify:",k,p,h,t,a);h=this.b(d,"Enabled",d.Ub?"Yes":"No",k,p,h,t,a);"none"!==d.wb&&"Empty"!==d.wb&&(h=this.b(d,"Type",d.wb,k,p,h,t,a),h=this.b(d,"Cells",d.Bo,k,p,h,t,a),"Oscillator"!==d.wb||d.Of||(h=this.b(d,"ActiveCells",d.Gt,k,p,h,t,a)),h=this.b(d,"BoundingBox",d.Hq,k,p,h,t,a),"Oscillator"===d.wb?(h=this.b(d,"Period",d.Eo,k,p,h,t,a),d.Of||(h=this.b(d,"Mod",d.Do,k,p,h,t,a))):"Still Life"!==d.wb&&(h=this.b(d,
"Direction",d.Iq,k,p,h,t,a),h=this.b(d,"Period",d.Eo,k,p,h,t,a),d.Of||(h=this.b(d,"Mod",d.Do,k,p,h,t,a)),h=this.b(d,"Slope",d.Jq,k,p,h,t,a),h=this.b(d,"Speed",d.Fo,k,p,h,t,a)),"Still Life"!==d.wb&&(h=this.b(d,"Heat",d.Co,k,p,h,t,a)),"Oscillator"!==d.wb||d.Of||(h=this.b(d,"Temperature",d.It,k,p,h,t,a),h=this.b(d,"Volatility",d.Kq,k,p,h,t,a)),h=this.b(d,"Generation",d.Ht,k,p,h,t,a));h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Grid"];m+=1;h=this.b(d,"","Grid:",k,p,h,t,a);h=this.b(d,"Size",d.a.width+" x "+
d.a.height,k,p,h,t,a);h=this.b(d,"Maximum",d.a.ga+" x "+d.a.ga,k,p,h,t,a);h=this.b(d,"Area",this.BG(d),k,p,h,t,a);h=0!==(d.a.v&1)?this.b(d,"Tiles",d.a.Qn(d.a.oa)+" / "+d.a.Qn(d.a.Ha)+" / "+d.a.Qn(d.a.Aa),k,p,h,t,a):this.b(d,"Tiles",d.a.Qn(d.a.da)+" / "+d.a.Qn(d.a.Ha)+" / "+d.a.Qn(d.a.Aa),k,p,h,t,a);d.a.Tg&&(h=this.b(d,"State6",d.a.Qn(d.a.Tg),k,p,h,t,a));h=this.b(d,"Tile Size",(d.a.Or<<3)+" x "+d.a.Pr,k,p,h,t,a);h=this.b(d,"Generation",d.a.v,k,p,h,t,a);0!==d.Oh&&(h=this.b(d,"AbsoluteGen",d.a.v+d.Oh,
k,p,h,t,a));d.a.ia&&(h=this.b(d,"MargolusGen",d.a.Hf+d.Oh,k,p,h,t,a));d.a.G&&(h=this.b(d,"PCAGen",d.a.Hf+d.Oh,k,p,h,t,a));(d.a.ia||d.a.G)&&d.a.zc&&(u=d.a.Tc,d.a.Uc&&(u=!u),h=this.b(d,"Direction",u?"Reverse":"Forward",k,p,h,t,a));h=this.b(d,"DeleteRange",d.a.vr,k,p,h,t,a);d.a.xi&&(h=this.b(d,"KillGliders",d.a.Sq,k,p,h,t,a));h=this.b(d,"","",k,p,h,t,a);-1!==d.a.sa&&(d.ba[m]=[d.V,"Bounded"],m+=1,h=this.b(d,"","Bounded grid:",k,p,h,t,a),h=this.b(d,"Type",d.P.OB(d.a.sa),k,p,h,t,a),h=0===d.a.ua?this.b(d,
"Width","Infinite",k,p,h,t,a):this.b(d,"Width",d.a.ua,k,p,h,t,a),4!==d.a.sa&&(h=0===d.a.ra?this.b(d,"Height","Infinite",k,p,h,t,a):this.b(d,"Height",d.a.ra,k,p,h,t,a),2===d.a.sa&&(h=d.a.xs?this.b(d,"Twist","Horizontal",k,p,h,t,a):this.b(d,"Twist","Vertical",k,p,h,t,a)),0!==d.a.Lm&&(h=this.b(d,"H'Shift",d.a.Lm,k,p,h,t,a)),0!==d.a.Mm&&(h=this.b(d,"V'Shift",d.a.Mm,k,p,h,t,a))),h=this.b(d,"","",k,p,h,t,a));d.ba[m]=[d.V,"AutoFit"];m+=1;h=this.b(d,"","AutoFit:",k,p,h,t,a);h=this.b(d,"Enabled",d.rc?"On":
"Off",k,p,h,t,a);h=this.b(d,"Mode",this.IG(d),k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Track"];m+=1;h=this.b(d,"","Track:",k,p,h,t,a);h=this.b(d,"Enabled",d.yd&&!d.df?"On":"Off",k,p,h,t,a);d.yd&&(d.Un?(h=this.b(d,"Mode","Track Box",k,p,h,t,a),h=this.b(d,"Definition","E "+d.Uj.toFixed(3)+"  S "+d.Vj.toFixed(3)+"  W "+d.Vk.toFixed(3)+"  N "+d.Uk.toFixed(3),k,p,h,t,a)):(h=this.b(d,"Mode","Track",k,p,h,t,a),h=this.b(d,"Definition","X "+d.Uj.toFixed(3)+"  Y "+d.Vj.toFixed(3),k,p,h,t,a)));h=
this.b(d,"Current","E "+d.Hs.toFixed(3)+"  S "+d.Js.toFixed(3)+"  W "+d.Ks.toFixed(3)+"  N "+d.Is.toFixed(3),k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Undo/Redo"];m+=1;h=this.b(d,"","Undo/Redo:",k,p,h,t,a);h=this.b(d,"Enabled",d.oe?"Off":"On",k,p,h,t,a);if(!d.oe)for(h=this.b(d,"Snapshots",d.a.qg.tL()+"/"+d.a.qg.Hh.length,k,p,h,t,a),h=this.b(d,"Buffer",(d.a.qg.bufferSize()>>10)+"K",k,p,h,t,a),h=this.b(d,"Next Gen",d.a.rn,k,p,h,t,a),h=this.b(d,"Undo",d.qc,k,p,h,t,a),h=this.b(d,"Redo",d.tn-
d.qc,k,p,h,t,a),e=0;9>=e;e+=1)null!==d.zf[e]&&(h=this.b(d,"Clip "+e+(e===d.ag?"*":""),d.zf[e].width+" x "+d.zf[e].height,k,p,h,t,a));h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Engine"];m+=1;h=this.b(d,"","Engine:",k,p,h,t,a);h=this.b(d,"Name",ViewConstants.vF,k,p,h,t,a);h=this.b(d,"Build",ViewConstants.jv,k,p,h,t,a);h=this.b(d,"Author",ViewConstants.uF,k,p,h,t,a);h=this.b(d,"Decoders","RLE, Life 1.06, Life 1.05, Cells",k,p,h,t,a);h=this.b(d,"N'hoods","Moore, Hex, von Neumann, Circular, 1D",k,p,h,t,
a);h=this.b(d,"Rules","Wolfram, Totalistic, Generations, Margolus,",k,p,h,t,a);h=this.b(d," ","Isotropic Non-Totalistic (Hensel, Callahan),",k,p,h,t,a);h=this.b(d," ","Alternating, MAP, Larger than Life (LtL),",k,p,h,t,a);h=this.b(d," ","Higher-range outer-totalistic (HROT),",k,p,h,t,a);h=this.b(d," ","Partitioned cellular automata (PCA)",k,p,h,t,a);h=this.b(d,"Repository","RuleTable (@TABLE, @TREE and @COLORS)",k,p,h,t,a);h=this.b(d,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",k,p,
h,t,a);h=this.b(d,"States","2 state, [R]History, Niemiec, Generations",k,p,h,t,a);h=this.b(d,"Viewers",c,k,p,h,t,a);h=this.b(d,"Playing",Controller.AL(),k,p,h,t,a);if(DocConfig.Ja){u=Controller.pe.length;h=this.b(d,"Universe","Multi ("+(d.Wc+1)+" of "+u+")",k,p,h,t,a);d.tg=!0;for(e=0;e<u;e+=1)h=this.b(d,String(e+1)+(e===d.Wc?"*":""),Controller.pe[e].name,k,p,h,t,a),h=this.b(d," ",Controller.pe[e].kK,k,p,h,t,a),h=this.b(d," ",Controller.pe[e].width+" x "+Controller.pe[e].height,k,p,h,t,a);d.tg=!1}else h=
this.b(d,"Universe","Single",k,p,h,t,a);h=this.b(d,"Endian",littleEndian?"Little":"Big",k,p,h,t,a);h=this.b(d,"ArrayFill",arrayFill?"Yes":"No",k,p,h,t,a);h=this.b(d,"ArraySlice",arraySlice?"Yes":"No",k,p,h,t,a);h=this.b(d,"CopyWithin",copyWithin?"Yes":"No",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.X[1]=300;d.X[2]=380;d.X[3]=460;d.ba[m]=[d.V,"Rule Cache"];m+=1;h=this.b(d,"","Rule Cache:",k,p,h,t,a);h=this.b(d,"Entries",RuleTreeCache.rules.length,k,p,h,t,a);if(0<RuleTreeCache.rules.length)for(h=this.b(d,
"Entry","Name\tSize Kb\tFetch\tDecode",k,p,h,t,a),e=0;e<RuleTreeCache.rules.length;e+=1)x=RuleTreeCache.rules[e].name,17<x.length&&(x=x.substr(0,17)+"*"),h=this.b(d,String(e),x+"\t"+(RuleTreeCache.Tt[e].size>>10)+"\t"+RuleTreeCache.Tt[e].fetch+"ms\t"+RuleTreeCache.Tt[e].decode+"ms",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.X[1]=210;d.X[2]=270;d.X[3]=330;if(d.cd)for(d.ba[m]=[d.V,"Colours"],m+=1,h=this.b(d,"","Set:",k,p,h,t,a),h=this.b(d,"Name",d.eo,k,p,h,t,a),h=this.b(d,"Used",d.er,k,p,h,t,a),e=0;e<
d.Sm.length;e+=1)d.Sm[e]!==ViewConstants.jA&&(c=this.jc(g[e]>>16&255,g[e]>>8&255,g[e]&255),x=String(e),d.Sm[e]!==ViewConstants.aF||d.ns||(x+="*"),this.Va(d,g[e]>>16,g[e]>>8&255,g[e]&255,k,p+d.X[0]*q,h,t,a),h=this.b(d,x,c,k,p,h,t,a));else{d.ba[m]=[d.V,"Theme"];m+=1;h=this.b(d,"","Theme:",k,p,h,t,a);d.a.Y||(h=this.b(d,"Name",d.a.eb[d.a.pf].name,k,p,h,t,a),h=this.b(d,"History",d.J,k,p,h,t,a));this.Va(d,d.a.Ua[0],d.a.Sa[0],d.a.Ra[0],k,p+d.X[0]*q,h,t,a);h=this.b(d,"Background",this.jc(d.a.Ua[0],d.a.Sa[0],
d.a.Ra[0]),k,p,h,t,a);if(d.a.bb||d.a.Y)for(e=1;e<d.a.h;e+=1)this.Va(d,d.a.Ua[e],d.a.Sa[e],d.a.Ra[e],k,p+d.X[0]*q,h,t,a),h=this.b(d,"State "+e,this.jc(d.a.Ua[e],d.a.Sa[e],d.a.Ra[e]),k,p,h,t,a);else if(d.a.G){for(e=1;16>e;e+=1)g=e+d.J,this.Va(d,d.a.Ua[g],d.a.Sa[g],d.a.Ra[g],k,p+d.X[0]*q,h,t,a),x="",e&1&&(x+="N"),e&2&&(x+="E"),e&4&&(x+="S"),e&8&&(x+="W"),h=this.b(d,x,this.jc(d.a.Ua[g],d.a.Sa[g],d.a.Ra[g]),k,p,h,t,a);0<d.J&&(g=d.J,this.Va(d,d.a.Ua[g],d.a.Sa[g],d.a.Ra[g],k,p+d.X[0]*q,h,t,a),h=this.b(d,
"Dead",this.jc(d.a.Ua[g],d.a.Sa[g],d.a.Ra[g]),k,p,h,t,a),1<d.J&&(g=1,this.Va(d,d.a.Ua[g],d.a.Sa[g],d.a.Ra[g],k,p+d.X[0]*q,h,t,a),h=this.b(d,"DeadRamp",this.jc(d.a.Ua[g],d.a.Sa[g],d.a.Ra[g]),k,p,h,t,a)))}else if(2<d.a.h){g=d.a.h+d.J-1;this.Va(d,d.a.Ua[g],d.a.Sa[g],d.a.Ra[g],k,p+d.X[0]*q,h,t,a);h=this.b(d,"Alive",this.jc(d.a.Ua[g],d.a.Sa[g],d.a.Ra[g]),k,p,h,t,a);for(e=1;e<d.a.h-1;e+=1)g=d.a.h-e+d.J-1,this.Va(d,d.a.Ua[g],d.a.Sa[g],d.a.Ra[g],k,p+d.X[0]*q,h,t,a),h=this.b(d,"Dying "+e,this.jc(d.a.Ua[g],
d.a.Sa[g],d.a.Ra[g]),k,p,h,t,a);0<d.J&&(g=d.J,this.Va(d,d.a.Ua[g],d.a.Sa[g],d.a.Ra[g],k,p+d.X[0]*q,h,t,a),h=this.b(d,"Dead",this.jc(d.a.Ua[g],d.a.Sa[g],d.a.Ra[g]),k,p,h,t,a),1<d.J&&(g=1,this.Va(d,d.a.Ua[g],d.a.Sa[g],d.a.Ra[g],k,p+d.X[0]*q,h,t,a),h=this.b(d,"DeadRamp",this.jc(d.a.Ua[g],d.a.Sa[g],d.a.Ra[g]),k,p,h,t,a)))}else this.Va(d,n.mb.T.red,n.mb.T.green,n.mb.T.blue,k,p+d.X[0]*q,h,t,a),h=this.b(d,"Alive",this.Qf(n.mb.T),k,p,h,t,a),n.mb.T.red!==n.mb.U.red||n.mb.T.green!==n.mb.U.green||n.mb.T.blue!==
n.mb.U.blue?(this.Va(d,n.mb.U.red,n.mb.U.green,n.mb.U.blue,k,p+d.X[0]*q,h,t,a),h=this.b(d,"AliveRamp",this.Qf(n.mb.U),k,p,h,t,a)):h=this.b(d,"AliveRamp","    (none)",k,p,h,t,a),0<d.J&&(this.Va(d,n.ab.U.red,n.ab.U.green,n.ab.U.blue,k,p+d.X[0]*q,h,t,a),h=this.b(d,"Dead",this.Qf(n.ab.U),k,p,h,t,a),1<d.J&&(n.ab.T.red!==n.ab.U.red||n.ab.T.green!==n.ab.U.green||n.ab.T.blue!==n.ab.U.blue?(this.Va(d,n.ab.T.red,n.ab.T.green,n.ab.T.blue,k,p+d.X[0]*q,h,t,a),h=this.b(d,"DeadRamp",this.Qf(n.ab.T),k,p,h,t,a)):
h=this.b(d,"DeadRamp","    (none)",k,p,h,t,a)));if(d.a.rb)for(e=3;6>=e;e+=1)u=128+ViewConstants.Ka[e],c=this.jc(d.a.Ua[u],d.a.Sa[u],d.a.Ra[u]),x=ViewConstants.$E[e],this.Va(d,d.a.Ua[u],d.a.Sa[u],d.a.Ra[u],k,p+d.X[0]*q,h,t,a),h=this.b(d,x,c,k,p,h,t,a)}-1!==d.a.bc&&(this.Va(d,d.wl[0],d.wl[1],d.wl[2],k,p+d.X[0]*q,h,t,a),h=this.b(d,"Bounded",this.jc(d.wl[0],d.wl[1],d.wl[2]),k,p,h,t,a));this.Va(d,d.vl[0],d.vl[1],d.vl[2],k,p+d.X[0]*q,h,t,a);h=this.b(d,"Boundary",this.jc(d.vl[0],d.vl[1],d.vl[2]),k,p,h,t,
a);d.dh&&(this.Va(d,d.dh[0],d.dh[1],d.dh[2],k,p+d.X[0]*q,h,t,a),h=this.b(d,"Text",this.jc(d.dh[0],d.dh[1],d.dh[2]),k,p,h,t,a));d.fk&&(this.Va(d,d.fk[0],d.fk[1],d.fk[2],k,p+d.X[0]*q,h,t,a),h=this.b(d,"Error",this.jc(d.fk[0],d.fk[1],d.fk[2]),k,p,h,t,a));this.Va(d,d.yl[0],d.yl[1],d.yl[2],k,p+d.X[0]*q,h,t,a);h=this.b(d,"Select",this.jc(d.yl[0],d.yl[1],d.yl[2]),k,p,h,t,a);this.Va(d,d.xl[0],d.xl[1],d.xl[2],k,p+d.X[0]*q,h,t,a);h=this.b(d,"Paste",this.jc(d.xl[0],d.xl[1],d.xl[2]),k,p,h,t,a);this.Va(d,d.ul[0],
d.ul[1],d.ul[2],k,p+d.X[0]*q,h,t,a);h=this.b(d,"Advance",this.jc(d.ul[0],d.ul[1],d.ul[2]),k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Gridlines"];m+=1;h=this.b(d,"","Gridlines:",k,p,h,t,a);x=d.a.Wb?"On":"Off";d.a.Wb&&!d.a.ah()&&(x+=" (Hidden)");h=this.b(d,"Enabled",x,k,p,h,t,a);this.Va(d,d.a.Ud>>16,d.a.Ud>>8&255,d.a.Ud&255,k,p+d.X[0]*q,h,t,a);h=this.b(d,"Line Color",this.jc(d.a.Ud>>16,d.a.Ud>>8&255,d.a.Ud&255),k,p,h,t,a);this.Va(d,d.a.gg>>16,d.a.gg>>8&255,d.a.gg&255,k,p+d.X[0]*q,h,t,a);h=
this.b(d,"Major Color",this.jc(d.a.gg>>16,d.a.gg>>8&255,d.a.gg&255),k,p,h,t,a);x=0<d.a.vf&&d.a.pk?String(d.a.vf):"Off";h=this.b(d,"Interval",x,k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Graph"];m+=1;h=this.b(d,"","Population Graph:",k,p,h,t,a);h=this.b(d,"Enabled",d.Sc?"On":"Off",k,p,h,t,a);h=this.b(d,"Disabled",d.Fc?"On":"Off",k,p,h,t,a);h=this.b(d,"Mode",d.Lg?"Lines":"Points",k,p,h,t,a);h=this.b(d,"Opacity",d.qd.toFixed(2),k,p,h,t,a);this.Va(d,d.a.Fi[0],d.a.Fi[1],d.a.Fi[2],k,p+d.X[0]*
q,h,t,a);h=this.b(d,"Bg Color",this.jc(d.a.Fi[0],d.a.Fi[1],d.a.Fi[2]),k,p,h,t,a);this.Va(d,d.a.Ei[0],d.a.Ei[1],d.a.Ei[2],k,p+d.X[0]*q,h,t,a);h=this.b(d,"Axis Color",this.jc(d.a.Ei[0],d.a.Ei[1],d.a.Ei[2]),k,p,h,t,a);this.Va(d,d.a.Di[0],d.a.Di[1],d.a.Di[2],k,p+d.X[0]*q,h,t,a);h=this.b(d,"Alive Color",this.jc(d.a.Di[0],d.a.Di[1],d.a.Di[2]),k,p,h,t,a);this.Va(d,d.a.Gi[0],d.a.Gi[1],d.a.Gi[2],k,p+d.X[0]*q,h,t,a);h=this.b(d,"Birth Color",this.jc(d.a.Gi[0],d.a.Gi[1],d.a.Gi[2]),k,p,h,t,a);this.Va(d,d.a.Hi[0],
d.a.Hi[1],d.a.Hi[2],k,p+d.X[0]*q,h,t,a);h=this.b(d,"Death Color",this.jc(d.a.Hi[0],d.a.Hi[1],d.a.Hi[2]),k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Randomize"];m+=1;h=this.b(d,"","Randomize:",k,p,h,t,a);h=this.b(d,"Custom Seed",d.xz?"On":"Off",k,p,h,t,a);h=this.b(d,"Seed",d.yu,k,p,h,t,a);h=this.b(d,"Width",d.Au,k,p,h,t,a);h=this.b(d,"Height",d.vu,k,p,h,t,a);h=this.b(d,"Fill",d.uu+"%",k,p,h,t,a);h=this.b(d,"Rule Fixed",d.tr?"Yes":"No",k,p,h,t,a);if(!d.tr)if(d.a.ia||d.a.G)h=this.b(d,"Reversible",
d.wu?"Only":"Any",k,p,h,t,a),h=this.b(d,"FixedPop",d.zu?"Yes":"No",k,p,h,t,a);else if(!d.a.za&&-1===d.a.Nd){if(-1===d.Ek&&-1===d.jm){h=this.b(d,"Chance ALL"+(-1===d.Dk?"*":""),-1===d.Dk?"50%":d.Dk+"%",k,p,h,t,a);u=!1;for(e=0;e<d.rh.length;e+=2)0===d.rh[e]&&(u=!0);u||(h=this.b(d,"Chance B0*","25%",k,p,h,t,a))}else h=this.b(d,"Chance B"+(-1===d.Ek?"*":""),-1===d.Ek?"50%":d.Ek+"%",k,p,h,t,a),h=this.b(d,"Chance S"+(-1===d.jm?"*":""),-1===d.jm?"50%":d.jm+"%",k,p,h,t,a);for(e=0;e<d.rh.length;e+=2)h=this.b(d,
"Chance B"+d.rh[e],d.rh[e+1]+"%",k,p,h,t,a);for(e=0;e<d.Pi.length;e+=2)h=this.b(d,"Chance S"+d.Pi[e],d.Pi[e+1]+"%",k,p,h,t,a)}h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Stars"];m+=1;h=this.b(d,"","Stars:",k,p,h,t,a);h=this.b(d,"Enabled",d.bi?"On":"Off",k,p,h,t,a);this.Va(d,d.Pk.red,d.Pk.green,d.Pk.blue,k,p+d.X[0]*q,h,t,a);h=this.b(d,"Color",this.Qf(d.Pk),k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Script"];m+=1;h=this.b(d,"","Script:",k,p,h,t,a);h=this.b(d,"Commands",d.un,k,p,h,t,a);h=this.b(d,
"Errors",d.By,k,p,h,t,a);if(d.Xc)for(h=this.b(d,"","",k,p,h,t,a),d.ba[m]=[d.V,"Waypoints"],m+=1,h=this.b(d,"","Waypoints:",k,p,h,t,a),h=this.b(d,"Enabled",d.Ke?"Off":"On",k,p,h,t,a),h=this.b(d,"Number",d.S.La.length,k,p,h,t,a),e=0;e<d.S.La.length;e+=1)x=String(e),e===d.S.Qk&&(x=d.S.JB(d.elapsedTime)?x+">":x+"*"),h=this.b(d,x,d.S.BL(e),k,p,h,t,a);if(d.S.oc.length)for(h=this.b(d,"","",k,p,h,t,a),d.ba[m]=[d.V,"POIs"],h=this.b(d,"","Points of interest:",k,p,h,t,a),h=this.b(d,"Number",d.S.oc.length,k,
p,h,t,a),e=0;e<d.S.oc.length;e+=1)x=String(e+1),e===d.wg&&(x+="*"),e===d.Tm&&(x+=" INITIAL"),u=!1,m=d.S.pJ(e),""!==m&&(h=this.b(d,u?" ":x,(u?"  ":"")+m,k,p,h,t,a),u=!0),m=d.S.tJ(e),""!==m&&(h=this.b(d,u?" ":x,(u?"  ":"")+m,k,p,h,t,a),u=!0),m=d.S.qJ(e),""!==m&&(h=this.b(d,u?" ":x,(u?"  ":"")+m,k,p,h,t,a),u=!0),m=d.S.oE(e),""!==m&&(h=this.b(d,u?" ":x,(u?"  ":"")+m,k,p,h,t,a),u=!0),m=d.S.sJ(e),""!==m&&(h=this.b(d,u?" ":x,(u?"  ":"")+m,k,p,h,t,a),u=!0),m=d.S.rJ(e),""!==m&&(h=this.b(d,u?" ":x,(u?"  ":
"")+m,k,p,h,t,a))},XJ:function(d,k,p,h,t,a){var e,c=0,g=d.i.ff;d.V=1;d.tg=!1;d.ba=[];d.X[0]=130;d.X[1]=200;d.X[2]=250;d.X[3]=300;d.ba[c]=[d.V,"Top"];c+=1;h=this.b(d,"","Themes",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);h=this.b(d,"","Themes are used to provide a visual representation of",k,p,h,t,a);h=this.b(d,"","cell history and longevity and also define grid colours",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Grid"];c+=1;h=this.b(d,"","Grid:",k,p,h,t,a);h=this.b(d,"GRID","grid line colour",
k,p,h,t,a);h=this.b(d,"GRIDMAJOR","major grid line colour and interval",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"2-State"];c+=1;h=this.b(d,"","Two-state Themes:",k,p,h,t,a);h=this.b(d,"BACKGROUND","cell never occupied",k,p,h,t,a);h=this.b(d,"ALIVE","cell just born",k,p,h,t,a);h=this.b(d,"ALIVERAMP","cell alive for several generations",k,p,h,t,a);h=this.b(d,"DEAD","cell just died",k,p,h,t,a);h=this.b(d,"DEADRAMP","cell dead for several generations",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);
h=this.b(d,"",LifeConstants.ee-LifeConstants.ub+1+" states from ALIVE to ALIVERAMP",k,p,h,t,a);h=this.b(d,"",d.J+" (HISTORYSTATES) states from DEAD to DEADRAMP",k,p,h,t,a);for(e=0;e<d.a.eb.length-1;e+=1){h=this.b(d,"","",k,p,h,t,a);var n=d.a.eb[e];h=this.b(d,"Name"+(e===d.a.pf&&2>=d.a.h?"*":""),n.name,k,p,h,t,a);this.Va(d,n.Za.red,n.Za.green,n.Za.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"BACKGROUND",this.Qf(n.Za),k,p,h,t,a);this.Va(d,n.mb.T.red,n.mb.T.green,n.mb.T.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"ALIVE",
this.Qf(n.mb.T),k,p,h,t,a);if(n.mb.T.red!==n.mb.U.red||n.mb.T.green!==n.mb.U.green||n.mb.T.blue!==n.mb.U.blue)this.Va(d,n.mb.U.red,n.mb.U.green,n.mb.U.blue,k,p+d.X[0]*g,h,t,a),h=this.b(d,"ALIVERAMP",this.Qf(n.mb.U),k,p,h,t,a);this.Va(d,n.ab.U.red,n.ab.U.green,n.ab.U.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"DEAD",this.Qf(n.ab.U),k,p,h,t,a);if(n.ab.T.red!==n.ab.U.red||n.ab.T.green!==n.ab.U.green||n.ab.T.blue!==n.ab.U.blue)this.Va(d,n.ab.T.red,n.ab.T.green,n.ab.T.blue,k,p+d.X[0]*g,h,t,a),h=this.b(d,"DEADRAMP",
this.Qf(n.ab.T),k,p,h,t,a);n.nk&&(this.Va(d,n.gh>>16,n.gh>>8&255,n.gh&255,k,p+d.X[0]*g,h,t,a),h=this.b(d,"GRID",this.jc(n.gh>>16,n.gh>>8&255,n.gh&255),k,p,h,t,a),this.Va(d,n.hh>>16,n.hh>>8&255,n.hh&255,k,p+d.X[0]*g,h,t,a),h=this.b(d,"GRIDMAJOR",this.jc(n.hh>>16,n.hh>>8&255,n.hh&255),k,p,h,t,a),h=this.b(d,"GRIDMAJOR",n.fn,k,p,h,t,a))}h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Multi"];h=this.b(d,"","Multi-state Themes:",k,p,h,t,a);h=this.b(d,"BACKGROUND","cell never occupied",k,p,h,t,a);h=this.b(d,"ALIVE",
"cell alive",k,p,h,t,a);h=this.b(d,"DYING","cell just starting dying",k,p,h,t,a);h=this.b(d,"DYINGRAMP","cell about to die",k,p,h,t,a);h=this.b(d,"DEAD","cell just died",k,p,h,t,a);h=this.b(d,"DEADRAMP","cell dead for several generations",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);h=this.b(d,"","Rule defines "+(2>d.a.h?"":String(d.a.h-1)+" ")+"states from DYING to DYINGRAMP",k,p,h,t,a);h=this.b(d,"",d.J+" (HISTORYSTATES) states from DEAD to DEADRAMP",k,p,h,t,a);for(e=0;e<d.a.eb.length-1;e+=1){h=this.b(d,
"","",k,p,h,t,a);n=d.a.eb[e];h=this.b(d,"Name"+(e===d.a.pf&&2<d.a.h?"*":""),n.name,k,p,h,t,a);this.Va(d,n.hi.red,n.hi.green,n.hi.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"BACKGROUND",this.Qf(n.hi),k,p,h,t,a);this.Va(d,n.Yf.red,n.Yf.green,n.Yf.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"ALIVE",this.Qf(n.Yf),k,p,h,t,a);this.Va(d,n.Qb.U.red,n.Qb.U.green,n.Qb.U.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"DYING",this.Qf(n.Qb.U),k,p,h,t,a);if(n.Qb.T.red!==n.Qb.U.red||n.Qb.T.green!==n.Qb.U.green||n.Qb.T.blue!==n.Qb.U.blue)this.Va(d,
n.Qb.T.red,n.Qb.T.green,n.Qb.T.blue,k,p+d.X[0]*g,h,t,a),h=this.b(d,"DYINGRAMP",this.Qf(n.Qb.T),k,p,h,t,a);this.Va(d,n.yc.U.red,n.yc.U.green,n.yc.U.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"DEAD",this.Qf(n.yc.U),k,p,h,t,a);if(n.yc.T.red!==n.yc.U.red||n.yc.T.green!==n.yc.U.green||n.yc.T.blue!==n.yc.U.blue)this.Va(d,n.yc.T.red,n.yc.T.green,n.yc.T.blue,k,p+d.X[0]*g,h,t,a),h=this.b(d,"DEADRAMP",this.Qf(n.yc.T),k,p,h,t,a)}},PJ:function(d,k,p,h,t,a){var e,c=ColourManager.ze,g=Object.keys(c),n=d.i.ff;d.V=1;d.tg=
!1;d.ba=[];d.X[0]=260;d.X[1]=330;d.X[2]=380;d.X[3]=d.C;d.ba[0]=[d.V,"Top"];h=this.b(d,"","Colours",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);h=this.b(d,"","The following names can be used in place of R G B",k,p,h,t,a);h=this.b(d,"","for example [[ COLOUR ALIVE Green ]]",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);for(e=0;e<g.length;e+=1){var m=c[g[e]];this.Va(d,m[1],m[2],m[3],k,p+d.X[0]*n,h,t,a);h=this.b(d,m[0],this.jc(m[1],m[2],m[3]),k,p,h,t,a)}},NJ:function(d,k,p,h,t,a){var e,c=0,g=AliasManager.Ad,n=AliasManager.Uz;
d.V=1;d.tg=!1;d.ba=[];d.X[0]=260;d.ba[c]=[d.V,"Top"];c+=1;h=this.b(d,"","Aliases",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);h=this.b(d,"","Alias names can be used as rule names in RLE",k,p,h,t,a);h=this.b(d,"","for example 'rule = HighLife'",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);h=this.b(d,"","* denotes duplicate rule",k,p,h,t,a);d.tg=!0;for(e=0;e<g.length;e+=1)""===g[e][1]?(h=this.b(d,"","",k,p,h,t,a),d.ba[c]=[d.V,n[c-1]],c+=1,h=this.b(d,"",g[e][0]+" Aliases:",k,p,h,t,a)):""!==g[e][0]&&(h=this.b(d,
g[e][0]+(g[e][2]?"*":""),g[e][1],k,p,h,t,a))},VJ:function(d,k,p,h,t,a){var e,c=0,g=Controller.Md.length,n=0,m=0,q=0,u=0,x;d.V=1;d.tg=!1;d.ba=[];d.X[0]=128;d.X[1]=200;d.X[2]=290;d.X[3]=530;d.ba[c]=[d.V,"Top"];c+=1;h=this.b(d,"","Memory usage",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);if(1<g){d.ba[c]=[d.V,"All"];c+=1;h=this.b(d,"","Memory (all "+g+" LifeViewers):",k,p,h,t,a);for(e=0;e<g;e+=1)if(x=Controller.iI(e))n+=x.a.m.Rq,q+=x.a.m.Sn>>10,m+=x.a.m.Tq,u+=x.a.m.Tn>>10;h=this.b(d,"In Use",n-m+"\t"+((q>>
10)-(u>>10))+"M",k,p,h,t,a);h=this.b(d,"Allocations",n+"\t"+(q>>10)+"M",k,p,h,t,a);h=this.b(d,"Frees",m+"\t"+(u>>10)+"M",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a)}d.ba[c]=[d.V,"Current"];h=this.b(d,"","Memory (this LifeViewer):",k,p,h,t,a);h=this.b(d,"In Use",d.a.m.Rq-d.a.m.Tq+"\t"+this.qw(d.a.m.Sn-d.a.m.Tn)+"M\t"+(d.a.m.Sn-d.a.m.Tn),k,p,h,t,a);h=this.b(d,"Allocations",d.a.m.Rq+"\t"+this.qw(d.a.m.Sn)+"M\t"+d.a.m.Sn,k,p,h,t,a);h=this.b(d,"Frees",d.a.m.Tq+"\t"+this.qw(d.a.m.Tn)+"M\t"+d.a.m.Tn,k,p,h,t,
a);h=this.b(d,this.OD("Bytes",10),"Type\tElements\tName\tCount",k,p,h,t,a);for(e=0;e<d.a.m.Zg.length;e+=1)h=this.b(d,this.OD(String(d.a.m.Zg[e].size),10),d.a.m.yG(e),k,p,h,t,a);this.b(d,"","",k,p,h,t,a)},ix:function(d){var k=d.vc,p=d.i.ff,h=d.i.Bh,t=19*h;d.dd=(d.B/t|0)-6;k.fillStyle="black";k.globalAlpha=.5;k.fillRect(0,0,k.canvas.width,k.canvas.height);k.globalAlpha=1;k.fillStyle=ViewConstants.mq;this.$z=-2;this.CE(d,k,6*p,14*h,t,d.ha|0);k.fillStyle=ViewConstants.uo;this.$z=0;this.CE(d,k,4*p,12*
h,t,d.ha|0)},QJ:function(d,k,p,h,t,a,e,c,g,n){var m=c,q=d.i.ff,u=0,x=!1,y=d.V;a.fillStyle===ViewConstants.mq&&(x=!0);y>=n&&y<=n+d.dd&&(a.font=d.to,x||(a.fillStyle=1<(d.$b|0)?d.Ci:ViewConstants.kt),a.fillText(k,e,c),x||(a.fillStyle=d.Ci),a.fillText(p,e+a.measureText(k).width,c),x||(a.fillStyle=(d.$b|0)<d.fd.length-d.dd+1?d.Ci:ViewConstants.kt),a.fillText(h,e+a.measureText(k+p).width,c),d.X[0]&&(u=d.X[0]*q),x||(a.fillStyle=d.Ci),a.font=d.Kl,a.fillText(t,e+u,c),m+=g);return m},Fu:function(d,k,p,h,t,
a,e,c){var g=a,n=d.i.ff,m=0,q=d.V;q>=c&&q<=c+d.dd&&(k.length&&(h.font=d.to,h.fillText(k,t,a),m=h.measureText(k+" ").width),d.X[0]&&(m=d.X[0]*n),h.font=d.Kl,h.fillText(p,t+m,a),g+=e);d.V+=1;return g},BE:function(d,k,p,h,t,a){var e,c=d.fd,g=h;d.V=1;d.X[0]=0;k.font=d.Kl;h=this.Fu(d,"",ViewConstants.yK,k,p,h,t,a);for(e=0;e<c.length;e+=1)h=this.Fu(d,c[e][0],c[e][1],k,p,h,t,a);d.jb||(d.X[0]=120,d.V=1,h=g+t*(d.dd+2),h=this.QJ(d,"Up"," / ","Down","scroll errors",k,p,h,t,0),h=this.Fu(d,"Esc","clear messages",
k,p,h,t,0),this.Fu(d,"H  ","help on script commands",k,p,h,t,0))},hx:function(d){var k=d.vc,p=d.i.ff,h=d.i.Bh,t=19*h,a=7;d.jb&&(a=1);d.dd=(d.B/t|0)-a;k.fillStyle="black";k.globalAlpha=.5;k.fillRect(0,0,k.canvas.width,k.canvas.height);k.globalAlpha=1;k.fillStyle=ViewConstants.mq;this.BE(d,k,6*p,14*h,t,d.$b|0);k.fillStyle=d.Ci;this.BE(d,k,4*p,12*h,t,d.$b|0)}}}(),window.Keywords={rd:'"',Gn:"[[",ip:"]]",zE:"QUALITY",gF:"TIME",mA:"SUPPRESS",iu:"POIT",cc:"INITIAL",Ob:"OFF",iA:"STATE1FIT",kr:"POIRESET",
Wo:"POIPLAY",Xo:"POISTOP",lr:"POITRANS",yx:"HARDRESET",Vr:"TRACK",Vn:"TRACKBOX",Ur:"TRACKLOOP",wy:"NOREPORT",jt:"GRAPH",$t:"NOGRAPH",vx:"GRAPHOPACITY",wx:"GRAPHPOINTS",vy:"NOPERFWARNING",Ex:"AUTOHIDEGUI",Zf:"ALL",ih:"LINEAR",wi:"BEZIER",HL:"HEXDISPLAY",PL:"SQUAREDISPLAY",Ax:"HEXCELLS",eA:"SQUARECELLS",MB:"CELLBORDERS",SC:"INTEGERZOOM",yz:"RANDSEED",Az:"RANDWIDTH",uz:"RANDHEIGHT",sz:"RANDFILL",wz:"RANDREVERSIBLE",zz:"RANDFIXEDPOP",su:"RANDCHANCE",ru:"B",xu:"S",bx:"DELETERANGE",cA:"SHOWTIMING",px:"EXTENDEDTIMING",
aA:"SHOWGENSTATS",bA:"SHOWINFOBAR",yy:"NOSOURCE",ju:"POI",sp:"TITLE",uE:"POLY",ku:"POLYFILL",kz:"POLYLINE",iz:"POLYALPHA",lz:"POLYSIZE",mz:"POLYT",jz:"POLYANGLE",nz:"POLYTARGET",tE:"POLYTRACK",Bp:"ARROW",kw:"ARROWALPHA",mw:"ARROWSIZE",nw:"ARROWT",lw:"ARROWANGLE",ow:"ARROWTARGET",pw:"ARROWTRACK",Gq:"LABEL",Ux:"LABELALPHA",Wx:"LABELSIZE",Xx:"LABELT",Vx:"LABELANGLE",Yx:"LABELTARGET",Zx:"LABELTRACK",je:"FIXED",hy:"MAXGRIDSIZE",Gr:"STARS",rp:"CUSTOM",ov:"XOFFSET",qv:"YOFFSET",$u:"BACKGROUND",Zu:"ALIVE",
sA:"ALIVERAMP",bv:"DEAD",av:"DEADRAMP",uA:"DYING",tA:"DYINGRAMP",mF:"UIFOREGROUND",UL:"UIFOREGROUNDA",kF:"UIBACKGROUND",SL:"UIBACKGROUNDA",nF:"UIHIGHLIGHT",VL:"UIHIGHTLIGHTA",qF:"UISELECT",XL:"UISELECTA",oF:"UILOCKED",WL:"UILOCKEDA",lF:"UIBORDER",TL:"UIBORDERA",NB:"BOUNDARY",PB:"BOUNDED",WE:"SELECT",BB:"ADVANCE",ts:"AUTOFIT",Fx:"HISTORYFIT",vt:"HISTORYSTATES",Nn:"STEP",uy:"NOSTEPBACK",Ir:"T",dz:"PAUSE",jq:"GRID",iq:"GRIDMAJOR",qA:"TEXT",ox:"ERROR",LD:"OFF",MD:"ON",OC:"HISTORY",eD:"MARK1",iD:"MARKOFF",
gD:"MARK2",WC:"KILL",EC:"GRAPHBG",DC:"GRAPHAXIS",CC:"GRAPHALIVE",FC:"GRAPHBIRTH",GC:"GRAPHDEATH",Ea:"COLOR",Gw:"COLOUR",ds:"VIEWONLY",ty:"NOGUI",sy:"NOCOPY",BA:"THUMBNAIL",yA:"THUMBSIZE",wA:"THUMBLAUNCH",Sk:"THEME",vs:"AUTOSTART",Ii:"LOOP",Yi:"STOP",kl:"ANGLE",on:"LAYERS",Vm:"DEPTH",en:"GPS",Od:"ZOOM",iw:"Z",gf:"X",hf:"Y",wp:"WIDTH",so:"HEIGHT",nr:"POPUPWIDTH",mr:"POPUPHEIGHT",AA:"THUMBZOOM",zy:"NOTHROTTLE",Iz:"REVERSESTART",Tx:"KILLGLIDERS",bp:"RECIPE",En:"RLE",Ro:"PASTE",ar:"PASTET",Ey:"PASTEDELTA",
bq:"EVERY",Vy:"PASTEMODE",az:"ZERO",My:"AND",Hy:"0010",Xy:"X",Iy:"DIFF",$y:"Y",Zy:"XOR",Uy:"OR",Qy:"NOR",Wy:"XNOR",Sy:"NOTY",Jy:"1011",Ry:"NOTX",Ky:"1101",Py:"NAND",Ty:"ONE",Oy:"COPY",QA:"IDENTITY",NA:"FLIP",OA:"FLIPX",PA:"FLIPY",TA:"SWAPXY",UA:"SWAPXYFLIP",SA:"RCW",RA:"RCCW",Vf:"#"},function(){window.KeyProcessor={EJ:function(d,k,p){var h=!0;if(p.ctrlKey&&82===k)return!0;switch(k){case 13:d.Rj===d.Pn&&d.aC(d,!0);break;case 84:d.$n([!d.s.Ok],!0,d);break;default:h=!1}return h},GJ:function(d,k,p){var h=
!0;if(p.ctrlKey||p.metaKey||p.altKey)k=-1;switch(k){case 84:d.$n([!d.s.Ok],!0,d);break;case 27:case 117:d.Ix(d);break;default:h=!1}return h},FJ:function(d,k,p){var h=!0;if(p.ctrlKey||p.metaKey||p.altKey)k=-1;switch(k){case 84:d.$n([!d.s.Ok],!0,d);break;default:h=!1}return h},DJ:function(d,k,p){var h=!0,t=0;if(d.Ic)!d.Zt&&85===k&&p.shiftKey&&(d.Ic=!d.Ic,d.i.c=d.Ic,d.s.Ic=d.Ic);else{p.ctrlKey&&!p.altKey&&37<=k&&40>=k&&(37===k?k=33:38===k?k=36:39===k?k=34:40===k&&(k=35));if(p.altKey&&!p.ctrlKey){if(48<=
k&&57>=k)t=k-48,d.Tf||0===d.S.oc.length?d.ag===t?d.bd?d.cz(d):d.kE(d):(d.Kp.current=d.zF(t,!0,d),d.bd?d.cz(d,t):d.s.notification.L("Clipboard "+t+" active",80,!0)):(--t,0<=t&&t<d.S.oc.length&&(d.wg=t,d.Xz(d,d.wg)));else switch(k){case 37:d.bm(d,-1,0);break;case 38:d.bm(d,0,-1);break;case 39:d.bm(d,1,0);break;case 40:d.bm(d,0,1);break;case 46:d.Cw(d,!0,!0);d.s.notification.L("Cleared [R]History marked cells",120,!0);break;case 65:d.Im.current=d.dB([!d.oj],!0,d);d.s.notification.L("Auto-Shrink Selection "+
(d.oj?"On":"Off"),40,!0);break;case 66:d.Fp.current=d.yF([!d.a.nd],!0,d);break;case 67:d.cd||!d.fi||d.fi.locked||(d.om(d.$s,d.a.sl,d),d.a.bb||d.Oj||d.s.notification.L(d.cv(d.a.pf)+" Theme",40,!0));break;case 68:d.a.ia&&(d.Gm.current=d.wF([!d.a.il],!0,d),d.s.notification.L("Alternating Gridlines "+(d.a.il?"On":"Off"),40,!0));break;case 71:d.a.xi=!d.a.xi;d.s.notification.L("Kill Gliders "+(d.a.xi?"On":"Off"),40,!0);break;case 72:d.a.rb&&(d.a.If=!0,d.a.yg=!0,d.s.notification.L("[R]History Display "+
(d.a.If?"On":"Off"),40,!0));break;case 74:d.a.rb&&(d.a.If=!1,d.a.yg=!1,d.s.notification.L("[R]History Display "+(d.a.If?"On":"Off"),40,!0));break;case 75:d.td.current!==ViewConstants.Vl&&(d.td.current=d.Yj(ViewConstants.Vl,!0,d));d.jr=!0;d.oh.current=d.Tj([!0],!0,d);break;case 76:0<d.S.Jo()&&(d.Pl.current=d.EF([!d.ai],!0,d),d.s.notification.L("Annotations "+(d.ai?"On":"Off"),40,!0));break;case 78:d.GD(d);break;case 79:d.Ue&&(d.$f=!d.$f,d.Jm.current=[d.$f],d.s.notification.L("AutoStart "+(d.$f?"Off":
"On"),40,!0));break;case 80:-1!==d.Tb&&(d.Je=!d.Je,d.xm.current=[d.Je],d.s.notification.L("Stop "+(d.Je?"Off":"On"),40,!0));break;case 82:d.TB(d);break;case 83:d.ho.current=d.eB([!d.wj],!0,d);d.s.notification.L("Sync Clipboard "+(d.wj?"On":"Off"),40,!0);break;case 84:d.Am.current=d.EA([!d.pl],!0,d);d.s.notification.L("Throttling "+(d.pl?"On":"Off"),40,!0);break;case 88:d.wC(d);break;case 89:d.xC(d);break;case 90:d.$o.locked||d.vz(d,!1)}k=-2}switch(k){case 191:case 111:d.a.R&&(d.Ll.current=d.BF([!d.a.te],
!0,d),d.s.notification.L("Hex display uses "+(d.a.te?"Hexagons":"Squares"),40,!0));break;case 8:d.Ia||(d.Fb.current=d.Yd(ViewConstants.Io,!0,d));break;case 66:if(!d.Ia&&!d.Fb.Ag[1]){if(d.a.ia||d.a.G)t=d.Da,d.Da=1;d.Fb.current=d.Yd(ViewConstants.Io,!0,d);if(d.a.ia||d.a.G)d.Da=t}break;case 13:d.bd||d.ie?d.jJ(d):d.Ia||(d.Fb.current===ViewConstants.yk?d.Fb.current=d.Yd(ViewConstants.yk,!0,d):d.he&&d.s.Pc||(d.Fb.current=d.Yd(ViewConstants.yk,!0,d)));break;case 9:d.Ia||(d.Wa?d.Fb.current=d.Yd(ViewConstants.$e,
!0,d):p.shiftKey?(d.a.ia||d.a.G)&&null!==d.a.zc?d.Fb.current=d.Yd(ViewConstants.Io,!0,d):0<d.a.v&&(d.xr(d.a.v-d.Da),d.Zz(d.a.v-d.Da+1)):(d.Yh=!0,d.yb("")));break;case 32:d.Ia||(d.Wa?d.Fb.current=d.Yd(ViewConstants.$e,!0,d):p.ctrlKey||p.shiftKey?d.VH(d,p.shiftKey):(d.Yh=!0,d.dA=!0,d.yb("")));break;case 87:p.shiftKey?(d.qm.current=d.CA([!d.Oi],!0,d),d.s.notification.L("Performance Warning "+(d.Oi?"On":"Off"),40,!0)):d.yd?d.Yg.current=d.FA([d.df],!0,d):d.Xc&&(d.Yg.current=d.FA([d.Ke],!0,d));break;case 69:!d.Kd.locked&&
d.Da<ViewConstants.kg&&(d.Da=p.shiftKey?ViewConstants.kg:d.Da+1,d.Kd.current=d.Fm([d.Da,d.Da],!0,d));break;case 68:!d.Kd.locked&&d.Da>ViewConstants.qn&&(p.shiftKey?d.Da=ViewConstants.qn:--d.Da,d.Kd.current=d.Fm([d.Da,d.Da],!0,d));break;case 90:p.ctrlKey?(p.altKey&&(d.$o.locked||d.vz(d,!0)),p.shiftKey?d.Dz(d):d.Wj.locked||d.XA(d)):p.shiftKey?(t=Controller.XK(),0===t?d.s.notification.L("No LifeViewers playing",100,!0):1<t&&d.s.notification.L("Paused all LifeViewers",100,!0)):(t=Controller.YK(d),0<t&&
(1<t?d.s.notification.L("Paused "+t+" other LifeViewers",100,!0):d.s.notification.L("Paused "+t+" other LifeViewer",100,!0)));break;case 88:p.ctrlKey?d.yE(d,p.shiftKey,p.altKey):p.shiftKey?(d.Cj.current=d.FF([!d.a.pk],!0,d),0<d.a.vf&&(d.s.notification.L("Major Grid Lines "+(d.a.pk?"On":"Off"),40,!0),d.WB())):(d.a.Wb=!d.a.Wb,d.Qh.current=d.tp([d.a.Wb],!0,d),d.s.notification.L("Grid Lines "+(d.a.Wb?"On":"Off"),40,!0));break;case 89:p.ctrlKey?d.Dz(d):d.Fc?d.s.notification.L("Graph Disabled",40,!0):p.shiftKey?
(d.Lg=!d.Lg,d.Go.current=d.iF([d.Lg],!0,d),d.s.notification.L("Graph "+(d.Lg?"Lines":"Points"),40,!0)):(d.Sc=!d.Sc,d.Hl.current=d.fB([d.Sc],!0,d),d.s.notification.L("Population Graph "+(d.Sc?"On":"Off"),40,!0));break;case 75:p.ctrlKey?p.altKey?(d.Cw(d,!1,!1),t=d.cg,2<d.a.h&&!d.a.G&&!d.a.Y&&0<t&&(t=d.a.h-t),d.a.Y?d.s.notification.L("Cleared state "+t+" cells",120,!0):d.s.notification.L("Cleared "+d.ux(t)+" cells",120,!0)):d.Eu(d):p.shiftKey?(d.bC(d,!0),d.s.notification.L("Copied view to clipboard",
180,!0)):(d.bC(d,!1),d.s.notification.L("Copied position to clipboard",180,!0));break;case 80:p.shiftKey?-1!==d.Xa&&(d.Hc=!d.Hc,d.Rl.current=[d.Hc],d.s.notification.L("Loop "+(d.Hc?"Off":"On"),40,!0)):d.cd||d.Zc.locked||(d.Zc.current=.99>=d.Zc.current[0]?d.Wk([d.Zc.current[0]+.01,d.Zc.current[1]],!0,d):d.Wk([1,d.Zc.current[1]],!0,d));break;case 76:p.shiftKey?d.rH(d):d.cd||d.Zc.locked||(d.Zc.current=.01<=d.Zc.current[0]?d.Wk([d.Zc.current[0]-.01,d.Zc.current[1]],!0,d):d.Wk([0,d.Zc.current[1]],!0,d));
break;case 81:p.ctrlKey?(d.sr.current=d.GF([!d.a.Ng],!0,d),d.s.notification.L((d.a.Ng?"High":"Standard")+" Quality Rendering",80,!0)):!d.cd&&!d.Wd.locked&&d.Wd.current[0]<ViewConstants.Pt&&(d.Wd.current=d.cs([d.a.M+1,d.Wd.current[1]],!0,d));break;case 65:p.shiftKey?d.vb&&d.us(d):p.ctrlKey?d.TE(d):!d.cd&&!d.Wd.locked&&d.Wd.current[0]>ViewConstants.Vt&&(d.Wd.current=d.cs([d.a.M-1,d.Wd.current[1]],!0,d));break;case 82:p.shiftKey?Controller.$J():d.Fb.current=d.Yd(ViewConstants.qy,!0,d);break;case 83:p.ctrlKey?
(d.Pz(d),d.s.notification.L("Saved",120,!0)):p.shiftKey?d.a.rb&&(d.di=!d.di,d.s.notification.L("AutoFit State 1 Mode "+(d.di?"On":"Off"),40,!0)):(d.np.current=d.JF([!d.bi],!0,d),d.s.notification.L("Stars "+(d.bi?"On":"Off"),40,!0));break;case 78:d.Tk&&(d.jb?d.nA():(d.oA(),d.ha&&(d.ha=0)));break;case 86:p.ctrlKey?d.pu(d,p.shiftKey):p.shiftKey?(d.RE(d),d.s.notification.L("Saved camera position",100,!0)):d.Cd||(d.eK(d),d.s.notification.L("Restored camera position",100,!0),d.Wa||(d.Dg=!0));break;case 221:d.Cd||
(p.shiftKey?d.yp(d.Cc.current[0],Math.log(d.a.zoom*d.a.Jc*2/ViewConstants.wa)/Math.log(ViewConstants.Na/ViewConstants.wa)-d.Cc.current[0]):d.yp(d.Cc.current[0],.01));break;case 219:d.Cd||(p.shiftKey?d.yp(d.Cc.current[0],Math.log(d.a.zoom*d.a.Jc/2/ViewConstants.wa)/Math.log(ViewConstants.Na/ViewConstants.wa)-d.Cc.current[0]):d.yp(d.Cc.current[0],-.01));break;case 53:case 101:p.ctrlKey?p.shiftKey?d.a.G||d.tu(d,!0):d.Zi(5):p.shiftKey?d.tu(d,!1):d.Bd.locked||(d.a.angle=0,d.Bd.current=[d.a.angle,d.a.angle]);
break;case 49:case 97:p.ctrlKey?d.Zi(1):p.shiftKey?(d.Ih(d,d.a.zoom*d.a.Jc,!0),d.s.notification.L("Integer Zoom",40,!0)):d.Ih(d,1,!1);break;case 50:case 98:p.ctrlKey?d.Zi(2):p.shiftKey?d.Ih(d,.5,!1):d.Ih(d,2,!1);break;case 51:case 99:p.ctrlKey?d.Zi(3):p.shiftKey?d.Ih(d,64,!1):d.Ih(d,32,!1);break;case 52:case 100:p.ctrlKey?d.Zi(4):p.shiftKey?d.Ih(d,.25,!1):d.Ih(d,4,!1);break;case 54:case 102:p.ctrlKey?d.Zi(6):p.shiftKey?d.Ih(d,.0625,!1):d.Ih(d,16,!1);break;case 55:p.ctrlKey?d.Zi(7):d.Fc?d.s.notification.L("Graph Disabled",
40,!0):(0<d.qd&&(d.qd-=.05,0>d.qd&&(d.qd=0)),d.Mo.current=d.kv([d.qd,d.qd],!1,d));break;case 56:case 104:p.ctrlKey?d.Zi(8):p.shiftKey?d.Ih(d,.125,!1):d.Ih(d,8,!1);break;case 57:p.ctrlKey?d.Zi(9):d.Fc?d.s.notification.L("Graph Disabled",40,!0):(1>d.qd&&(d.qd+=.05,1<d.qd&&(d.qd=1)),d.Mo.current=d.kv([d.qd,d.qd],!1,d));break;case 48:case 96:p.ctrlKey?d.Zi(0):(d.Da=1,d.Kd.current=d.Fm([d.Da,d.Da],!0,d),d.ac.current=d.Xj([1,d.ac.current[1]],!0,d));break;case 189:case 109:p.ctrlKey&&189==k?h=!1:d.Ia||(d.Da>
ViewConstants.qn?(p.shiftKey?d.Da=ViewConstants.qn:--d.Da,d.Kd.current=d.Fm([d.Da,d.Da],!0,d)):d.ac&&(d.ac.current=.01<=d.ac.current[0]&&!p.shiftKey?d.Xj([d.ac.current[0]-.01,d.ac.current[1]],!0,d):d.Xj([0,d.ac.current[1]],!0,d)));break;case 187:case 107:p.ctrlKey&&187==k?h=!1:!d.Ia&&d.ac&&(.99>=d.ac.current[0]&&!p.shiftKey?d.ac.current=d.Xj([d.ac.current[0]+.01,d.ac.current[1]],!0,d):.99>=d.ac.current[0]?d.ac.current=d.Xj([1,d.ac.current[1]],!0,d):(d.ac.current=d.Xj([1,d.ac.current[1]],!0,d),d.Da<
ViewConstants.kg&&(d.Da=p.shiftKey?ViewConstants.kg:d.Da+1,d.Kd.current=d.Fm([d.Da,d.Da],!0,d))));break;case 188:p.shiftKey&&(d.vb||d.bd)?d.LE(d):d.Bd.locked||(t=d.Bd.current[0],t=p.shiftKey?t-90:t-1,0>t&&(t+=360),d.Bd.current=d.bs([t,t],!0,d));break;case 190:p.shiftKey&&(d.vb||d.bd)?d.ME(d):d.Bd.locked||(t=d.Bd.current[0],t=p.shiftKey?t+90:t+1,360<=t&&(t-=360),d.Bd.current=d.bs([t,t],!0,d));break;case 46:d.vb?p.shiftKey?d.XB(d):d.dx(d,p.ctrlKey):p.ctrlKey&&(t=d.Cw(d,p.ctrlKey,!1))&&d.s.notification.L("Cleared [R]History cells",
120,!0);break;case 74:p.ctrlKey&&p.shiftKey?h=!1:d.S.oc.length?d.Cd||(p.shiftKey?d.vE(d):d.HD(d)):d.s.notification.L("No POIs defined",80,!0);break;case 84:p.shiftKey?d.s.pm=!d.s.pm:d.po.current=d.$n([!d.s.Ok],!0,d);break;case 85:p.shiftKey?!d.Zt&&(d.Ic=!d.Ic,d.i.c=d.Ic,d.s.Ic=d.Ic)&&(d.ha=0,d.$b=0):(d.a.ia||d.a.G)&&d.a.zc&&d.cx(d);break;case 71:p.ctrlKey?(d.Fh=!d.Fh,d.bo.current=d.xF([d.Fh],!0,d),d.s.notification.L("Auto Grid Lines "+(d.Fh?"On":"Off"),40,!0)):d.Ia||(p.shiftKey?d.lk&&(d.cp.current=
d.IF([!d.mk],!0,d),d.s.notification.L("Generation display "+(d.mk?"Relative":"Absolute"),40,!0)):(d.lv([!d.Vg],!0,d),d.Ye&&(d.Ye.current=[d.Vg],d.s.wh=!0)));break;case 70:p.ctrlKey?d.vb&&(d.zg(!0,!0,ViewConstants.it),d.s.notification.L("Fit Selection",80,!0)):p.shiftKey?d.vi.locked||(d.rc=!d.rc,d.vi.current=d.hF([d.rc],!0,d),d.s.notification.L("AutoFit "+(d.rc?"On":"Off"),40,!0)):d.jk.locked||(d.zg(!0,!0,ViewConstants.kk),d.s.notification.L("Fit Pattern",80,!0),d.Wa||(d.Dg=!0));break;case 79:p.ctrlKey?
d.bD(d):d.Ar=p.shiftKey?2:1;break;case 37:p.shiftKey?d.Yl(d.a.zoom,d.a.zoom):d.Yl(d.a.zoom,0);break;case 38:d.ha?d.Ou(d,1):d.$b?d.Mu(d,1):p.shiftKey?d.Yl(-d.a.zoom,d.a.zoom):d.Yl(0,d.a.zoom);break;case 39:p.shiftKey?d.Yl(-d.a.zoom,-d.a.zoom):d.Yl(-d.a.zoom,0);break;case 40:d.ha?d.Nu(d,1):d.$b?d.Lu(d,1):p.shiftKey?d.Yl(d.a.zoom,-d.a.zoom):d.Yl(0,-d.a.zoom);break;case 77:p.ctrlKey?(d.zg(!0,!0,ViewConstants.uC),d.s.notification.L("Center Pattern",80,!0)):p.shiftKey?d.sH(d):d.Qc&&!d.Qc.c&&(d.Qc.current[0]=
!d.Qc.current[0],d.s.wh=!0);break;case 67:p.ctrlKey?d.xE(d,p.shiftKey,p.altKey):d.cd||!d.fi||d.fi.locked||(p.shiftKey?(t=d.a.pf-1,0>t&&(d.eh?t=d.a.Ee:t=d.a.Ee-1)):(t=d.a.pf+1,d.eh?t>=d.a.Ee+1&&(t=0):t>=d.a.Ee&&(t=0)),d.om(t,d.a.sl,d),d.a.bb||d.Oj||d.s.notification.L(d.cv(d.a.pf)+" Theme",40,!0));break;case 72:p.shiftKey?(d.vo.current=d.CF([!d.Rh],!0,d),d.s.notification.L("AutoFit History Mode "+(d.Rh?"On":"Off"),40,!0)):(d.fd.length?d.ha=d.ha?0:1:d.ha?d.ha=0:d.jb||(d.ha=1),d.qk.current=d.up([d.ha],
!0,d),d.s.wh=!0);break;case 73:p.ctrlKey&&p.shiftKey?h=!1:p.ctrlKey?d.TC(d):p.shiftKey?d.xo.current=d.DF([!d.ad],!0,d):(d.ha?d.Jl===ViewConstants.yq?d.ha=0:d.th(ViewConstants.yq,d):d.jb||d.th(ViewConstants.yq,d),d.qk.current=d.up([d.ha],!0,d),d.s.wh=!0);break;case 27:d.ke?d.fd.length?(d.fd=[],d.$b=0):d.bd||d.ie?d.ys(d):d.Gj?d.oh.current=d.Tj([!1],!0,d):d.Qi?d.Hx(d):hideViewer():d.ha?d.ha=0:d.fd.length?(d.fd=[],d.$b=0):d.bd||d.ie?d.ys(d):d.Gj?d.oh.current=d.Tj([!1],!0,d):d.Qi?d.Hx(d):d.Wa&&(d.Fb.current=
d.Yd(ViewConstants.$e,!0,d));d.qk.current=d.up([d.ha],!0,d);d.s.wh=!0;break;case 33:d.ha?p.shiftKey?d.AJ(d):d.Ou(d,d.dd):d.$b?d.Mu(d,d.dd):DocConfig.Ja&&(--d.Wc,0>d.Wc&&(d.Wc=Controller.pe.length-1),d.ci(Controller.pe[d.Wc].pattern,!1));break;case 34:d.ha?p.shiftKey?d.bJ(d):d.Nu(d,d.dd):d.$b?d.Lu(d,d.dd):DocConfig.Ja&&(d.Wc+=1,d.Wc>=Controller.pe.length&&(d.Wc=0),d.ci(Controller.pe[d.Wc].pattern,!1));break;case 36:d.ha?d.ha=1:d.$b?d.$b=1:DocConfig.Ja&&(d.Wc=0,d.ci(Controller.pe[d.Wc].pattern,!1));
break;case 35:d.ha?d.ha=d.Ko-d.dd:d.$b?d.$b=d.fd.length-d.dd:DocConfig.Ja&&(d.Wc=Controller.pe.length-1,d.ci(Controller.pe[d.Wc].pattern,!1));break;case 112:d.Ia||(d.he=!d.he,d.td.current=d.Yj(d.he?ViewConstants.Vl:ViewConstants.Wl,!0,d),d.s.notification.L((d.he?"Draw":"Pan")+" Mode",40,!0));break;case 113:p.shiftKey?(d.lp.current=d.DA([!d.Kn],!0,d),d.s.notification.L("Smart Drawing "+(d.Kn?"On":"Off"),40,!0)):d.td.current=d.Yj(ViewConstants.Vl,!0,d);break;case 114:d.Ia||(d.td.current=d.Yj(ViewConstants.Vl,
!0,d),d.Gj||(d.oh.current=d.Tj([!0],!0,d)));break;case 115:d.td.Ag[ViewConstants.Ho]||(d.td.current=d.Yj(ViewConstants.Ho,!0,d));break;case 116:d.td.current=d.Yj(ViewConstants.Wl,!0,d);break;case 117:d.wo.locked||(p.ctrlKey&&(d.sq=!0),d.Ix(d));break;default:if(-1===k||116===k)h=!1}}return h}}}());
